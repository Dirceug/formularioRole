(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function $T(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hf={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function XT(){if(Ry)return Yl;Ry=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Yl.Fragment=e,Yl.jsx=i,Yl.jsxs=i,Yl}var wy;function ZT(){return wy||(wy=1,Hf.exports=XT()),Hf.exports}var tt=ZT(),Ff={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function WT(){if(Cy)return bt;Cy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function q(O,J,ct){this.props=O,this.context=J,this.refs=$,this.updater=ct||V}q.prototype.isReactComponent={},q.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=q.prototype;function nt(O,J,ct){this.props=O,this.context=J,this.refs=$,this.updater=ct||V}var et=nt.prototype=new X;et.constructor=nt,B(et,q.prototype),et.isPureReactComponent=!0;var vt=Array.isArray,ht={H:null,A:null,T:null,S:null},wt=Object.prototype.hasOwnProperty;function x(O,J,ct,at,st,Rt){return ct=Rt.ref,{$$typeof:r,type:O,key:J,ref:ct!==void 0?ct:null,props:Rt}}function R(O,J){return x(O.type,J,void 0,void 0,void 0,O.props)}function S(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function D(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ct){return J[ct]})}var M=/\/+/g;function z(O,J){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):J.toString(36)}function C(){}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function he(O,J,ct,at,st){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var St=!1;if(O===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(O.$$typeof){case r:case e:St=!0;break;case T:return St=O._init,he(St(O._payload),J,ct,at,st)}}if(St)return st=st(O),St=at===""?"."+z(O,0):at,vt(st)?(ct="",St!=null&&(ct=St.replace(M,"$&/")+"/"),he(st,J,ct,"",function(ie){return ie})):st!=null&&(S(st)&&(st=R(st,ct+(st.key==null||O&&O.key===st.key?"":(""+st.key).replace(M,"$&/")+"/")+St)),J.push(st)),1;St=0;var fe=at===""?".":at+":";if(vt(O))for(var zt=0;zt<O.length;zt++)at=O[zt],Rt=fe+z(at,zt),St+=he(at,J,ct,Rt,st);else if(zt=I(O),typeof zt=="function")for(O=zt.call(O),zt=0;!(at=O.next()).done;)at=at.value,Rt=fe+z(at,zt++),St+=he(at,J,ct,Rt,st);else if(Rt==="object"){if(typeof O.then=="function")return he(ye(O),J,ct,at,st);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return St}function rt(O,J,ct){if(O==null)return O;var at=[],st=0;return he(O,at,"","",function(Rt){return J.call(ct,Rt,st++)}),at}function yt(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(ct){(O._status===0||O._status===-1)&&(O._status=1,O._result=ct)},function(ct){(O._status===0||O._status===-1)&&(O._status=2,O._result=ct)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var dt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qt(){}return bt.Children={map:rt,forEach:function(O,J,ct){rt(O,function(){J.apply(this,arguments)},ct)},count:function(O){var J=0;return rt(O,function(){J++}),J},toArray:function(O){return rt(O,function(J){return J})||[]},only:function(O){if(!S(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},bt.Component=q,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=nt,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(O){return function(){return O.apply(null,arguments)}},bt.cloneElement=function(O,J,ct){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=B({},O.props),st=O.key,Rt=void 0;if(J!=null)for(St in J.ref!==void 0&&(Rt=void 0),J.key!==void 0&&(st=""+J.key),J)!wt.call(J,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&J.ref===void 0||(at[St]=J[St]);var St=arguments.length-2;if(St===1)at.children=ct;else if(1<St){for(var fe=Array(St),zt=0;zt<St;zt++)fe[zt]=arguments[zt+2];at.children=fe}return x(O.type,st,void 0,void 0,Rt,at)},bt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},bt.createElement=function(O,J,ct){var at,st={},Rt=null;if(J!=null)for(at in J.key!==void 0&&(Rt=""+J.key),J)wt.call(J,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(st[at]=J[at]);var St=arguments.length-2;if(St===1)st.children=ct;else if(1<St){for(var fe=Array(St),zt=0;zt<St;zt++)fe[zt]=arguments[zt+2];st.children=fe}if(O&&O.defaultProps)for(at in St=O.defaultProps,St)st[at]===void 0&&(st[at]=St[at]);return x(O,Rt,void 0,void 0,null,st)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(O){return{$$typeof:m,render:O}},bt.isValidElement=S,bt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:yt}},bt.memo=function(O,J){return{$$typeof:y,type:O,compare:J===void 0?null:J}},bt.startTransition=function(O){var J=ht.T,ct={};ht.T=ct;try{var at=O(),st=ht.S;st!==null&&st(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(qt,dt)}catch(Rt){dt(Rt)}finally{ht.T=J}},bt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},bt.use=function(O){return ht.H.use(O)},bt.useActionState=function(O,J,ct){return ht.H.useActionState(O,J,ct)},bt.useCallback=function(O,J){return ht.H.useCallback(O,J)},bt.useContext=function(O){return ht.H.useContext(O)},bt.useDebugValue=function(){},bt.useDeferredValue=function(O,J){return ht.H.useDeferredValue(O,J)},bt.useEffect=function(O,J){return ht.H.useEffect(O,J)},bt.useId=function(){return ht.H.useId()},bt.useImperativeHandle=function(O,J,ct){return ht.H.useImperativeHandle(O,J,ct)},bt.useInsertionEffect=function(O,J){return ht.H.useInsertionEffect(O,J)},bt.useLayoutEffect=function(O,J){return ht.H.useLayoutEffect(O,J)},bt.useMemo=function(O,J){return ht.H.useMemo(O,J)},bt.useOptimistic=function(O,J){return ht.H.useOptimistic(O,J)},bt.useReducer=function(O,J,ct){return ht.H.useReducer(O,J,ct)},bt.useRef=function(O){return ht.H.useRef(O)},bt.useState=function(O){return ht.H.useState(O)},bt.useSyncExternalStore=function(O,J,ct){return ht.H.useSyncExternalStore(O,J,ct)},bt.useTransition=function(){return ht.H.useTransition()},bt.version="19.0.0",bt}var Dy;function Od(){return Dy||(Dy=1,Ff.exports=WT()),Ff.exports}var Q=Od();const JT=$T(Q);var Gf={exports:{}},$l={},Qf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function tA(){return Iy||(Iy=1,function(r){function e(rt,yt){var dt=rt.length;rt.push(yt);t:for(;0<dt;){var qt=dt-1>>>1,O=rt[qt];if(0<o(O,yt))rt[qt]=yt,rt[dt]=O,dt=qt;else break t}}function i(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var yt=rt[0],dt=rt.pop();if(dt!==yt){rt[0]=dt;t:for(var qt=0,O=rt.length,J=O>>>1;qt<J;){var ct=2*(qt+1)-1,at=rt[ct],st=ct+1,Rt=rt[st];if(0>o(at,dt))st<O&&0>o(Rt,at)?(rt[qt]=Rt,rt[st]=dt,qt=st):(rt[qt]=at,rt[ct]=dt,qt=ct);else if(st<O&&0>o(Rt,dt))rt[qt]=Rt,rt[st]=dt,qt=st;else break t}}return yt}function o(rt,yt){var dt=rt.sortIndex-yt.sortIndex;return dt!==0?dt:rt.id-yt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],y=[],T=1,w=null,I=3,V=!1,B=!1,$=!1,q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function et(rt){for(var yt=i(y);yt!==null;){if(yt.callback===null)s(y);else if(yt.startTime<=rt)s(y),yt.sortIndex=yt.expirationTime,e(p,yt);else break;yt=i(y)}}function vt(rt){if($=!1,et(rt),!B)if(i(p)!==null)B=!0,ye();else{var yt=i(y);yt!==null&&he(vt,yt.startTime-rt)}}var ht=!1,wt=-1,x=5,R=-1;function S(){return!(r.unstable_now()-R<x)}function D(){if(ht){var rt=r.unstable_now();R=rt;var yt=!0;try{t:{B=!1,$&&($=!1,X(wt),wt=-1),V=!0;var dt=I;try{e:{for(et(rt),w=i(p);w!==null&&!(w.expirationTime>rt&&S());){var qt=w.callback;if(typeof qt=="function"){w.callback=null,I=w.priorityLevel;var O=qt(w.expirationTime<=rt);if(rt=r.unstable_now(),typeof O=="function"){w.callback=O,et(rt),yt=!0;break e}w===i(p)&&s(p),et(rt)}else s(p);w=i(p)}if(w!==null)yt=!0;else{var J=i(y);J!==null&&he(vt,J.startTime-rt),yt=!1}}break t}finally{w=null,I=dt,V=!1}yt=void 0}}finally{yt?M():ht=!1}}}var M;if(typeof nt=="function")M=function(){nt(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,C=z.port2;z.port1.onmessage=D,M=function(){C.postMessage(null)}}else M=function(){q(D,0)};function ye(){ht||(ht=!0,M())}function he(rt,yt){wt=q(function(){rt(r.unstable_now())},yt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_continueExecution=function(){B||V||(B=!0,ye())},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(rt){switch(I){case 1:case 2:case 3:var yt=3;break;default:yt=I}var dt=I;I=yt;try{return rt()}finally{I=dt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(rt,yt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var dt=I;I=rt;try{return yt()}finally{I=dt}},r.unstable_scheduleCallback=function(rt,yt,dt){var qt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?qt+dt:qt):dt=qt,rt){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=dt+O,rt={id:T++,callback:yt,priorityLevel:rt,startTime:dt,expirationTime:O,sortIndex:-1},dt>qt?(rt.sortIndex=dt,e(y,rt),i(p)===null&&rt===i(y)&&($?(X(wt),wt=-1):$=!0,he(vt,dt-qt))):(rt.sortIndex=O,e(p,rt),B||V||(B=!0,ye())),rt},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(rt){var yt=I;return function(){var dt=I;I=yt;try{return rt.apply(this,arguments)}finally{I=dt}}}}(Kf)),Kf}var Vy;function eA(){return Vy||(Vy=1,Qf.exports=tA()),Qf.exports}var Yf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function nA(){if(Oy)return Fe;Oy=1;var r=Od();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,T)},Fe.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,w=m(T,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:V}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:I,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var Ny;function iA(){if(Ny)return Yf.exports;Ny=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yf.exports=nA(),Yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function rA(){if(My)return $l;My=1;var r=eA(),e=Od(),i=iA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),vt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function wt(t){return t===null||typeof t!="object"?null:(t=ht&&t[ht]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case $:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Provider";case I:return(t._context.displayName||"Context")+".Consumer";case B:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case nt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,z;function C(t){if(M===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+z}var ye=!1;function he(t,n){if(!t||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var j=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){j=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){j=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),U=E.split(`
`);for(h=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===b.length||h===U.length)for(l=b.length-1,h=U.length-1;1<=l&&0<=h&&b[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(b[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||b[l]!==U[h]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?C(a):""}function rt(t){switch(t.tag){case 26:case 27:case 5:return C(t.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function yt(t){try{var n="";do n+=rt(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dt(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function qt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function O(t){if(dt(t)!==t)throw Error(s(188))}function J(t){var n=t.alternate;if(!n){if(n=dt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return O(h),t;if(f===l)return O(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=f;break}if(E===l){v=!0,l=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,l=h;break}if(E===l){v=!0,l=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function ct(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ct(t),n!==null)return n;t=t.sibling}return null}var at=Array.isArray,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function zt(t){return{current:t}}function ie(t){0>fe||(t.current=St[fe],St[fe]=null,fe--)}function Gt(t,n){fe++,St[fe]=t.current,t.current=n}var Ye=zt(null),hi=zt(null),mn=zt(null),Fi=zt(null);function Gi(t,n){switch(Gt(mn,n),Gt(hi,t),Gt(Ye,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ty(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ty(t),n=ey(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ye),Gt(Ye,n)}function fi(){ie(Ye),ie(hi),ie(mn)}function Hs(t){t.memoizedState!==null&&Gt(Fi,t);var n=Ye.current,a=ey(n,t.type);n!==a&&(Gt(hi,t),Gt(Ye,a))}function xa(t){hi.current===t&&(ie(Ye),ie(hi)),Fi.current===t&&(ie(Fi),Hl._currentValue=Rt)}var Ua=Object.prototype.hasOwnProperty,Hr=r.unstable_scheduleCallback,La=r.unstable_cancelCallback,Fc=r.unstable_shouldYield,Fs=r.unstable_requestPaint,tn=r.unstable_now,So=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,di=r.unstable_NormalPriority,bo=r.unstable_LowPriority,Gs=r.unstable_IdlePriority,Gc=r.log,Fr=r.unstable_setDisableYieldValue,Qi=null,qe=null;function Qs(t){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Qi,t,void 0,(t.current.flags&128)===128)}catch{}}function qn(t){if(typeof Gc=="function"&&Fr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Qi,t)}catch{}}var $e=Math.clz32?Math.clz32:wo,Ks=Math.log,Ro=Math.LN2;function wo(t){return t>>>=0,t===0?32:31-(Ks(t)/Ro|0)|0}var Hn=128,Ki=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,f=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=Nn(a):(f&=E,f!==0?l=Nn(f):t||(v=E&~v,v!==0&&(l=Nn(v))))):(E=a&~h,E!==0?l=Nn(E):f!==0?l=Nn(f):t||(v=a&~v,v!==0&&(l=Nn(v)))),l===0?0:n!==0&&n!==l&&!(n&h)&&(h=l&-l,v=n&-n,h>=v||h===32&&(v&4194176)!==0)?n:l}function Yi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Pa(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ys(){var t=Hn;return Hn<<=1,!(Hn&4194176)&&(Hn=128),t}function $i(){var t=Ki;return Ki<<=1,!(Ki&62914560)&&(Ki=4194304),t}function za(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Co(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-$e(a),Z=1<<G;E[G]=0,b[G]=-1;var j=U[G];if(j!==null)for(U[G]=null,G=0;G<j.length;G++){var F=j[G];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&Xi(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Xi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-$e(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Zi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-$e(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Do(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Io(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:vy(t.type))}function Wi(t,n){var a=st.p;try{return st.p=t,n()}finally{st.p=a}}var Fn=Math.random().toString(36).slice(2),De="__reactFiber$"+Fn,ve="__reactProps$"+Fn,mi="__reactContainer$"+Fn,Gr="__reactEvents$"+Fn,ka="__reactListeners$"+Fn,Gn="__reactHandles$"+Fn,$s="__reactResources$"+Fn,Ji="__reactMarker$"+Fn;function Qr(t){delete t[De],delete t[ve],delete t[Gr],delete t[ka],delete t[Gn]}function Mn(t){var n=t[De];if(n)return n;for(var a=t.parentNode;a;){if(n=a[mi]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ry(t);t!==null;){if(a=t[De])return a;t=ry(t)}return n}t=a,a=t.parentNode}return null}function gi(t){if(t=t[De]||t[mi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function tr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function er(t){var n=t[$s];return n||(n=t[$s]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Jt(t){t[Ji]=!0}var Xs=new Set,Ba={};function sn(t,n){en(t,n),en(t+"Capture",n)}function en(t,n){for(Ba[t]=n,t=0;t<n.length;t++)Xs.add(n[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zs={},Ws={};function Vo(t){return Ua.call(Ws,t)?!0:Ua.call(Zs,t)?!1:Qc.test(t)?Ws[t]=!0:(Zs[t]=!0,!1)}function nr(t,n,a){if(Vo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ir(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function pn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Kc(t){var n=Oo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Kr(t){t._valueTracker||(t._valueTracker=Kc(t))}function Js(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Oo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ja(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pi=/[\n"\\]/g;function re(t){return t.replace(pi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rr(t,n,a,l,h,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?qa(t,v,Xe(n)):a!=null?qa(t,v,Xe(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Yr(t,n,a,l,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function qa(t,n,a){n==="number"&&ja(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kt(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function $r(t,n,a){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Xe(a):""}function ar(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Xe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Yc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function No(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&tl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&tl(t,f,n[f])}function el(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qn(t){return Xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _n=null;function Ha(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yi=null,_i=null;function vi(t){var n=gi(t);if(n&&(t=n.stateNode)){var a=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(rr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[ve]||null;if(!h)throw Error(s(90));rr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Js(l)}break t;case"textarea":$r(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&kt(t,!!a.multiple,n,!1)}}}var nl=!1;function Mo(t,n,a){if(nl)return t(n,a);nl=!0;try{var l=t(n);return l}finally{if(nl=!1,(yi!==null||_i!==null)&&(bu(),yi&&(n=yi,t=_i,_i=yi=null,vi(n),t)))for(n=0;n<t.length;n++)vi(t[n])}}function Xr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var vn=!1;if(ln)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{vn=!1}var Kn=null,sr=null,Ei=null;function il(){if(Ei)return Ei;var t,n=sr,a=n.length,l,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return Ei=h.slice(t,1<l?1-l:void 0)}function Yn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $n(){return!0}function rl(){return!1}function Ie(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$n:rl,this.isPropagationStopped=rl,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Ie(Ht),Wr=D({},Ht,{view:0,detail:0}),xo=Ie(Wr),Ga,Qa,Xn,Jr=D({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xn&&(Xn&&t.type==="mousemove"?(Ga=t.screenX-Xn.screenX,Qa=t.screenY-Xn.screenY):Qa=Ga=0,Xn=t),Ga)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),En=Ie(Jr),Uo=D({},Jr,{dataTransfer:0}),Zc=Ie(Uo),ta=D({},Wr,{relatedTarget:0}),Ka=Ie(ta),al=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=Ie(al),Lo=D({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$a=Ie(Lo),Wc=D({},Ht,{data:0}),sl=Ie(Wc),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zo[t])?!!n[t]:!1}function na(){return ll}var ko=D({},Wr,{key:function(t){if(t.key){var n=ea[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Po[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xa=Ie(ko),Bo=D({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=Ie(Bo),Ti=D({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),jo=Ie(Ti),qo=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ho=Ie(qo),Fo=D({},Jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=Ie(Fo),Ze=D({},Ht,{newState:0,oldState:0}),Go=Ie(Ze),Qo=[9,13,27,32],Zn=ln&&"CompositionEvent"in window,u=null;ln&&"documentMode"in document&&(u=document.documentMode);var g=ln&&"TextEvent"in window&&!u,_=ln&&(!Zn||u&&8<u&&11>=u),A=" ",P=!1;function H(t,n){switch(t){case"keyup":return Qo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Ee(t,n){switch(t){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return t=n.data,t===A&&P?null:t;default:return null}}function xt(t,n){if(Mt)return t==="compositionend"||!Zn&&H(t,n)?(t=il(),Ei=sr=Kn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function Ai(t,n,a,l){yi?_i?_i.push(l):_i=[l]:yi=l,n=Iu(n,"onChange"),0<n.length&&(a=new Fa("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ue=null,Wn=null;function ul(t){$p(t,0)}function Ko(t){var n=tr(t);if(Js(n))return t}function bm(t,n){if(t==="change")return n}var Rm=!1;if(ln){var Jc;if(ln){var th="oninput"in document;if(!th){var wm=document.createElement("div");wm.setAttribute("oninput","return;"),th=typeof wm.oninput=="function"}Jc=th}else Jc=!1;Rm=Jc&&(!document.documentMode||9<document.documentMode)}function Cm(){Ue&&(Ue.detachEvent("onpropertychange",Dm),Wn=Ue=null)}function Dm(t){if(t.propertyName==="value"&&Ko(Wn)){var n=[];Ai(n,Wn,t,Ha(t)),Mo(ul,n)}}function R0(t,n,a){t==="focusin"?(Cm(),Ue=n,Wn=a,Ue.attachEvent("onpropertychange",Dm)):t==="focusout"&&Cm()}function w0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ko(Wn)}function C0(t,n){if(t==="click")return Ko(n)}function D0(t,n){if(t==="input"||t==="change")return Ko(n)}function I0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:I0;function cl(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ua.call(n,h)||!on(t[h],n[h]))return!1}return!0}function Im(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vm(t,n){var a=Im(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Im(a)}}function Om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ja(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ja(t.document)}return n}function eh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function V0(t,n){var a=Nm(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Om(n.ownerDocument.documentElement,n)){if(l!==null&&eh(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,f=Math.min(l.start,h);l=l.end===void 0?f:Math.min(l.end,h),!a.extend&&f>l&&(h=l,l=f,f=h),h=Vm(n,f);var v=Vm(n,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var O0=ln&&"documentMode"in document&&11>=document.documentMode,Wa=null,nh=null,hl=null,ih=!1;function Mm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ih||Wa==null||Wa!==ja(l)||(l=Wa,"selectionStart"in l&&eh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Iu(nh,"onSelect"),0<l.length&&(n=new Fa("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Wa)))}function ia(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ja={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},rh={},xm={};ln&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ra(t){if(rh[t])return rh[t];if(!Ja[t])return t;var n=Ja[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in xm)return rh[t]=n[a];return t}var Um=ra("animationend"),Lm=ra("animationiteration"),Pm=ra("animationstart"),N0=ra("transitionrun"),M0=ra("transitionstart"),x0=ra("transitioncancel"),zm=ra("transitionend"),km=new Map,Bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function xn(t,n){km.set(t,n),sn(n,[t])}var Tn=[],ts=0,ah=0;function Yo(){for(var t=ts,n=ah=ts=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var h=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&jm(a,h,f)}}function $o(t,n,a,l){Tn[ts++]=t,Tn[ts++]=n,Tn[ts++]=a,Tn[ts++]=l,ah|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sh(t,n,a,l){return $o(t,n,a,l),Xo(t)}function lr(t,n){return $o(t,null,null,n),Xo(t)}function jm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;h&&n!==null&&t.tag===3&&(f=t.stateNode,h=31-$e(a),f=f.hiddenUpdates,t=f[h],t===null?f[h]=[n]:t.push(n),n.lane=a|536870912)}function Xo(t){if(50<Ll)throw Ll=0,df=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var es={},qm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var a=qm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:yt(n)},qm.set(t,n),n)}return{value:t,source:n,stack:yt(n)}}var ns=[],is=0,Zo=null,Wo=0,Sn=[],bn=0,aa=null,Si=1,bi="";function sa(t,n){ns[is++]=Wo,ns[is++]=Zo,Zo=t,Wo=n}function Hm(t,n,a){Sn[bn++]=Si,Sn[bn++]=bi,Sn[bn++]=aa,aa=t;var l=Si;t=bi;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var f=32-$e(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Si=1<<32-$e(n)+h|a<<h|l,bi=f+t}else Si=1<<f|a<<h|l,bi=t}function lh(t){t.return!==null&&(sa(t,1),Hm(t,1,0))}function oh(t){for(;t===Zo;)Zo=ns[--is],ns[is]=null,Wo=ns[--is],ns[is]=null;for(;t===aa;)aa=Sn[--bn],Sn[bn]=null,bi=Sn[--bn],Sn[bn]=null,Si=Sn[--bn],Sn[bn]=null}var We=null,Le=null,Bt=!1,Un=null,Jn=!1,uh=Error(s(519));function la(t){var n=Error(s(418,""));throw ml(An(n,t)),uh}function Fm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[De]=t,n[ve]=l,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<zl.length;a++)Ot(zl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Yr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Kr(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),ar(n,l.value,l.defaultValue,l.children),Kr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Jp(n.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Vu),n=!0):n=!1,n||la(t)}function Gm(t){for(We=t.return;We;)switch(We.tag){case 3:case 27:Jn=!0;return;case 5:case 13:Jn=!1;return;default:We=We.return}}function fl(t){if(t!==We)return!1;if(!Bt)return Gm(t),Bt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vf(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Le&&la(t),Gm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Le=Pn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=We?Pn(t.stateNode.nextSibling):null;return!0}function dl(){Le=We=null,Bt=!1}function ml(t){Un===null?Un=[t]:Un.push(t)}var gl=Error(s(460)),Qm=Error(s(474)),ch={then:function(){}};function Km(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jo(){}function Ym(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Jo,Jo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===gl?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Jo,Jo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===gl?Error(s(483)):t}throw pl=n,gl}}var pl=null;function $m(){if(pl===null)throw Error(s(459));var t=pl;return pl=null,t}var rs=null,yl=0;function tu(t){var n=yl;return yl+=1,rs===null&&(rs=[]),Ym(rs,t,n)}function _l(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function eu(t,n){throw n.$$typeof===c?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Xm(t){var n=t._init;return n(t._payload)}function Zm(t){function n(L,N){if(t){var k=L.deletions;k===null?(L.deletions=[N],L.flags|=16):k.push(N)}}function a(L,N){if(!t)return null;for(;N!==null;)n(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function h(L,N){return L=vr(L,N),L.index=0,L.sibling=null,L}function f(L,N,k){return L.index=k,t?(k=L.alternate,k!==null?(k=k.index,k<N?(L.flags|=33554434,N):k):(L.flags|=33554434,N)):(L.flags|=1048576,N)}function v(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function E(L,N,k,K){return N===null||N.tag!==6?(N=af(k,L.mode,K),N.return=L,N):(N=h(N,k),N.return=L,N)}function b(L,N,k,K){var ot=k.type;return ot===p?G(L,N,k.props.children,K,k.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===nt&&Xm(ot)===N.type)?(N=h(N,k.props),_l(N,k),N.return=L,N):(N=vu(k.type,k.key,k.props,null,L.mode,K),_l(N,k),N.return=L,N)}function U(L,N,k,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=sf(k,L.mode,K),N.return=L,N):(N=h(N,k.children||[]),N.return=L,N)}function G(L,N,k,K,ot){return N===null||N.tag!==7?(N=ya(k,L.mode,K,ot),N.return=L,N):(N=h(N,k),N.return=L,N)}function Z(L,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=af(""+N,L.mode,k),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return k=vu(N.type,N.key,N.props,null,L.mode,k),_l(k,N),k.return=L,k;case m:return N=sf(N,L.mode,k),N.return=L,N;case nt:var K=N._init;return N=K(N._payload),Z(L,N,k)}if(at(N)||wt(N))return N=ya(N,L.mode,k,null),N.return=L,N;if(typeof N.then=="function")return Z(L,tu(N),k);if(N.$$typeof===V)return Z(L,pu(L,N),k);eu(L,N)}return null}function j(L,N,k,K){var ot=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(L,N,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case d:return k.key===ot?b(L,N,k,K):null;case m:return k.key===ot?U(L,N,k,K):null;case nt:return ot=k._init,k=ot(k._payload),j(L,N,k,K)}if(at(k)||wt(k))return ot!==null?null:G(L,N,k,K,null);if(typeof k.then=="function")return j(L,N,tu(k),K);if(k.$$typeof===V)return j(L,N,pu(L,k),K);eu(L,k)}return null}function F(L,N,k,K,ot){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(k)||null,E(N,L,""+K,ot);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case d:return L=L.get(K.key===null?k:K.key)||null,b(N,L,K,ot);case m:return L=L.get(K.key===null?k:K.key)||null,U(N,L,K,ot);case nt:var Dt=K._init;return K=Dt(K._payload),F(L,N,k,K,ot)}if(at(K)||wt(K))return L=L.get(k)||null,G(N,L,K,ot,null);if(typeof K.then=="function")return F(L,N,k,tu(K),ot);if(K.$$typeof===V)return F(L,N,k,pu(N,K),ot);eu(N,K)}return null}function ut(L,N,k,K){for(var ot=null,Dt=null,ft=N,pt=N=0,Me=null;ft!==null&&pt<k.length;pt++){ft.index>pt?(Me=ft,ft=null):Me=ft.sibling;var jt=j(L,ft,k[pt],K);if(jt===null){ft===null&&(ft=Me);break}t&&ft&&jt.alternate===null&&n(L,ft),N=f(jt,N,pt),Dt===null?ot=jt:Dt.sibling=jt,Dt=jt,ft=Me}if(pt===k.length)return a(L,ft),Bt&&sa(L,pt),ot;if(ft===null){for(;pt<k.length;pt++)ft=Z(L,k[pt],K),ft!==null&&(N=f(ft,N,pt),Dt===null?ot=ft:Dt.sibling=ft,Dt=ft);return Bt&&sa(L,pt),ot}for(ft=l(ft);pt<k.length;pt++)Me=F(ft,L,pt,k[pt],K),Me!==null&&(t&&Me.alternate!==null&&ft.delete(Me.key===null?pt:Me.key),N=f(Me,N,pt),Dt===null?ot=Me:Dt.sibling=Me,Dt=Me);return t&&ft.forEach(function(wr){return n(L,wr)}),Bt&&sa(L,pt),ot}function Tt(L,N,k,K){if(k==null)throw Error(s(151));for(var ot=null,Dt=null,ft=N,pt=N=0,Me=null,jt=k.next();ft!==null&&!jt.done;pt++,jt=k.next()){ft.index>pt?(Me=ft,ft=null):Me=ft.sibling;var wr=j(L,ft,jt.value,K);if(wr===null){ft===null&&(ft=Me);break}t&&ft&&wr.alternate===null&&n(L,ft),N=f(wr,N,pt),Dt===null?ot=wr:Dt.sibling=wr,Dt=wr,ft=Me}if(jt.done)return a(L,ft),Bt&&sa(L,pt),ot;if(ft===null){for(;!jt.done;pt++,jt=k.next())jt=Z(L,jt.value,K),jt!==null&&(N=f(jt,N,pt),Dt===null?ot=jt:Dt.sibling=jt,Dt=jt);return Bt&&sa(L,pt),ot}for(ft=l(ft);!jt.done;pt++,jt=k.next())jt=F(ft,L,pt,jt.value,K),jt!==null&&(t&&jt.alternate!==null&&ft.delete(jt.key===null?pt:jt.key),N=f(jt,N,pt),Dt===null?ot=jt:Dt.sibling=jt,Dt=jt);return t&&ft.forEach(function(YT){return n(L,YT)}),Bt&&sa(L,pt),ot}function le(L,N,k,K){if(typeof k=="object"&&k!==null&&k.type===p&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case d:t:{for(var ot=k.key;N!==null;){if(N.key===ot){if(ot=k.type,ot===p){if(N.tag===7){a(L,N.sibling),K=h(N,k.props.children),K.return=L,L=K;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===nt&&Xm(ot)===N.type){a(L,N.sibling),K=h(N,k.props),_l(K,k),K.return=L,L=K;break t}a(L,N);break}else n(L,N);N=N.sibling}k.type===p?(K=ya(k.props.children,L.mode,K,k.key),K.return=L,L=K):(K=vu(k.type,k.key,k.props,null,L.mode,K),_l(K,k),K.return=L,L=K)}return v(L);case m:t:{for(ot=k.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(L,N.sibling),K=h(N,k.children||[]),K.return=L,L=K;break t}else{a(L,N);break}else n(L,N);N=N.sibling}K=sf(k,L.mode,K),K.return=L,L=K}return v(L);case nt:return ot=k._init,k=ot(k._payload),le(L,N,k,K)}if(at(k))return ut(L,N,k,K);if(wt(k)){if(ot=wt(k),typeof ot!="function")throw Error(s(150));return k=ot.call(k),Tt(L,N,k,K)}if(typeof k.then=="function")return le(L,N,tu(k),K);if(k.$$typeof===V)return le(L,N,pu(L,k),K);eu(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(L,N.sibling),K=h(N,k),K.return=L,L=K):(a(L,N),K=af(k,L.mode,K),K.return=L,L=K),v(L)):a(L,N)}return function(L,N,k,K){try{yl=0;var ot=le(L,N,k,K);return rs=null,ot}catch(ft){if(ft===gl)throw ft;var Dt=Dn(29,ft,null,L.mode);return Dt.lanes=K,Dt.return=L,Dt}finally{}}}var oa=Zm(!0),Wm=Zm(!1),as=zt(null),nu=zt(0);function Jm(t,n){t=Ui,Gt(nu,t),Gt(as,n),Ui=t|n.baseLanes}function hh(){Gt(nu,Ui),Gt(as,as.current)}function fh(){Ui=nu.current,ie(as),ie(nu)}var Rn=zt(null),ti=null;function or(t){var n=t.alternate;Gt(Ae,Ae.current&1),Gt(Rn,t),ti===null&&(n===null||as.current!==null||n.memoizedState!==null)&&(ti=t)}function tg(t){if(t.tag===22){if(Gt(Ae,Ae.current),Gt(Rn,t),ti===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ti=t)}}else ur()}function ur(){Gt(Ae,Ae.current),Gt(Rn,Rn.current)}function Ri(t){ie(Rn),ti===t&&(ti=null),ie(Ae)}var Ae=zt(0);function iu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var U0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},L0=r.unstable_scheduleCallback,P0=r.unstable_NormalPriority,Se={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dh(){return{controller:new U0,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&L0(P0,function(){t.controller.abort()})}var El=null,mh=0,ss=0,ls=null;function z0(t,n){if(El===null){var a=El=[];mh=0,ss=Tf(),ls={status:"pending",value:void 0,then:function(l){a.push(l)}}}return mh++,n.then(eg,eg),n}function eg(){if(--mh===0&&El!==null){ls!==null&&(ls.status="fulfilled");var t=El;El=null,ss=0,ls=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function k0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ng=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&z0(t,n),ng!==null&&ng(t,n)};var ua=zt(null);function gh(){var t=ua.current;return t!==null?t:$t.pooledCache}function ru(t,n){n===null?Gt(ua,ua.current):Gt(ua,n.pool)}function ig(){var t=gh();return t===null?null:{parent:Se._currentValue,pool:t}}var cr=0,Ct=null,Qt=null,de=null,au=!1,os=!1,ca=!1,su=0,Tl=0,us=null,B0=0;function ue(){throw Error(s(321))}function ph(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!on(t[a],n[a]))return!1;return!0}function yh(t,n,a,l,h,f){return cr=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?ha:hr,ca=!1,f=a(l,h),ca=!1,os&&(f=ag(n,a,l,h)),rg(t),f}function rg(t){S.H=ei;var n=Qt!==null&&Qt.next!==null;if(cr=0,de=Qt=Ct=null,au=!1,Tl=0,us=null,n)throw Error(s(300));t===null||Oe||(t=t.dependencies,t!==null&&gu(t)&&(Oe=!0))}function ag(t,n,a,l){Ct=t;var h=0;do{if(os&&(us=null),Tl=0,os=!1,25<=h)throw Error(s(301));if(h+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=fa,f=n(a,l)}while(os);return f}function j0(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?Al(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function _h(){var t=su!==0;return su=0,t}function vh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Eh(t){if(au){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}au=!1}cr=0,de=Qt=Ct=null,os=!1,Tl=su=0,us=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ct.memoizedState=de=t:de=de.next=t}return de}var lu;lu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Al(t){var n=Tl;return Tl+=1,us===null&&(us=[]),t=Ym(us,t,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?ha:hr),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===V)return He(t)}throw Error(s(438,String(t)))}function Th(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lu(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=vt;return n.index++,a}function wi(t,n){return typeof n=="function"?n(t):n}function uu(t){var n=me();return Ah(n,Qt,t)}function Ah(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=v=null,b=null,U=n,G=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(Ut&Z)===Z:(cr&Z)===Z){var j=U.revertLane;if(j===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===ss&&(G=!0);else if((cr&j)===j){U=U.next,j===ss&&(G=!0);continue}else Z={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},b===null?(E=b=Z,v=f):b=b.next=Z,Ct.lanes|=j,Er|=j;Z=U.action,ca&&a(f,Z),f=U.hasEagerState?U.eagerState:a(f,Z)}else j={lane:Z,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},b===null?(E=b=j,v=f):b=b.next=j,Ct.lanes|=Z,Er|=Z;U=U.next}while(U!==null&&U!==n);if(b===null?v=f:b.next=E,!on(f,t.memoizedState)&&(Oe=!0,G&&(a=ls,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=b,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);on(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function sg(t,n,a){var l=Ct,h=me(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!on((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Oe=!0),h=h.queue,wh(ug.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,cs(9,og.bind(null,l,h,a,n),{destroy:void 0},null),$t===null)throw Error(s(349));f||cr&60||lg(l,n,a)}return a}function lg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=lu(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function og(t,n,a,l){n.value=a,n.getSnapshot=l,cg(n)&&hg(t)}function ug(t,n,a){return a(function(){cg(n)&&hg(t)})}function cg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!on(t,a)}catch{return!0}}function hg(t){var n=lr(t,2);n!==null&&Je(n,t,2)}function bh(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),ca){qn(!0);try{a()}finally{qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},n}function fg(t,n,a,l){return t.baseState=a,Ah(t,Qt,typeof l=="function"?l:wi)}function q0(t,n,a,l,h){if(fu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};S.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,dg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function dg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=S.T,v={};S.T=v;try{var E=a(h,l),b=S.S;b!==null&&b(v,E),mg(t,n,E)}catch(U){Rh(t,n,U)}finally{S.T=f}}else try{f=a(h,l),mg(t,n,f)}catch(U){Rh(t,n,U)}}function mg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gg(t,n,l)},function(l){return Rh(t,n,l)}):gg(t,n,a)}function gg(t,n,a){n.status="fulfilled",n.value=a,pg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,dg(t,a)))}function Rh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,pg(n),n=n.next;while(n!==l)}t.action=null}function pg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function yg(t,n){return n}function _g(t,n){if(Bt){var a=$t.formState;if(a!==null){t:{var l=Ct;if(Bt){if(Le){e:{for(var h=Le,f=Jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Le=Pn(h.nextSibling),l=h.data==="F!";break t}}la(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:n},a.queue=l,a=Lg.bind(null,Ct,l),l.dispatch=a,l=bh(!1),f=Oh.bind(null,Ct,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=q0.bind(null,Ct,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function vg(t){var n=me();return Eg(n,Qt,t)}function Eg(t,n,a){n=Ah(t,n,yg)[0],t=uu(wi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Al(n):n;var l=me(),h=l.queue,f=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,cs(9,H0.bind(null,h,a),{destroy:void 0},null)),[n,f,t]}function H0(t,n){t.action=n}function Tg(t){var n=me(),a=Qt;if(a!==null)return Eg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function cs(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=lu(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Ag(){return me().memoizedState}function cu(t,n,a,l){var h=nn();Ct.flags|=t,h.memoizedState=cs(1|n,a,{destroy:void 0},l===void 0?null:l)}function hu(t,n,a,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&ph(l,Qt.memoizedState.deps)?h.memoizedState=cs(n,a,f,l):(Ct.flags|=t,h.memoizedState=cs(1|n,a,f,l))}function Sg(t,n){cu(8390656,8,t,n)}function wh(t,n){hu(2048,8,t,n)}function bg(t,n){return hu(4,2,t,n)}function Rg(t,n){return hu(4,4,t,n)}function wg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cg(t,n,a){a=a!=null?a.concat([t]):null,hu(4,4,wg.bind(null,n,t),a)}function Ch(){}function Dg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ph(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Ig(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ph(n,l[1]))return l[0];if(l=t(),ca){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[l,n],l}function Dh(t,n,a){return a===void 0||cr&1073741824?t.memoizedState=n:(t.memoizedState=a,t=Op(),Ct.lanes|=t,Er|=t,a)}function Vg(t,n,a,l){return on(a,n)?a:as.current!==null?(t=Dh(t,a,l),on(t,n)||(Oe=!0),t):cr&42?(t=Op(),Ct.lanes|=t,Er|=t,n):(Oe=!0,t.memoizedState=a)}function Og(t,n,a,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var v=S.T,E={};S.T=E,Oh(t,!1,n,a);try{var b=h(),U=S.S;if(U!==null&&U(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=k0(b,l);Sl(t,n,G,fn(t))}else Sl(t,n,l,fn(t))}catch(Z){Sl(t,n,{then:function(){},status:"rejected",reason:Z},fn())}finally{st.p=f,S.T=v}}function F0(){}function Ih(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Ng(t).queue;Og(t,h,n,Rt,a===null?F0:function(){return Mg(t),a(l)})}function Ng(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:Rt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mg(t){var n=Ng(t).next.queue;Sl(t,n,{},fn())}function Vh(){return He(Hl)}function xg(){return me().memoizedState}function Ug(){return me().memoizedState}function G0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();t=mr(a);var l=gr(n,t,a);l!==null&&(Je(l,n,a),wl(l,n,a)),n={cache:dh()},t.payload=n;return}n=n.return}}function Q0(t,n,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},fu(t)?Pg(n,a):(a=sh(t,n,a,l),a!==null&&(Je(a,t,l),zg(a,n,l)))}function Lg(t,n,a){var l=fn();Sl(t,n,a,l)}function Sl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(fu(t))Pg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,on(E,v))return $o(t,n,h,0),$t===null&&Yo(),!1}catch{}finally{}if(a=sh(t,n,h,l),a!==null)return Je(a,t,l),zg(a,n,l),!0}return!1}function Oh(t,n,a,l){if(l={lane:2,revertLane:Tf(),action:l,hasEagerState:!1,eagerState:null,next:null},fu(t)){if(n)throw Error(s(479))}else n=sh(t,a,l,2),n!==null&&Je(n,t,2)}function fu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Pg(t,n){os=au=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function zg(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Zi(t,a)}}var ei={readContext:He,use:ou,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};ei.useCacheRefresh=ue,ei.useMemoCache=ue,ei.useHostTransitionStatus=ue,ei.useFormState=ue,ei.useActionState=ue,ei.useOptimistic=ue;var ha={readContext:He,use:ou,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Sg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,cu(4194308,4,wg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return cu(4194308,4,t,n)},useInsertionEffect:function(t,n){cu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(ca){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(ca){qn(!0);try{a(n)}finally{qn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Q0.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=bh(t);var n=t.queue,a=Lg.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ch,useDeferredValue:function(t,n){var a=nn();return Dh(a,t,n)},useTransition:function(){var t=bh(!1);return t=Og.bind(null,Ct,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,h=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));Ut&60||lg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Sg(ug.bind(null,l,f,t),[t]),l.flags|=2048,cs(9,og.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var t=nn(),n=$t.identifierPrefix;if(Bt){var a=bi,l=Si;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=su++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=B0++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=G0.bind(null,Ct)}};ha.useMemoCache=Th,ha.useHostTransitionStatus=Vh,ha.useFormState=_g,ha.useActionState=_g,ha.useOptimistic=function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Oh.bind(null,Ct,!0,a),a.dispatch=n,[t,n]};var hr={readContext:He,use:ou,useCallback:Dg,useContext:He,useEffect:wh,useImperativeHandle:Cg,useInsertionEffect:bg,useLayoutEffect:Rg,useMemo:Ig,useReducer:uu,useRef:Ag,useState:function(){return uu(wi)},useDebugValue:Ch,useDeferredValue:function(t,n){var a=me();return Vg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=uu(wi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:sg,useId:xg};hr.useCacheRefresh=Ug,hr.useMemoCache=Th,hr.useHostTransitionStatus=Vh,hr.useFormState=vg,hr.useActionState=vg,hr.useOptimistic=function(t,n){var a=me();return fg(a,Qt,t,n)};var fa={readContext:He,use:ou,useCallback:Dg,useContext:He,useEffect:wh,useImperativeHandle:Cg,useInsertionEffect:bg,useLayoutEffect:Rg,useMemo:Ig,useReducer:Sh,useRef:Ag,useState:function(){return Sh(wi)},useDebugValue:Ch,useDeferredValue:function(t,n){var a=me();return Qt===null?Dh(a,t,n):Vg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Sh(wi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:sg,useId:xg};fa.useCacheRefresh=Ug,fa.useMemoCache=Th,fa.useHostTransitionStatus=Vh,fa.useFormState=Tg,fa.useActionState=Tg,fa.useOptimistic=function(t,n){var a=me();return Qt!==null?fg(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function Nh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:D({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Mh={isMounted:function(t){return(t=t._reactInternals)?dt(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=fn(),h=mr(l);h.payload=n,a!=null&&(h.callback=a),n=gr(t,h,l),n!==null&&(Je(n,t,l),wl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=fn(),h=mr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=gr(t,h,l),n!==null&&(Je(n,t,l),wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=fn(),l=mr(a);l.tag=2,n!=null&&(l.callback=n),n=gr(t,l,a),n!==null&&(Je(n,t,a),wl(n,t,a))}};function kg(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!cl(a,l)||!cl(h,f):!0}function Bg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Mh.enqueueReplaceState(n,n.state,null)}function da(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=D({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function jg(t){du(t)}function qg(t){console.error(t)}function Hg(t){du(t)}function mu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xh(t,n,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){mu(t,n)},a}function Gg(t){return t=mr(t),t.tag=3,t}function Qg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Fg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Fg(n,a,l),typeof h!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function K0(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Rl(n,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return ti===null?pf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ch?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),_f(t,l,h)),!1;case 22:return a.flags|=65536,l===ch?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),_f(t,l,h)),!1}throw Error(s(435,a.tag))}return _f(t,l,h),pf(),!1}if(Bt)return n=Rn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==uh&&(t=Error(s(422),{cause:l}),ml(An(t,a)))):(l!==uh&&(n=Error(s(423),{cause:l}),ml(An(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=An(l,a),h=xh(t.stateNode,l,h),$h(t,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=An(f,a),xl===null?xl=[f]:xl.push(f),se!==4&&(se=2),n===null)return!0;l=An(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=xh(a.stateNode,l,t),$h(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Tr===null||!Tr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gg(h),Qg(h,t,a,l),$h(a,h),!1}a=a.return}while(a!==null);return!1}var Kg=Error(s(461)),Oe=!1;function Pe(t,n,a,l){n.child=t===null?Wm(n,null,a,l):oa(n,t.child,a,l)}function Yg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ga(n),l=yh(t,n,a,v,f,h),E=_h(),t!==null&&!Oe?(vh(t,n,h),Ci(t,n,h)):(Bt&&E&&lh(n),n.flags|=1,Pe(t,n,l,h),n.child)}function $g(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Xg(t,n,f,l,h)):(t=vu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hh(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(v,l)&&t.ref===n.ref)return Ci(t,n,h)}return n.flags|=1,t=vr(f,l),t.ref=n.ref,t.return=n,n.child=t}function Xg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(cl(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Hh(t,h))t.flags&131072&&(Oe=!0);else return n.lanes=t.lanes,Ci(t,n,h)}return Uh(t,n,a,l,h)}function Zg(t,n,a){var l=n.pendingProps,h=l.children,f=(n.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(bl(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Wg(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ru(n,v!==null?v.cachePool:null),v!==null?Jm(n,v):hh(),tg(n);else return n.lanes=n.childLanes=536870912,Wg(t,n,v!==null?v.baseLanes|a:a,a)}else v!==null?(ru(n,v.cachePool),Jm(n,v),ur(),n.memoizedState=null):(t!==null&&ru(n,null),hh(),ur());return Pe(t,n,h,a),n.child}function Wg(t,n,a,l){var h=gh();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&ru(n,null),hh(),tg(n),t!==null&&Rl(t,n,l,!0),null}function bl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function Uh(t,n,a,l,h){return ga(n),a=yh(t,n,a,l,void 0,h),l=_h(),t!==null&&!Oe?(vh(t,n,h),Ci(t,n,h)):(Bt&&l&&lh(n),n.flags|=1,Pe(t,n,a,h),n.child)}function Jg(t,n,a,l,h,f){return ga(n),n.updateQueue=null,a=ag(n,l,a,h),rg(t),l=_h(),t!==null&&!Oe?(vh(t,n,f),Ci(t,n,f)):(Bt&&l&&lh(n),n.flags|=1,Pe(t,n,a,f),n.child)}function tp(t,n,a,l,h){if(ga(n),n.stateNode===null){var f=es,v=a.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Kh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?He(v):es,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Nh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Mh.enqueueReplaceState(f,f.state,null),Dl(n,l,f,h),Cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=da(a,E);f.props=b;var U=f.context,G=a.contextType;v=es,typeof G=="object"&&G!==null&&(v=He(G));var Z=a.getDerivedStateFromProps;G=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==v)&&Bg(n,f,l,v),dr=!1;var j=n.memoizedState;f.state=j,Dl(n,l,f,h),Cl(),U=n.memoizedState,E||j!==U||dr?(typeof Z=="function"&&(Nh(n,a,Z,l),U=n.memoizedState),(b=dr||kg(n,a,b,l,j,U,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=v,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Yh(t,n),v=n.memoizedProps,G=da(a,v),f.props=G,Z=n.pendingProps,j=f.context,U=a.contextType,b=es,typeof U=="object"&&U!==null&&(b=He(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||j!==b)&&Bg(n,f,l,b),dr=!1,j=n.memoizedState,f.state=j,Dl(n,l,f,h),Cl();var F=n.memoizedState;v!==Z||j!==F||dr||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof E=="function"&&(Nh(n,a,E,l),F=n.memoizedState),(G=dr||kg(n,a,G,l,j,F,b)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,bl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=oa(n,t.child,null,h),n.child=oa(n,null,a,h)):Pe(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Ci(t,n,h),t}function ep(t,n,a,l){return dl(),n.flags|=256,Pe(t,n,a,l),n.child}var Lh={dehydrated:null,treeContext:null,retryLane:0};function Ph(t){return{baseLanes:t,cachePool:ig()}}function zh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=In),t}function np(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?or(n):ur(),Bt){var E=Le,b;if(b=E){t:{for(b=E,E=Jn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Pn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:aa!==null?{id:Si,overflow:bi}:null,retryLane:536870912},b=Dn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,We=n,Le=null,b=!0):b=!1}b||la(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,h?(ur(),h=n.mode,E=Bh({mode:"hidden",children:E},h),l=ya(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=Ph(a),h.childLanes=zh(t,v,a),n.memoizedState=Lh,l):(or(n),kh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(or(n),n.flags&=-257,n=jh(t,n,a)):n.memoizedState!==null?(ur(),n.child=t.child,n.flags|=128,n=null):(ur(),h=l.fallback,E=n.mode,l=Bh({mode:"visible",children:l.children},E),h=ya(h,E,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,oa(n,t.child,null,a),l=n.child,l.memoizedState=Ph(a),l.childLanes=zh(t,v,a),n.memoizedState=Lh,n=h);else if(or(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,ml({value:l,source:null,stack:null}),n=jh(t,n,a)}else if(Oe||Rl(t,n,a,!1),v=(a&t.childLanes)!==0,Oe||v){if(v=$t,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,lr(t,l),Je(v,t,l),Kg}E.data==="$?"||pf(),n=jh(t,n,a)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=oT.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,Le=Pn(E.nextSibling),We=n,Bt=!0,Un=null,Jn=!1,t!==null&&(Sn[bn++]=Si,Sn[bn++]=bi,Sn[bn++]=aa,Si=t.id,bi=t.overflow,aa=n),n=kh(n,l.children),n.flags|=4096);return n}return h?(ur(),h=l.fallback,E=n.mode,b=t.child,U=b.sibling,l=vr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,U!==null?h=vr(U,h):(h=ya(h,E,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=t.child.memoizedState,E===null?E=Ph(a):(b=E.cachePool,b!==null?(U=Se._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=ig(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=zh(t,v,a),n.memoizedState=Lh,l):(or(n),a=t.child,t=a.sibling,a=vr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function kh(t,n){return n=Bh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Bh(t,n){return Dp(t,n,0,null)}function jh(t,n,a){return oa(n,t.child,null,a),t=kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ip(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Gh(t.return,n,a)}function qh(t,n,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function rp(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,a),l=Ae.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ip(t,a,n);else if(t.tag===19)ip(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Gt(Ae,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&iu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),qh(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&iu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}qh(n,!0,a,null,f);break;case"together":qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Er|=n.lanes,!(a&n.childLanes))if(t!==null){if(Rl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=vr(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=vr(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Hh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function Y0(t,n,a){switch(n.tag){case 3:Gi(n,n.stateNode.containerInfo),fr(n,Se,t.memoizedState.cache),dl();break;case 27:case 5:Hs(n);break;case 4:Gi(n,n.stateNode.containerInfo);break;case 10:fr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(or(n),n.flags|=128,null):a&n.child.childLanes?np(t,n,a):(or(n),t=Ci(t,n,a),t!==null?t.sibling:null);or(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Rl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return rp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Zg(t,n,a);case 24:fr(n,Se,t.memoizedState.cache)}return Ci(t,n,a)}function ap(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Hh(t,a)&&!(n.flags&128))return Oe=!1,Y0(t,n,a);Oe=!!(t.flags&131072)}else Oe=!1,Bt&&n.flags&1048576&&Hm(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")rf(l)?(t=da(l,t),n.tag=1,n=tp(null,n,l,t,a)):(n.tag=0,n=Uh(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===B){n.tag=11,n=Yg(null,n,l,t,a);break t}else if(h===X){n.tag=14,n=$g(null,n,l,t,a);break t}}throw n=R(l)||l,Error(s(306,n,""))}}return n;case 0:return Uh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=da(l,n.pendingProps),tp(t,n,l,h,a);case 3:t:{if(Gi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;h=n.memoizedState,l=h.element,Yh(t,n),Dl(n,f,null,a);var v=n.memoizedState;if(f=v.cache,fr(n,Se,f),f!==h.cache&&Qh(n,[Se],a,!0),Cl(),f=v.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ep(t,n,f,a);break t}else if(f!==l){l=An(Error(s(424)),n),ml(l),n=ep(t,n,f,a);break t}else for(Le=Pn(n.stateNode.containerInfo.firstChild),We=n,Bt=!0,Un=null,Jn=!0,a=Wm(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(dl(),f===l){n=Ci(t,n,a);break t}Pe(t,n,f,a)}n=n.child}return n;case 26:return bl(t,n),t===null?(a=oy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=Ou(mn.current).createElement(a),l[De]=n,l[ve]=t,ze(l,a,t),Jt(l),n.stateNode=l):n.memoizedState=oy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Hs(n),t===null&&Bt&&(l=n.stateNode=ay(n.type,n.pendingProps,mn.current),We=n,Jn=!0,Le=Pn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?Pe(t,n,l,a):n.child=oa(n,null,l,a),bl(t,n),n.child;case 5:return t===null&&Bt&&((h=l=Le)&&(l=bT(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,We=n,Le=Pn(l.firstChild),Jn=!1,h=!0):h=!1),h||la(n)),Hs(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Vf(h,f)?l=null:v!==null&&Vf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=yh(t,n,j0,null,null,a),Hl._currentValue=h),bl(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=Le)&&(a=RT(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,We=n,Le=null,t=!0):t=!1),t||la(n)),null;case 13:return np(t,n,a);case 4:return Gi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=oa(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Yg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,fr(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ga(n),h=He(h),l=l(h),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return $g(t,n,n.type,n.pendingProps,a);case 15:return Xg(t,n,n.type,n.pendingProps,a);case 19:return rp(t,n,a);case 22:return Zg(t,n,a);case 24:return ga(n),l=He(Se),t===null?(h=gh(),h===null&&(h=$t,f=dh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Kh(n),fr(n,Se,h)):(t.lanes&a&&(Yh(t,n),Dl(n,null,null,a),Cl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),fr(n,Se,l)):(l=f.cache,fr(n,Se,l),l!==h.cache&&Qh(n,[Se],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Fh=zt(null),ma=null,Di=null;function fr(t,n,a){Gt(Fh,n._currentValue),n._currentValue=a}function Ii(t){t._currentValue=Fh.current,ie(Fh)}function Gh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Qh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Gh(f.return,a,t),l||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Gh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Rl(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if(h.flags&524288)f=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;on(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Fi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}h=h.return}t!==null&&Qh(n,t,a,l),n.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ga(t){ma=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return sp(ma,t)}function pu(t,n){return ma===null&&ga(t),sp(t,n)}function sp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var dr=!1;function Kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,ee&2){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Xo(t),jm(t,null,a),n}return $o(t,l,n,a),Xo(t)}function wl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Zi(t,a)}}function $h(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Xh=!1;function Cl(){if(Xh){var t=ls;if(t!==null)throw t}}function Dl(t,n,a,l){Xh=!1;var h=t.updateQueue;dr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,U=b.next;b.next=null,v===null?f=U:v.next=U,v=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=b))}if(f!==null){var Z=h.baseState;v=0,G=U=b=null,E=f;do{var j=E.lane&-536870913,F=j!==E.lane;if(F?(Ut&j)===j:(l&j)===j){j!==0&&j===ss&&(Xh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=t,Tt=E;j=n;var le=a;switch(Tt.tag){case 1:if(ut=Tt.payload,typeof ut=="function"){Z=ut.call(le,Z,j);break t}Z=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Tt.payload,j=typeof ut=="function"?ut.call(le,Z,j):ut,j==null)break t;Z=D({},Z,j);break t;case 2:dr=!0}}j=E.callback,j!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=F,b=Z):G=G.next=F,v|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(b=Z),h.baseState=b,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Er|=v,t.lanes=v,t.memoizedState=Z}}function lp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function op(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)lp(a[t],n)}function Il(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function pr(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var b=a;try{E()}catch(U){Yt(h,b,U)}}}l=l.next}while(l!==f)}}catch(U){Yt(n,n.return,U)}}function up(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{op(n,a)}catch(l){Yt(t,t.return,l)}}}function cp(t,n,a){a.props=da(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function pa(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(f){Yt(t,n,f)}}function un(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(t,n,h)}else a.current=null}function hp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(t,t.return,h)}}function fp(t,n,a){try{var l=t.stateNode;vT(l,t.type,a,n),l[ve]=n}catch(h){Yt(t,t.return,h)}}function dp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Vu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Wh(t,n,a),t=t.sibling;t!==null;)Wh(t,n,a),t=t.sibling}function yu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(yu(t,n,a),t=t.sibling;t!==null;)yu(t,n,a),t=t.sibling}var Vi=!1,ae=!1,Jh=!1,mp=typeof WeakSet=="function"?WeakSet:Set,Ne=null,gp=!1;function $0(t,n){if(t=t.containerInfo,Df=Pu,t=Nm(t),eh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,U=0,G=0,Z=t,j=null;e:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(E=v+h),Z!==f||l!==0&&Z.nodeType!==3||(b=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)j=Z,Z=F;for(;;){if(Z===t)break e;if(j===a&&++U===h&&(E=v),j===f&&++G===l&&(b=v),(F=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=F}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(If={focusedElem:t,selectionRange:a},Pu=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ut=da(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Yt(a,a.return,Tt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Mf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Mf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}return ut=gp,gp=!1,ut}function pp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ni(t,a),l&4&&Il(5,a);break;case 1:if(Ni(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=da(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}l&64&&up(a),l&512&&pa(a,a.return);break;case 3:if(Ni(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{op(l,t)}catch(E){Yt(a,a.return,E)}}break;case 26:Ni(t,a),l&512&&pa(a,a.return);break;case 27:case 5:Ni(t,a),n===null&&l&4&&hp(a),l&512&&pa(a,a.return);break;case 12:Ni(t,a);break;case 13:Ni(t,a),l&4&&vp(t,a);break;case 22:if(h=a.memoizedState!==null||Vi,!h){n=n!==null&&n.memoizedState!==null||ae;var f=Vi,v=ae;Vi=h,(ae=n)&&!v?yr(t,a,(a.subtreeFlags&8772)!==0):Ni(t,a),Vi=f,ae=v}l&512&&(a.memoizedProps.mode==="manual"?pa(a,a.return):un(a,a.return));break;default:Ni(t,a)}}function yp(t){var n=t.alternate;n!==null&&(t.alternate=null,yp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,cn=!1;function Oi(t,n,a){for(a=a.child;a!==null;)_p(t,n,a),a=a.sibling}function _p(t,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Qi,a)}catch{}switch(a.tag){case 26:ae||un(a,n),Oi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ae||un(a,n);var l=ge,h=cn;for(ge=a.stateNode,Oi(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Qr(a),ge=l,cn=h;break;case 5:ae||un(a,n);case 6:h=ge;var f=cn;if(ge=null,Oi(t,n,a),ge=h,cn=f,ge!==null)if(cn)try{t=ge,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Yt(a,n,v)}else try{ge.removeChild(a.stateNode)}catch(v){Yt(a,n,v)}break;case 18:ge!==null&&(cn?(n=ge,a=a.stateNode,n.nodeType===8?Nf(n.parentNode,a):n.nodeType===1&&Nf(n,a),Kl(n)):Nf(ge,a.stateNode));break;case 4:l=ge,h=cn,ge=a.stateNode.containerInfo,cn=!0,Oi(t,n,a),ge=l,cn=h;break;case 0:case 11:case 14:case 15:ae||pr(2,a,n),ae||pr(4,a,n),Oi(t,n,a);break;case 1:ae||(un(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cp(a,n,l)),Oi(t,n,a);break;case 21:Oi(t,n,a);break;case 22:ae||un(a,n),ae=(l=ae)||a.memoizedState!==null,Oi(t,n,a),ae=l;break;default:Oi(t,n,a)}}function vp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kl(t)}catch(a){Yt(n,n.return,a)}}function X0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new mp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new mp),n;default:throw Error(s(435,t.tag))}}function tf(t,n){var a=X0(t);n.forEach(function(l){var h=uT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function wn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ge=E.stateNode,cn=!1;break t;case 3:ge=E.stateNode.containerInfo,cn=!0;break t;case 4:ge=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ge===null)throw Error(s(160));_p(f,v,h),ge=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ep(n,t),n=n.sibling}var Ln=null;function Ep(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Cn(t),l&4&&(pr(3,t,t.return),Il(3,t),pr(5,t,t.return));break;case 1:wn(n,t),Cn(t),l&512&&(ae||a===null||un(a,a.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(wn(n,t),Cn(t),l&512&&(ae||a===null||un(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ji]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,l,a),f[De]=t,Jt(f),l=f;break t;case"link":var v=hy("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(l),ze(f,l,a),h.head.appendChild(f);break;case"meta":if(v=hy("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(l),ze(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,Jt(f),l=f}t.stateNode=l}else fy(h,t.type,t.stateNode);else t.stateNode=cy(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?fy(h,t.type,t.stateNode):cy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fp(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,f=t.memoizedProps;try{for(var b=h.firstChild;b;){var U=b.nextSibling,G=b.nodeName;b[Ji]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=U}for(var Z=t.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);ze(h,Z,f),h[De]=t,h[ve]=f}catch(ut){Yt(t,t.return,ut)}}case 5:if(wn(n,t),Cn(t),l&512&&(ae||a===null||un(a,a.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(ut){Yt(t,t.return,ut)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,fp(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Jh=!0);break;case 6:if(wn(n,t),Cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ut){Yt(t,t.return,ut)}}break;case 3:if(xu=null,h=Ln,Ln=Nu(n.containerInfo),wn(n,t),Ln=h,Cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kl(n.containerInfo)}catch(ut){Yt(t,t.return,ut)}Jh&&(Jh=!1,Tp(t));break;case 4:l=Ln,Ln=Nu(t.stateNode.containerInfo),wn(n,t),Cn(t),Ln=l;break;case 12:wn(n,t),Cn(t);break;case 13:wn(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cf=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tf(t,l)));break;case 22:if(l&512&&(ae||a===null||un(a,a.return)),b=t.memoizedState!==null,U=a!==null&&a.memoizedState!==null,G=Vi,Z=ae,Vi=G||b,ae=Z||U,wn(n,t),ae=Z,Vi=G,Cn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=Vi||ae,a===null||U||n||hs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){U=a=n;try{if(h=U.stateNode,b)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=U.stateNode,E=U.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ut){Yt(U,U.return,ut)}}}else if(n.tag===6){if(a===null){U=n;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(ut){Yt(U,U.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tf(t,a))));break;case 19:wn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tf(t,l)));break;case 21:break;default:wn(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(dp(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,f=Zh(t);yu(t,f,h);break;case 5:var v=l.stateNode;l.flags&32&&(yn(v,""),l.flags&=-33);var E=Zh(t);yu(t,E,v);break;case 3:case 4:var b=l.stateNode.containerInfo,U=Zh(t);Wh(t,U,b);break;default:throw Error(s(161))}}}catch(G){Yt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ni(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pp(t,n.alternate,n),n=n.sibling}function hs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:pr(4,n,n.return),hs(n);break;case 1:un(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cp(n,n.return,a),hs(n);break;case 26:case 27:case 5:un(n,n.return),hs(n);break;case 22:un(n,n.return),n.memoizedState===null&&hs(n);break;default:hs(n)}t=t.sibling}}function yr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:yr(h,f,a),Il(4,f);break;case 1:if(yr(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Yt(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)lp(b[h],E)}catch(U){Yt(l,l.return,U)}}a&&v&64&&up(f),pa(f,f.return);break;case 26:case 27:case 5:yr(h,f,a),a&&l===null&&v&4&&hp(f),pa(f,f.return);break;case 12:yr(h,f,a);break;case 13:yr(h,f,a),a&&v&4&&vp(h,f);break;case 22:f.memoizedState===null&&yr(h,f,a),pa(f,f.return);break;default:yr(h,f,a)}n=n.sibling}}function ef(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&vl(a))}function nf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vl(t))}function _r(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ap(t,n,a,l),n=n.sibling}function Ap(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:_r(t,n,a,l),h&2048&&Il(9,n);break;case 3:_r(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vl(t)));break;case 12:if(h&2048){_r(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Yt(n,n.return,b)}}else _r(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?_r(t,n,a,l):Vl(t,n):f._visibility&4?_r(t,n,a,l):(f._visibility|=4,fs(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&ef(n.alternate,n);break;case 24:_r(t,n,a,l),h&2048&&nf(n.alternate,n);break;default:_r(t,n,a,l)}}function fs(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=a,b=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:fs(f,v,E,b,h),Il(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&4?fs(f,v,E,b,h):Vl(f,v):(G._visibility|=4,fs(f,v,E,b,h)),h&&U&2048&&ef(v.alternate,v);break;case 24:fs(f,v,E,b,h),h&&U&2048&&nf(v.alternate,v);break;default:fs(f,v,E,b,h)}n=n.sibling}}function Vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Vl(a,l),h&2048&&ef(l.alternate,l);break;case 24:Vl(a,l),h&2048&&nf(l.alternate,l);break;default:Vl(a,l)}n=n.sibling}}var Ol=8192;function ds(t){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)Sp(t),t=t.sibling}function Sp(t){switch(t.tag){case 26:ds(t),t.flags&Ol&&t.memoizedState!==null&&zT(Ln,t.memoizedState,t.memoizedProps);break;case 5:ds(t);break;case 3:case 4:var n=Ln;Ln=Nu(t.stateNode.containerInfo),ds(t),Ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ol,Ol=16777216,ds(t),Ol=n):ds(t));break;default:ds(t)}}function bp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Nl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,wp(l,t)}bp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rp(t),t=t.sibling}function Rp(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&pr(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,_u(t)):Nl(t);break;default:Nl(t)}}function _u(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,wp(l,t)}bp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:pr(8,n,n.return),_u(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,_u(n));break;default:_u(n)}t=t.sibling}}function wp(t,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:pr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=t;Ne!==null;){l=Ne;var h=l.sibling,f=l.return;if(yp(l),l===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}function Z0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,a,l){return new Z0(t,n,a,l)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vr(t,n){var a=t.alternate;return a===null?(a=Dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cp(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function vu(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")rf(t)&&(v=1);else if(typeof t=="string")v=LT(t,a,Ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return ya(a.children,h,f,n);case y:v=8,h|=24;break;case T:return t=Dn(12,a,n,h|2),t.elementType=T,t.lanes=f,t;case $:return t=Dn(13,a,n,h),t.elementType=$,t.lanes=f,t;case q:return t=Dn(19,a,n,h),t.elementType=q,t.lanes=f,t;case et:return Dp(a,h,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case V:v=10;break t;case I:v=9;break t;case B:v=11;break t;case X:v=14;break t;case nt:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Dn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ya(t,n,a,l){return t=Dn(7,t,l,n),t.lanes=a,t}function Dp(t,n,a,l){t=Dn(22,t,l,n),t.elementType=et,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=lr(f,2);v!==null&&(h._pendingVisibility|=2,Je(v,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if(h._pendingVisibility&2){var v=lr(f,2);v!==null&&(h._pendingVisibility&=-3,Je(v,f,2))}}};return t.stateNode=h,t}function af(t,n,a){return t=Dn(6,t,null,n),t.lanes=a,t}function sf(t,n,a){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Mi(t){t.flags|=4}function Ip(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!dy(n)){if(n=Rn.current,n!==null&&((Ut&4194176)===Ut?ti!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||n!==ti))throw pl=ch,Qm;t.flags|=8192}}function Eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$i():536870912,t.lanes|=n,gs|=n)}function Ml(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function W0(t,n,a){var l=n.pendingProps;switch(oh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(Se),fi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(fl(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Un!==null&&(mf(Un),Un=null))),te(n),null;case 26:return a=n.memoizedState,t===null?(Mi(n),a!==null?(te(n),Ip(n,a)):(te(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Mi(n),te(n),Ip(n,a)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Mi(n),te(n),n.flags&=-16777217),null;case 27:xa(n),a=mn.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=Ye.current,fl(n)?Fm(n):(t=ay(h,l,a),n.stateNode=t,Mi(n))}return te(n),null;case 5:if(xa(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(t=Ye.current,fl(n))Fm(n);else{switch(h=Ou(mn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[De]=n,t[ve]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ze(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Mi(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=mn.current,fl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[De]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Jp(t.nodeValue,a)),t||la(n)}else t=Ou(t).createTextNode(l),t[De]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=fl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=n}else dl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else Un!==null&&(mf(Un),Un=null),h=!0;if(!h)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Eu(n,n.updateQueue),te(n),null;case 4:return fi(),t===null&&Rf(n.stateNode.containerInfo),te(n),null;case 10:return Ii(n.type),te(n),null;case 19:if(ie(Ae),h=n.memoizedState,h===null)return te(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Ml(h,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=iu(t),f!==null){for(n.flags|=128,Ml(h,!1),t=f.updateQueue,n.updateQueue=t,Eu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Cp(a,t),a=a.sibling;return Gt(Ae,Ae.current&1|2),n.child}t=t.sibling}h.tail!==null&&tn()>Tu&&(n.flags|=128,l=!0,Ml(h,!1),n.lanes=4194304)}else{if(!l)if(t=iu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Eu(n,t),Ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return te(n),null}else 2*tn()-h.renderingStartTime>Tu&&a!==536870912&&(n.flags|=128,l=!0,Ml(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=tn(),n.sibling=null,t=Ae.current,Gt(Ae,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return Ri(n),fh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&Eu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ie(ua),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ii(Se),te(n),null;case 25:return null}throw Error(s(156,n.tag))}function J0(t,n){switch(oh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(Se),fi(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return xa(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));dl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Ae),null;case 4:return fi(),null;case 10:return Ii(n.type),null;case 22:case 23:return Ri(n),fh(),t!==null&&ie(ua),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(Se),null;case 25:return null;default:return null}}function Vp(t,n){switch(oh(n),n.tag){case 3:Ii(Se),fi();break;case 26:case 27:case 5:xa(n);break;case 4:fi();break;case 13:Ri(n);break;case 19:ie(Ae);break;case 10:Ii(n.type);break;case 22:case 23:Ri(n),fh(),t!==null&&ie(ua);break;case 24:Ii(Se)}}var tT={getCacheForType:function(t){var n=He(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},eT=typeof WeakMap=="function"?WeakMap:Map,ee=0,$t=null,It=null,Ut=0,Xt=0,hn=null,xi=!1,ms=!1,lf=!1,Ui=0,se=0,Er=0,_a=0,of=0,In=0,gs=0,xl=null,ni=null,uf=!1,cf=0,Tu=1/0,Au=null,Tr=null,Su=!1,va=null,Ul=0,hf=0,ff=null,Ll=0,df=null;function fn(){if(ee&2&&Ut!==0)return Ut&-Ut;if(S.T!==null){var t=ss;return t!==0?t:Tf()}return Io()}function Op(){In===0&&(In=!(Ut&536870912)||Bt?Ys():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),In}function Je(t,n,a){(t===$t&&Xt===2||t.cancelPendingCommit!==null)&&(ps(t,0),Li(t,Ut,In,!1)),oe(t,a),(!(ee&2)||t!==$t)&&(t===$t&&(!(ee&2)&&(_a|=a),se===4&&Li(t,Ut,In,!1)),ii(t))}function Np(t,n,a){if(ee&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Yi(t,n),h=l?rT(t,n):yf(t,n,!0),f=l;do{if(h===0){ms&&!l&&Li(t,n,0,!1);break}else if(h===6)Li(t,n,0,!xi);else{if(a=t.current.alternate,f&&!nT(a)){h=yf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;h=xl;var b=E.current.memoizedState.isDehydrated;if(b&&(ps(E,v).flags|=256),v=yf(E,v,!1),v!==2){if(lf&&!b){E.errorRecoveryDisabledLanes|=f,_a|=f,h=4;break t}f=ni,ni=h,f!==null&&mf(f)}h=v}if(f=!1,h!==2)continue}}if(h===1){ps(t,0),Li(t,n,0,!0);break}t:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Li(l,n,In,!xi);break t}break;case 2:ni=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=cf+300-tn(),10<f)){if(Li(l,n,In,!xi),gn(l,0)!==0)break t;l.timeoutHandle=ny(Mp.bind(null,l,a,ni,Au,uf,n,In,_a,gs,xi,2,-0,0),f);break t}Mp(l,a,ni,Au,uf,n,In,_a,gs,xi,0,-0,0)}}break}while(!0);ii(t)}function mf(t){ni===null?ni=t:ni.push.apply(ni,t)}function Mp(t,n,a,l,h,f,v,E,b,U,G,Z,j){var F=n.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:PT},Sp(n),n=kT(),n!==null)){t.cancelPendingCommit=n(Bp.bind(null,t,a,l,h,v,E,b,1,Z,j)),Li(t,f,v,!U);return}Bp(t,a,l,h,v,E,b,G,Z,j)}function nT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Li(t,n,a,l){n&=~of,n&=~_a,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-$e(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&Xi(t,a,n)}function bu(){return ee&6?!0:(Pl(0),!1)}function gf(){if(It!==null){if(Xt===0)var t=It.return;else t=It,Di=ma=null,Eh(t),rs=null,yl=0,t=It;for(;t!==null;)Vp(t.alternate,t),t=t.return;It=null}}function ps(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,TT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),gf(),$t=t,It=a=vr(t.current,null),Ut=n,Xt=0,hn=null,xi=!1,ms=Yi(t,n),lf=!1,gs=In=of=_a=Er=se=0,ni=xl=null,uf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-$e(l),f=1<<h;n|=t[h],l&=~f}return Ui=n,Yo(),a}function xp(t,n){Ct=null,S.H=ei,n===gl?(n=$m(),Xt=3):n===Qm?(n=$m(),Xt=4):Xt=n===Kg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,It===null&&(se=1,mu(t,An(n,t.current)))}function Up(){var t=S.H;return S.H=ei,t===null?ei:t}function Lp(){var t=S.A;return S.A=tT,t}function pf(){se=4,xi||(Ut&4194176)!==Ut&&Rn.current!==null||(ms=!0),!(Er&134217727)&&!(_a&134217727)||$t===null||Li($t,Ut,In,!1)}function yf(t,n,a){var l=ee;ee|=2;var h=Up(),f=Lp();($t!==t||Ut!==n)&&(Au=null,ps(t,n)),n=!1;var v=se;t:do try{if(Xt!==0&&It!==null){var E=It,b=hn;switch(Xt){case 8:gf(),v=6;break t;case 3:case 2:case 6:Rn.current===null&&(n=!0);var U=Xt;if(Xt=0,hn=null,ys(t,E,b,U),a&&ms){v=0;break t}break;default:U=Xt,Xt=0,hn=null,ys(t,E,b,U)}}iT(),v=se;break}catch(G){xp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Di=ma=null,ee=l,S.H=h,S.A=f,It===null&&($t=null,Ut=0,Yo()),v}function iT(){for(;It!==null;)Pp(It)}function rT(t,n){var a=ee;ee|=2;var l=Up(),h=Lp();$t!==t||Ut!==n?(Au=null,Tu=tn()+500,ps(t,n)):ms=Yi(t,n);t:do try{if(Xt!==0&&It!==null){n=It;var f=hn;e:switch(Xt){case 1:Xt=0,hn=null,ys(t,n,f,1);break;case 2:if(Km(f)){Xt=0,hn=null,zp(n);break}n=function(){Xt===2&&$t===t&&(Xt=7),ii(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Km(f)?(Xt=0,hn=null,zp(n)):(Xt=0,hn=null,ys(t,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||dy(v)){Xt=0,hn=null;var b=E.sibling;if(b!==null)It=b;else{var U=E.return;U!==null?(It=U,Ru(U)):It=null}break e}}Xt=0,hn=null,ys(t,n,f,5);break;case 6:Xt=0,hn=null,ys(t,n,f,6);break;case 8:gf(),se=6;break t;default:throw Error(s(462))}}aT();break}catch(G){xp(t,G)}while(!0);return Di=ma=null,S.H=l,S.A=h,ee=a,It!==null?0:($t=null,Ut=0,Yo(),se)}function aT(){for(;It!==null&&!Fc();)Pp(It)}function Pp(t){var n=ap(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?Ru(t):It=n}function zp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Jg(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Jg(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Eh(n);default:Vp(a,n),n=It=Cp(n,Ui),n=ap(a,n,Ui)}t.memoizedProps=t.pendingProps,n===null?Ru(t):It=n}function ys(t,n,a,l){Di=ma=null,Eh(n),rs=null,yl=0;var h=n.return;try{if(K0(t,h,n,a,Ut)){se=1,mu(t,An(a,t.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;se=1,mu(t,An(a,t.current)),It=null;return}n.flags&32768?(Bt||l===1?t=!0:ms||Ut&536870912?t=!1:(xi=t=!0,(l===2||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),kp(n,t)):Ru(n)}function Ru(t){var n=t;do{if(n.flags&32768){kp(n,xi);return}t=n.return;var a=W0(n.alternate,n,Ui);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);se===0&&(se=5)}function kp(t,n){do{var a=J0(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);se=6,It=null}function Bp(t,n,a,l,h,f,v,E,b,U){var G=S.T,Z=st.p;try{st.p=2,S.T=null,sT(t,n,a,l,Z,h,f,v,E,b,U)}finally{S.T=G,st.p=Z}}function sT(t,n,a,l,h,f,v,E){do _s();while(va!==null);if(ee&6)throw Error(s(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=b.lanes|b.childLanes;if(U|=ah,Co(t,l,U,f,v,E),t===$t&&(It=$t=null,Ut=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||Su||(Su=!0,hf=U,ff=a,cT(di,function(){return _s(),null})),a=(b.flags&15990)!==0,b.subtreeFlags&15990||a?(a=S.T,S.T=null,f=st.p,st.p=2,v=ee,ee|=4,$0(t,b),Ep(b,t),V0(If,t.containerInfo),Pu=!!Df,If=Df=null,t.current=b,pp(t,b.alternate,b),Fs(),ee=v,st.p=f,S.T=a):t.current=b,Su?(Su=!1,va=t,Ul=l):jp(t,U),U=t.pendingLanes,U===0&&(Tr=null),Qs(b.stateNode),ii(t),n!==null)for(h=t.onRecoverableError,b=0;b<n.length;b++)U=n[b],h(U.value,{componentStack:U.stack});return Ul&3&&_s(),U=t.pendingLanes,l&4194218&&U&42?t===df?Ll++:(Ll=0,df=t):Ll=0,Pl(0),null}function jp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,vl(n)))}function _s(){if(va!==null){var t=va,n=hf;hf=0;var a=Do(Ul),l=S.T,h=st.p;try{if(st.p=32>a?32:a,S.T=null,va===null)var f=!1;else{a=ff,ff=null;var v=va,E=Ul;if(va=null,Ul=0,ee&6)throw Error(s(331));var b=ee;if(ee|=4,Rp(v.current),Ap(v,v.current,E,a),ee=b,Pl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Qi,v)}catch{}f=!0}return f}finally{st.p=h,S.T=l,jp(t,n)}}return!1}function qp(t,n,a){n=An(a,n),n=xh(t.stateNode,n,2),t=gr(t,n,2),t!==null&&(oe(t,2),ii(t))}function Yt(t,n,a){if(t.tag===3)qp(t,t,a);else for(;n!==null;){if(n.tag===3){qp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Tr===null||!Tr.has(l))){t=An(a,t),a=Gg(2),l=gr(n,a,2),l!==null&&(Qg(a,l,n,t),oe(l,2),ii(l));break}}n=n.return}}function _f(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new eT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(lf=!0,h.add(a),t=lT.bind(null,t,n,a),n.then(t,t))}function lT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Ut&a)===a&&(se===4||se===3&&(Ut&62914560)===Ut&&300>tn()-cf?!(ee&2)&&ps(t,0):of|=a,gs===Ut&&(gs=0)),ii(t)}function Hp(t,n){n===0&&(n=$i()),t=lr(t,n),t!==null&&(oe(t,n),ii(t))}function oT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Hp(t,a)}function uT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Hp(t,a)}function cT(t,n){return Hr(t,n)}var wu=null,vs=null,vf=!1,Cu=!1,Ef=!1,Ea=0;function ii(t){t!==vs&&t.next===null&&(vs===null?wu=vs=t:vs=vs.next=t),Cu=!0,vf||(vf=!0,fT(hT))}function Pl(t,n){if(!Ef&&Cu){Ef=!0;do for(var a=!1,l=wu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-$e(42|t)+1)-1,f&=h&~(v&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,Qp(l,f))}else f=Ut,f=gn(l,l===$t?f:0),!(f&3)||Yi(l,f)||(a=!0,Qp(l,f));l=l.next}while(a);Ef=!1}}function hT(){Cu=vf=!1;var t=0;Ea!==0&&(ET()&&(t=Ea),Ea=0);for(var n=tn(),a=null,l=wu;l!==null;){var h=l.next,f=Fp(l,n);f===0?(l.next=null,a===null?wu=h:a.next=h,h===null&&(vs=a)):(a=l,(t!==0||f&3)&&(Cu=!0)),l=h}Pl(t)}function Fp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-$e(f),E=1<<v,b=h[v];b===-1?(!(E&a)||E&l)&&(h[v]=Pa(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Ut,a=gn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&La(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Yi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&La(l),Do(a)){case 2:case 8:a=Ce;break;case 32:a=di;break;case 268435456:a=Gs;break;default:a=di}return l=Gp.bind(null,t),a=Hr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&La(l),t.callbackPriority=2,t.callbackNode=null,2}function Gp(t,n){var a=t.callbackNode;if(_s()&&t.callbackNode!==a)return null;var l=Ut;return l=gn(t,t===$t?l:0),l===0?null:(Np(t,l,n),Fp(t,tn()),t.callbackNode!=null&&t.callbackNode===a?Gp.bind(null,t):null)}function Qp(t,n){if(_s())return null;Np(t,n,!0)}function fT(t){AT(function(){ee&6?Hr(_e,t):t()})}function Tf(){return Ea===0&&(Ea=Ys()),Ea}function Kp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qn(""+t)}function Yp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function dT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Kp((h[ve]||null).action),v=l.submitter;v&&(n=(n=v[ve]||null)?Kp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Fa("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ea!==0){var b=v?Yp(h,v):new FormData(h);Ih(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?Yp(h,v):new FormData(h),Ih(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Af=0;Af<Bm.length;Af++){var Sf=Bm[Af],mT=Sf.toLowerCase(),gT=Sf[0].toUpperCase()+Sf.slice(1);xn(mT,"on"+gT)}xn(Um,"onAnimationEnd"),xn(Lm,"onAnimationIteration"),xn(Pm,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(N0,"onTransitionRun"),xn(M0,"onTransitionStart"),xn(x0,"onTransitionCancel"),xn(zm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function $p(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],b=E.instance,U=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(G){du(G)}h.currentTarget=null,f=b}else for(v=0;v<l.length;v++){if(E=l[v],b=E.instance,U=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(G){du(G)}h.currentTarget=null,f=b}}}}function Ot(t,n){var a=n[Gr];a===void 0&&(a=n[Gr]=new Set);var l=t+"__bubble";a.has(l)||(Xp(n,t,2,!1),a.add(l))}function bf(t,n,a){var l=0;n&&(l|=4),Xp(a,t,l,n)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Rf(t){if(!t[Du]){t[Du]=!0,Xs.forEach(function(a){a!=="selectionchange"&&(pT.has(a)||bf(a,!1,t),bf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Du]||(n[Du]=!0,bf("selectionchange",!1,n))}}function Xp(t,n,a,l){switch(vy(n)){case 2:var h=qT;break;case 8:h=HT;break;default:h=zf}a=h.bind(null,n,a,t),h=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function wf(t,n,a,l,h){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var b=v.tag;if((b===3||b===4)&&(b=v.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Mn(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Mo(function(){var U=f,G=Ha(a),Z=[];t:{var j=km.get(t);if(j!==void 0){var F=Fa,ut=t;switch(t){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":F=Xa;break;case"focusin":ut="focus",F=Ka;break;case"focusout":ut="blur",F=Ka;break;case"beforeblur":case"afterblur":F=Ka;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=jo;break;case Um:case Lm:case Pm:F=Ya;break;case zm:F=Ho;break;case"scroll":case"scrollend":F=xo;break;case"wheel":F=Za;break;case"copy":case"cut":case"paste":F=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ol;break;case"toggle":case"beforetoggle":F=Go}var Tt=(n&4)!==0,le=!Tt&&(t==="scroll"||t==="scrollend"),L=Tt?j!==null?j+"Capture":null:j;Tt=[];for(var N=U,k;N!==null;){var K=N;if(k=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||k===null||L===null||(K=Xr(N,L),K!=null&&Tt.push(kl(N,K,k))),le)break;N=N.return}0<Tt.length&&(j=new F(j,ut,null,a,G),Z.push({event:j,listeners:Tt}))}}if(!(n&7)){t:{if(j=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",j&&a!==_n&&(ut=a.relatedTarget||a.fromElement)&&(Mn(ut)||ut[mi]))break t;if((F||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ut=a.relatedTarget||a.toElement,F=U,ut=ut?Mn(ut):null,ut!==null&&(le=dt(ut),Tt=ut.tag,ut!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(ut=null)):(F=null,ut=U),F!==ut)){if(Tt=En,K="onMouseLeave",L="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=ol,K="onPointerLeave",L="onPointerEnter",N="pointer"),le=F==null?j:tr(F),k=ut==null?j:tr(ut),j=new Tt(K,N+"leave",F,a,G),j.target=le,j.relatedTarget=k,K=null,Mn(G)===U&&(Tt=new Tt(L,N+"enter",ut,a,G),Tt.target=k,Tt.relatedTarget=le,K=Tt),le=K,F&&ut)e:{for(Tt=F,L=ut,N=0,k=Tt;k;k=Es(k))N++;for(k=0,K=L;K;K=Es(K))k++;for(;0<N-k;)Tt=Es(Tt),N--;for(;0<k-N;)L=Es(L),k--;for(;N--;){if(Tt===L||L!==null&&Tt===L.alternate)break e;Tt=Es(Tt),L=Es(L)}Tt=null}else Tt=null;F!==null&&Zp(Z,j,F,Tt,!1),ut!==null&&le!==null&&Zp(Z,le,ut,Tt,!0)}}t:{if(j=U?tr(U):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var ot=bm;else if(Te(j))if(Rm)ot=D0;else{ot=w0;var Dt=R0}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?U&&el(U.elementType)&&(ot=bm):ot=C0;if(ot&&(ot=ot(t,U))){Ai(Z,ot,a,G);break t}Dt&&Dt(t,j,U),t==="focusout"&&U&&j.type==="number"&&U.memoizedProps.value!=null&&qa(j,"number",j.value)}switch(Dt=U?tr(U):window,t){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(Wa=Dt,nh=U,hl=null);break;case"focusout":hl=nh=Wa=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Mm(Z,a,G);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":Mm(Z,a,G)}var ft;if(Zn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Mt?H(t,a)&&(pt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(_&&a.locale!=="ko"&&(Mt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mt&&(ft=il()):(Kn=G,sr="value"in Kn?Kn.value:Kn.textContent,Mt=!0)),Dt=Iu(U,pt),0<Dt.length&&(pt=new sl(pt,t,null,a,G),Z.push({event:pt,listeners:Dt}),ft?pt.data=ft:(ft=it(a),ft!==null&&(pt.data=ft)))),(ft=g?Ee(t,a):xt(t,a))&&(pt=Iu(U,"onBeforeInput"),0<pt.length&&(Dt=new sl("onBeforeInput","beforeinput",null,a,G),Z.push({event:Dt,listeners:pt}),Dt.data=ft)),dT(Z,t,U,a,G)}$p(Z,n)})}function kl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Iu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xr(t,a),h!=null&&l.unshift(kl(t,h,f)),h=Xr(t,n),h!=null&&l.push(kl(t,h,f))),t=t.return}return l}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zp(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var E=a,b=E.alternate,U=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||U===null||(b=U,h?(U=Xr(a,f),U!=null&&v.unshift(kl(a,U,b))):h||(U=Xr(a,f),U!=null&&v.push(kl(a,U,b)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var yT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function Wp(t){return(typeof t=="string"?t:""+t).replace(yT,`
`).replace(_T,"")}function Jp(t,n){return n=Wp(n),Wp(t)===n}function Vu(){}function Kt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":ir(t,"class",l);break;case"tabIndex":ir(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(t,a,l);break;case"style":No(t,l,f);break;case"data":if(n!=="object"){ir(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Qn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",h.name,h,null),Kt(t,n,"formEncType",h.formEncType,h,null),Kt(t,n,"formMethod",h.formMethod,h,null),Kt(t,n,"formTarget",h.formTarget,h,null)):(Kt(t,n,"encType",h.encType,h,null),Kt(t,n,"method",h.method,h,null),Kt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Qn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Vu);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),nr(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$c.get(a)||a,nr(t,a,l))}}function Cf(t,n,a,l,h,f){switch(a){case"style":No(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):nr(t,a,l)}}}function ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,a,null)}}h&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Ot("invalid",t);var E=f=v=h=null,b=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Kt(t,n,l,G,a,null)}}Yr(t,f,E,b,U,v,h,!1),Kr(t);return;case"select":Ot("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(t,n,h,E,a,null)}n=f,a=v,t.multiple=!!l,n!=null?kt(t,!!l,n,!1):a!=null&&kt(t,!!l,a,!0);return;case"textarea":Ot("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,v,E,a,null)}ar(t,l,h,f),Kr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,b,l,a,null)}return;case"dialog":Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)Ot(zl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,U,l,a,null)}return;default:if(el(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Cf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(t,n,E,l,a,null))}function vT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,U=null,G=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":b=Z;default:l.hasOwnProperty(F)||Kt(t,n,F,null,l,Z)}}for(var j in l){var F=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(F!=null||Z!=null))switch(j){case"type":f=F;break;case"name":h=F;break;case"checked":U=F;break;case"defaultChecked":G=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==Z&&Kt(t,n,j,F,l,Z)}}rr(t,v,E,b,U,G,f,h);return;case"select":F=v=E=j=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":F=b;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,b)}for(h in l)if(f=l[h],b=a[h],l.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Kt(t,n,h,f,l,b)}n=E,a=v,l=F,j!=null?kt(t,!!a,j,!1):!!l!=!!a&&(n!=null?kt(t,!!a,n,!0):kt(t,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(t,n,v,h,l,f)}$r(t,j,F);return;case"option":for(var ut in a)if(j=a[ut],a.hasOwnProperty(ut)&&j!=null&&!l.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:Kt(t,n,ut,null,l,j)}for(b in l)if(j=l[b],F=a[b],l.hasOwnProperty(b)&&j!==F&&(j!=null||F!=null))switch(b){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(t,n,b,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt)&&Kt(t,n,Tt,null,l,j);for(U in l)if(j=l[U],F=a[U],l.hasOwnProperty(U)&&j!==F&&(j!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Kt(t,n,U,j,l,F)}return;default:if(el(n)){for(var le in a)j=a[le],a.hasOwnProperty(le)&&j!==void 0&&!l.hasOwnProperty(le)&&Cf(t,n,le,void 0,l,j);for(G in l)j=l[G],F=a[G],!l.hasOwnProperty(G)||j===F||j===void 0&&F===void 0||Cf(t,n,G,j,l,F);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&Kt(t,n,L,null,l,j);for(Z in l)j=l[Z],F=a[Z],!l.hasOwnProperty(Z)||j===F||j==null&&F==null||Kt(t,n,Z,j,l,F)}var Df=null,If=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function ty(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ey(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Vf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Of=null;function ET(){var t=window.event;return t&&t.type==="popstate"?t===Of?!1:(Of=t,!0):(Of=null,!1)}var ny=typeof setTimeout=="function"?setTimeout:void 0,TT=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(t){return iy.resolve(null).then(t).catch(ST)}:ny;function ST(t){setTimeout(function(){throw t})}function Nf(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Kl(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Kl(n)}function Mf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mf(a),Qr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function bT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function RT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function ry(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function ay(t,n,a){switch(n=Ou(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Vn=new Map,sy=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Pi=st.d;st.d={f:wT,r:CT,D:DT,C:IT,L:VT,m:OT,X:MT,S:NT,M:xT};function wT(){var t=Pi.f(),n=bu();return t||n}function CT(t){var n=gi(t);n!==null&&n.tag===5&&n.type==="form"?Mg(n):Pi.r(t)}var Ts=typeof document>"u"?null:document;function ly(t,n,a){var l=Ts;if(l&&typeof n=="string"&&n){var h=re(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),sy.has(h)||(sy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ze(n,"link",t),Jt(n),l.head.appendChild(n)))}}function DT(t){Pi.D(t),ly("dns-prefetch",t,null)}function IT(t,n){Pi.C(t,n),ly("preconnect",t,n)}function VT(t,n,a){Pi.L(t,n,a);var l=Ts;if(l&&t&&n){var h='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(t)+'"]';var f=h;switch(n){case"style":f=As(t);break;case"script":f=Ss(t)}Vn.has(f)||(t=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Bl(f))||n==="script"&&l.querySelector(jl(f))||(n=l.createElement("link"),ze(n,"link",t),Jt(n),l.head.appendChild(n)))}}function OT(t,n){Pi.m(t,n);var a=Ts;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ss(t)}if(!Vn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(f)))return}l=a.createElement("link"),ze(l,"link",t),Jt(l),a.head.appendChild(l)}}}function NT(t,n,a){Pi.S(t,n,a);var l=Ts;if(l&&t){var h=er(l).hoistableStyles,f=As(t);n=n||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Bl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&xf(t,a);var b=v=l.createElement("link");Jt(b),ze(b,"link",t),b._p=new Promise(function(U,G){b.onload=U,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function MT(t,n){Pi.X(t,n);var a=Ts;if(a&&t){var l=er(a).hoistableScripts,h=Ss(t),f=l.get(h);f||(f=a.querySelector(jl(h)),f||(t=D({src:t,async:!0},n),(n=Vn.get(h))&&Uf(t,n),f=a.createElement("script"),Jt(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function xT(t,n){Pi.M(t,n);var a=Ts;if(a&&t){var l=er(a).hoistableScripts,h=Ss(t),f=l.get(h);f||(f=a.querySelector(jl(h)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Vn.get(h))&&Uf(t,n),f=a.createElement("script"),Jt(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function oy(t,n,a,l){var h=(h=mn.current)?Nu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=As(a.href),a=er(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=As(a.href);var f=er(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Bl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||UT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ss(a),a=er(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function As(t){return'href="'+re(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function uy(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function UT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",a),Jt(n),t.head.appendChild(n))}function Ss(t){return'[src="'+re(t)+'"]'}function jl(t){return"script[async]"+t}function cy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return n.instance=l,Jt(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Jt(l),ze(l,"style",h),Mu(l,a.precedence,t),n.instance=l;case"stylesheet":h=As(a.href);var f=t.querySelector(Bl(h));if(f)return n.state.loading|=4,n.instance=f,Jt(f),f;l=uy(a),(h=Vn.get(h))&&xf(l,h),f=(t.ownerDocument||t).createElement("link"),Jt(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),ze(f,"link",l),n.state.loading|=4,Mu(f,a.precedence,t),n.instance=f;case"script":return f=Ss(a.src),(h=t.querySelector(jl(f)))?(n.instance=h,Jt(h),h):(l=a,(h=Vn.get(f))&&(l=D({},a),Uf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Jt(h),ze(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Mu(l,a.precedence,t));return n.instance}function Mu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xu=null;function hy(t,n,a){if(xu===null){var l=new Map,h=xu=new Map;h.set(a,l)}else h=xu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ji]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function fy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function LT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dy(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ql=null;function PT(){}function zT(t,n,a){if(ql===null)throw Error(s(475));var l=ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=As(a.href),f=t.querySelector(Bl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Uu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Jt(f);return}f=t.ownerDocument||t,a=uy(a),(h=Vn.get(h))&&xf(a,h),f=f.createElement("link"),Jt(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),ze(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Uu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function kT(){if(ql===null)throw Error(s(475));var t=ql;return t.stylesheets&&t.count===0&&Lf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)Lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(BT,t),Lu=null,Uu.call(t))}function BT(t,n){if(!(n.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Uu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Hl={$$typeof:V,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function jT(t,n,a,l,h,f,v,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=za(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.hiddenUpdates=za(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function my(t,n,a,l,h,f,v,E,b,U,G,Z){return t=new jT(t,n,a,v,E,b,U,Z),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=dh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Kh(f),t}function gy(t){return t?(t=es,t):es}function py(t,n,a,l,h,f){h=gy(h),l.context===null?l.context=h:l.pendingContext=h,l=mr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=gr(t,l,n),a!==null&&(Je(a,t,n),wl(a,t,n))}function yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Pf(t,n){yy(t,n),(t=t.alternate)&&yy(t,n)}function _y(t){if(t.tag===13){var n=lr(t,67108864);n!==null&&Je(n,t,67108864),Pf(t,67108864)}}var Pu=!0;function qT(t,n,a,l){var h=S.T;S.T=null;var f=st.p;try{st.p=2,zf(t,n,a,l)}finally{st.p=f,S.T=h}}function HT(t,n,a,l){var h=S.T;S.T=null;var f=st.p;try{st.p=8,zf(t,n,a,l)}finally{st.p=f,S.T=h}}function zf(t,n,a,l){if(Pu){var h=kf(l);if(h===null)wf(t,n,l,zu,a),Ey(t,l);else if(GT(h,t,n,a,l))l.stopPropagation();else if(Ey(t,l),n&4&&-1<FT.indexOf(t)){for(;h!==null;){var f=gi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Nn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-$e(v);E.entanglements[1]|=b,v&=~b}ii(f),!(ee&6)&&(Tu=tn()+500,Pl(0))}}break;case 13:E=lr(f,2),E!==null&&Je(E,f,2),bu(),Pf(f,2)}if(f=kf(l),f===null&&wf(t,n,l,zu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else wf(t,n,l,null,a)}}function kf(t){return t=Ha(t),Bf(t)}var zu=null;function Bf(t){if(zu=null,t=Mn(t),t!==null){var n=dt(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=qt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return zu=t,null}function vy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(So()){case _e:return 2;case Ce:return 8;case di:case bo:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var jf=!1,Ar=null,Sr=null,br=null,Fl=new Map,Gl=new Map,Rr=[],FT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(t,n){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(n.pointerId)}}function Ql(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=gi(n),n!==null&&_y(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function GT(t,n,a,l,h){switch(n){case"focusin":return Ar=Ql(Ar,t,n,a,l,h),!0;case"dragenter":return Sr=Ql(Sr,t,n,a,l,h),!0;case"mouseover":return br=Ql(br,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Fl.set(f,Ql(Fl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Gl.set(f,Ql(Gl.get(f)||null,t,n,a,l,h)),!0}return!1}function Ty(t){var n=Mn(t.target);if(n!==null){var a=dt(n);if(a!==null){if(n=a.tag,n===13){if(n=qt(a),n!==null){t.blockedOn=n,Wi(t.priority,function(){if(a.tag===13){var l=fn(),h=lr(a,l);h!==null&&Je(h,a,l),Pf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=kf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);_n=l,a.target.dispatchEvent(l),_n=null}else return n=gi(a),n!==null&&_y(n),t.blockedOn=a,!1;n.shift()}return!0}function Ay(t,n,a){ku(t)&&a.delete(n)}function QT(){jf=!1,Ar!==null&&ku(Ar)&&(Ar=null),Sr!==null&&ku(Sr)&&(Sr=null),br!==null&&ku(br)&&(br=null),Fl.forEach(Ay),Gl.forEach(Ay)}function Bu(t,n){t.blockedOn===n&&(t.blockedOn=null,jf||(jf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,QT)))}var ju=null;function Sy(t){ju!==t&&(ju=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ju===t&&(ju=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Bf(l||a)===null)continue;break}var f=gi(a);f!==null&&(t.splice(n,3),n-=3,Ih(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Kl(t){function n(b){return Bu(b,t)}Ar!==null&&Bu(Ar,t),Sr!==null&&Bu(Sr,t),br!==null&&Bu(br,t),Fl.forEach(n),Gl.forEach(n);for(var a=0;a<Rr.length;a++){var l=Rr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)Ty(a),a.blockedOn===null&&Rr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[ve]||null;if(typeof f=="function")v||Sy(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[ve]||null)E=v.formAction;else if(Bf(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Sy(a)}}}function qf(t){this._internalRoot=t}qu.prototype.render=qf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=fn();py(a,l,t,n,null,null)},qu.prototype.unmount=qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&_s(),py(t.current,2,null,t,null,null),bu(),n[mi]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Io();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Rr.length&&n!==0&&n<Rr[a].priority;a++);Rr.splice(a,0,t),a===0&&Ty(t)}};var by=e.version;if(by!=="19.0.0")throw Error(s(527,by,"19.0.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=J(n),t=t!==null?ct(t):null,t=t===null?null:t.stateNode,t};var KT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Qi=Hu.inject(KT),qe=Hu}catch{}}return $l.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=jg,f=qg,v=Hg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=my(t,1,!1,null,null,a,l,h,f,v,E,null),t[mi]=n.current,Rf(t.nodeType===8?t.parentNode:t),new qf(n)},$l.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=jg,v=qg,E=Hg,b=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),n=my(t,1,!0,n,a??null,l,h,f,v,E,b,U),n.context=gy(null),a=n.current,l=fn(),h=mr(l),h.callback=null,gr(a,h,l),n.current.lanes=l,oe(n,l),ii(n),t[mi]=n.current,Rf(t),new qu(n)},$l.version="19.0.0",$l}var xy;function aA(){if(xy)return Gf.exports;xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gf.exports=rA(),Gf.exports}var sA=aA(),Xl={},Uy;function lA(){if(Uy)return Xl;Uy=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.parse=d,Xl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function d(I,V){const B=new c,$=I.length;if($<2)return B;const q=(V==null?void 0:V.decode)||T;let X=0;do{const nt=I.indexOf("=",X);if(nt===-1)break;const et=I.indexOf(";",X),vt=et===-1?$:et;if(nt>vt){X=I.lastIndexOf(";",nt-1)+1;continue}const ht=m(I,X,nt),wt=p(I,nt,ht),x=I.slice(ht,wt);if(B[x]===void 0){let R=m(I,nt+1,vt),S=p(I,vt,R);const D=q(I.slice(R,S));B[x]=D}X=vt+1}while(X<$);return B}function m(I,V,B){do{const $=I.charCodeAt(V);if($!==32&&$!==9)return V}while(++V<B);return B}function p(I,V,B){for(;V>B;){const $=I.charCodeAt(--V);if($!==32&&$!==9)return V+1}return B}function y(I,V,B){const $=(B==null?void 0:B.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const q=$(V);if(!e.test(q))throw new TypeError(`argument val is invalid: ${V}`);let X=I+"="+q;if(!B)return X;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);X+="; Max-Age="+B.maxAge}if(B.domain){if(!i.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);X+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);X+="; Path="+B.path}if(B.expires){if(!w(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);X+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&(X+="; HttpOnly"),B.secure&&(X+="; Secure"),B.partitioned&&(X+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return X}function T(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function w(I){return o.call(I)==="[object Date]"}return Xl}lA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ly="popstate";function oA(r={}){function e(s,o){let{pathname:c,search:d,hash:m}=s.location;return od("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:lo(o)}return cA(e,i,null,r)}function Wt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uA(){return Math.random().toString(36).substring(2,10)}function Py(r,e){return{usr:r.state,key:r.key,idx:e}}function od(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ls(e):e,state:i,key:e&&e.key||s||uA()}}function lo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ls(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function cA(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,m="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function w(){m="POP";let q=T(),X=q==null?null:q-y;y=q,p&&p({action:m,location:$.location,delta:X})}function I(q,X){m="PUSH";let nt=od($.location,q,X);y=T()+1;let et=Py(nt,y),vt=$.createHref(nt);try{d.pushState(et,"",vt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(vt)}c&&p&&p({action:m,location:$.location,delta:1})}function V(q,X){m="REPLACE";let nt=od($.location,q,X);y=T();let et=Py(nt,y),vt=$.createHref(nt);d.replaceState(et,"",vt),c&&p&&p({action:m,location:$.location,delta:0})}function B(q){let X=o.location.origin!=="null"?o.location.origin:o.location.href,nt=typeof q=="string"?q:lo(q);return nt=nt.replace(/ $/,"%20"),Wt(X,`No window.location.(origin|href) available to create URL for href: ${nt}`),new URL(nt,X)}let $={get action(){return m},get location(){return r(o,d)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ly,w),p=q,()=>{o.removeEventListener(Ly,w),p=null}},createHref(q){return e(o,q)},createURL:B,encodeLocation(q){let X=B(q);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:I,replace:V,go(q){return d.go(q)}};return $}function ev(r,e,i="/"){return hA(r,e,i,!1)}function hA(r,e,i,s){let o=typeof e=="string"?Ls(e):e,c=Mr(o.pathname||"/",i);if(c==null)return null;let d=nv(r);fA(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=SA(c);m=TA(d[p],y,s)}return m}function nv(r,e=[],i=[],s=""){let o=(c,d,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(Wt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=zi([s,p.relativePath]),T=i.concat(p);c.children&&c.children.length>0&&(Wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),nv(c.children,e,T,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:vA(y,c.index),routesMeta:T})};return r.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let p of iv(c.path))o(c,d,p)}),e}function iv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=iv(s.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function fA(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:EA(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var dA=/^:[\w-]+$/,mA=3,gA=2,pA=1,yA=10,_A=-2,zy=r=>r==="*";function vA(r,e){let i=r.split("/"),s=i.length;return i.some(zy)&&(s+=_A),e&&(s+=gA),i.filter(o=>!zy(o)).reduce((o,c)=>o+(dA.test(c)?mA:c===""?pA:yA),s)}function EA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function TA(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=c==="/"?e:e.slice(c.length)||"/",w=sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),I=p.route;if(!w&&y&&i&&!s[s.length-1].route.index&&(w=sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:zi([c,w.pathname]),pathnameBase:CA(zi([c,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(c=zi([c,w.pathnameBase]))}return d}function sc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=AA(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:w},I)=>{if(T==="*"){let B=m[I]||"";d=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const V=m[I];return w&&!V?y[T]=void 0:y[T]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function AA(r,e=!1,i=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function SA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Mr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function bA(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ls(r):r;return{pathname:i?i.startsWith("/")?i:RA(i,e):e,search:DA(s),hash:IA(o)}}function RA(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function $f(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wA(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Nd(r){let e=wA(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Md(r,e,i,s=!1){let o;typeof r=="string"?o=Ls(r):(o={...r},Wt(!o.pathname||!o.pathname.includes("?"),$f("?","pathname","search",o)),Wt(!o.pathname||!o.pathname.includes("#"),$f("#","pathname","hash",o)),Wt(!o.search||!o.search.includes("#"),$f("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=i;else{let w=e.length-1;if(!s&&d.startsWith("..")){let I=d.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}m=w>=0?e[w]:"/"}let p=bA(o,m),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var zi=r=>r.join("/").replace(/\/\/+/g,"/"),CA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),DA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,IA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function VA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var rv=["POST","PUT","PATCH","DELETE"];new Set(rv);var OA=["GET",...rv];new Set(OA);var Ps=Q.createContext(null);Ps.displayName="DataRouter";var Rc=Q.createContext(null);Rc.displayName="DataRouterState";var av=Q.createContext({isTransitioning:!1});av.displayName="ViewTransition";var NA=Q.createContext(new Map);NA.displayName="Fetchers";var MA=Q.createContext(null);MA.displayName="Await";var jn=Q.createContext(null);jn.displayName="Navigation";var po=Q.createContext(null);po.displayName="Location";var ci=Q.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var xd=Q.createContext(null);xd.displayName="RouteError";function xA(r,{relative:e}={}){Wt(zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(jn),{hash:o,pathname:c,search:d}=yo(r,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:zi([i,c])),s.createHref({pathname:m,search:d,hash:o})}function zs(){return Q.useContext(po)!=null}function jr(){return Wt(zs(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(po).location}var sv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lv(r){Q.useContext(jn).static||Q.useLayoutEffect(r)}function Ud(){let{isDataRoute:r}=Q.useContext(ci);return r?KA():UA()}function UA(){Wt(zs(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Ps),{basename:e,navigator:i}=Q.useContext(jn),{matches:s}=Q.useContext(ci),{pathname:o}=jr(),c=JSON.stringify(Nd(s)),d=Q.useRef(!1);return lv(()=>{d.current=!0}),Q.useCallback((p,y={})=>{if(Bn(d.current,sv),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=Md(p,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:zi([e,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[e,i,c,o,r])}Q.createContext(null);function yo(r,{relative:e}={}){let{matches:i}=Q.useContext(ci),{pathname:s}=jr(),o=JSON.stringify(Nd(i));return Q.useMemo(()=>Md(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function LA(r,e){return ov(r,e)}function ov(r,e,i,s){var nt;Wt(zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=Q.useContext(jn),{matches:d}=Q.useContext(ci),m=d[d.length-1],p=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",w=m&&m.route;{let et=w&&w.path||"";uv(y,!w||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let I=jr(),V;if(e){let et=typeof e=="string"?Ls(e):e;Wt(T==="/"||((nt=et.pathname)==null?void 0:nt.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${et.pathname}" was given in the \`location\` prop.`),V=et}else V=I;let B=V.pathname||"/",$=B;if(T!=="/"){let et=T.replace(/^\//,"").split("/");$="/"+B.replace(/^\//,"").split("/").slice(et.length).join("/")}let q=!c&&i&&i.matches&&i.matches.length>0?i.matches:ev(r,{pathname:$});Bn(w||q!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Bn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=jA(q&&q.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:zi([T,o.encodeLocation?o.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?T:zi([T,o.encodeLocation?o.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),d,i,s);return e&&X?Q.createElement(po.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},X):X}function PA(){let r=QA(),e=VA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:o},i):null,d)}var zA=Q.createElement(PA,null),kA=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(ci.Provider,{value:this.props.routeContext},Q.createElement(xd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BA({routeContext:r,match:e,children:i}){let s=Q.useContext(Ps);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(ci.Provider,{value:r},i)}function jA(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);Wt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:w}=i,I=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||I){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let w,I=!1,V=null,B=null;i&&(w=c&&y.route.id?c[y.route.id]:void 0,V=y.route.errorElement||zA,d&&(m<0&&T===0?(uv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,B=null):m===T&&(I=!0,B=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,T+1)),q=()=>{let X;return w?X=V:I?X=B:y.route.Component?X=Q.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=p,Q.createElement(BA,{match:y,routeContext:{outlet:p,matches:$,isDataRoute:i!=null},children:X})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?Q.createElement(kA,{location:i.location,revalidation:i.revalidation,component:V,error:w,children:q(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):q()},null)}function Ld(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qA(r){let e=Q.useContext(Ps);return Wt(e,Ld(r)),e}function HA(r){let e=Q.useContext(Rc);return Wt(e,Ld(r)),e}function FA(r){let e=Q.useContext(ci);return Wt(e,Ld(r)),e}function Pd(r){let e=FA(r),i=e.matches[e.matches.length-1];return Wt(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function GA(){return Pd("useRouteId")}function QA(){var s;let r=Q.useContext(xd),e=HA("useRouteError"),i=Pd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[i]}function KA(){let{router:r}=qA("useNavigate"),e=Pd("useNavigate"),i=Q.useRef(!1);return lv(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{Bn(i.current,sv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var ky={};function uv(r,e,i){!e&&!ky[r]&&(ky[r]=!0,Bn(!1,i))}Q.memo(YA);function YA({routes:r,future:e,state:i}){return ov(r,void 0,i,e)}function $A({to:r,replace:e,state:i,relative:s}){Wt(zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(jn);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=Q.useContext(ci),{pathname:d}=jr(),m=Ud(),p=Md(r,Nd(c),d,s==="path"),y=JSON.stringify(p);return Q.useEffect(()=>{m(JSON.parse(y),{replace:e,state:i,relative:s})},[m,y,s,e,i]),null}function Ta(r){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XA({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){Wt(!zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ls(i));let{pathname:p="/",search:y="",hash:T="",state:w=null,key:I="default"}=i,V=Q.useMemo(()=>{let B=Mr(p,d);return B==null?null:{location:{pathname:B,search:y,hash:T,state:w,key:I},navigationType:s}},[d,p,y,T,w,I,s]);return Bn(V!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:Q.createElement(jn.Provider,{value:m},Q.createElement(po.Provider,{children:e,value:V}))}function ZA({children:r,location:e}){return LA(ud(r),e)}function ud(r,e=[]){let i=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let c=[...e,o];if(s.type===Q.Fragment){i.push.apply(i,ud(s.props.children,c));return}Wt(s.type===Ta,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=ud(s.props.children,c)),i.push(d)}),i}var Wu="get",Ju="application/x-www-form-urlencoded";function wc(r){return r!=null&&typeof r.tagName=="string"}function WA(r){return wc(r)&&r.tagName.toLowerCase()==="button"}function JA(r){return wc(r)&&r.tagName.toLowerCase()==="form"}function tS(r){return wc(r)&&r.tagName.toLowerCase()==="input"}function eS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function nS(r,e){return r.button===0&&(!e||e==="_self")&&!eS(r)}var Fu=null;function iS(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var rS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xf(r){return r!=null&&!rS.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):r}function aS(r,e){let i,s,o,c,d;if(JA(r)){let m=r.getAttribute("action");s=m?Mr(m,e):null,i=r.getAttribute("method")||Wu,o=Xf(r.getAttribute("enctype"))||Ju,c=new FormData(r)}else if(WA(r)||tS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Mr(p,e):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||Wu,o=Xf(r.getAttribute("formenctype"))||Xf(m.getAttribute("enctype"))||Ju,c=new FormData(m,r),!iS()){let{name:y,type:T,value:w}=r;if(T==="image"){let I=y?`${y}.`:"";c.append(`${I}x`,"0"),c.append(`${I}y`,"0")}else y&&c.append(y,w)}}else{if(wc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Wu,s=null,o=Ju,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function zd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function sS(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function oS(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await sS(c,i);return d.links?d.links():[]}return[]}));return fS(s.flat(1).filter(lS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function By(r,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var w;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=i[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function uS(r,e,{includeHydrateFallback:i}={}){return cS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function cS(r){return[...new Set(r)]}function hS(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function fS(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(hS(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function dS(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function mS(){let r=Q.useContext(Ps);return zd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function gS(){let r=Q.useContext(Rc);return zd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kd=Q.createContext(void 0);kd.displayName="FrameworkContext";function cv(){let r=Q.useContext(kd);return zd(r,"You must render this element inside a <HydratedRouter> element"),r}function pS(r,e){let i=Q.useContext(kd),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:w}=e,I=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let $=X=>{X.forEach(nt=>{d(nt.isIntersecting)})},q=new IntersectionObserver($,{threshold:.5});return I.current&&q.observe(I.current),()=>{q.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let $=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout($)}}},[s]);let V=()=>{o(!0)},B=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,I,{}]:[c,I,{onFocus:Zl(m,V),onBlur:Zl(p,B),onMouseEnter:Zl(y,V),onMouseLeave:Zl(T,B),onTouchStart:Zl(w,V)}]:[!1,I,{}]}function Zl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function yS({page:r,...e}){let{router:i}=mS(),s=Q.useMemo(()=>ev(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?Q.createElement(vS,{page:r,matches:s,...e}):null}function _S(r){let{manifest:e,routeModules:i}=cv(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return oS(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function vS({page:r,matches:e,...i}){let s=jr(),{manifest:o,routeModules:c}=cv(),{loaderData:d,matches:m}=gS(),p=Q.useMemo(()=>By(r,e,m,o,s,"data"),[r,e,m,o,s]),y=Q.useMemo(()=>By(r,e,m,o,s,"assets"),[r,e,m,o,s]),T=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,B=!1;if(e.forEach(q=>{var nt;let X=o.routes[q.route.id];!X||!X.hasLoader||(!p.some(et=>et.route.id===q.route.id)&&q.route.id in d&&((nt=c[q.route.id])!=null&&nt.shouldRevalidate)||X.hasClientLoader?B=!0:V.add(q.route.id))}),V.size===0)return[];let $=dS(r);return B&&V.size>0&&$.searchParams.set("_routes",e.filter(q=>V.has(q.route.id)).map(q=>q.route.id).join(",")),[$.pathname+$.search]},[d,s,o,p,e,r,c]),w=Q.useMemo(()=>uS(y,o),[y,o]),I=_S(y);return Q.createElement(Q.Fragment,null,T.map(V=>Q.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...i})),w.map(V=>Q.createElement("link",{key:V,rel:"modulepreload",href:V,...i})),I.map(({key:V,link:B})=>Q.createElement("link",{key:V,...B})))}function ES(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hv&&(window.__reactRouterVersion="7.2.0")}catch{}function TS({basename:r,children:e,window:i}){let s=Q.useRef();s.current==null&&(s.current=oA({window:i,v5Compat:!0}));let o=s.current,[c,d]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>d(p))},[d]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(XA,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bd=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:y,preventScrollReset:T,viewTransition:w,...I},V){let{basename:B}=Q.useContext(jn),$=typeof y=="string"&&fv.test(y),q,X=!1;if(typeof y=="string"&&$&&(q=y,hv))try{let S=new URL(window.location.href),D=y.startsWith("//")?new URL(S.protocol+y):new URL(y),M=Mr(D.pathname,B);D.origin===S.origin&&M!=null?y=M+D.search+D.hash:X=!0}catch{Bn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=xA(y,{relative:o}),[et,vt,ht]=pS(s,I),wt=RS(y,{replace:d,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:w});function x(S){e&&e(S),S.defaultPrevented||wt(S)}let R=Q.createElement("a",{...I,...ht,href:q||nt,onClick:X||c?e:x,ref:ES(V,vt),target:p,"data-discover":!$&&i==="render"?"true":void 0});return et&&!$?Q.createElement(Q.Fragment,null,R,Q.createElement(yS,{page:nt})):R});Bd.displayName="Link";var AS=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...y},T){let w=yo(d,{relative:y.relative}),I=jr(),V=Q.useContext(Rc),{navigator:B,basename:$}=Q.useContext(jn),q=V!=null&&VS(w)&&m===!0,X=B.encodeLocation?B.encodeLocation(w).pathname:w.pathname,nt=I.pathname,et=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),et=et?et.toLowerCase():null,X=X.toLowerCase()),et&&$&&(et=Mr(et,$)||et);const vt=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ht=nt===X||!o&&nt.startsWith(X)&&nt.charAt(vt)==="/",wt=et!=null&&(et===X||!o&&et.startsWith(X)&&et.charAt(X.length)==="/"),x={isActive:ht,isPending:wt,isTransitioning:q},R=ht?e:void 0,S;typeof s=="function"?S=s(x):S=[s,ht?"active":null,wt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(x):c;return Q.createElement(Bd,{...y,"aria-current":R,className:S,ref:T,style:D,to:d,viewTransition:m},typeof p=="function"?p(x):p)});AS.displayName="NavLink";var SS=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Wu,action:m,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:w,...I},V)=>{let B=DS(),$=IS(m,{relative:y}),q=d.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&fv.test(m),nt=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let vt=et.nativeEvent.submitter,ht=(vt==null?void 0:vt.getAttribute("formmethod"))||d;B(vt||et.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:o,state:c,relative:y,preventScrollReset:T,viewTransition:w})};return Q.createElement("form",{ref:V,method:q,action:$,onSubmit:s?p:nt,...I,"data-discover":!X&&r==="render"?"true":void 0})});SS.displayName="Form";function bS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dv(r){let e=Q.useContext(Ps);return Wt(e,bS(r)),e}function RS(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=Ud(),p=jr(),y=yo(r,{relative:c});return Q.useCallback(T=>{if(nS(T,e)){T.preventDefault();let w=i!==void 0?i:lo(p)===lo(y);m(r,{replace:w,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,m,y,i,s,e,r,o,c,d])}var wS=0,CS=()=>`__${String(++wS)}__`;function DS(){let{router:r}=dv("useSubmit"),{basename:e}=Q.useContext(jn),i=GA();return Q.useCallback(async(s,o={})=>{let{action:c,method:d,encType:m,formData:p,body:y}=aS(s,e);if(o.navigate===!1){let T=o.fetcherKey||CS();await r.fetch(T,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function IS(r,{relative:e}={}){let{basename:i}=Q.useContext(jn),s=Q.useContext(ci);Wt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...yo(r||".",{relative:e})},d=jr();if(r==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:zi([i,c.pathname])),lo(c)}function VS(r,e={}){let i=Q.useContext(av);Wt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dv("useViewTransitionState"),o=yo(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=Mr(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Mr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return sc(o.pathname,d)!=null||sc(o.pathname,c)!=null}new TextEncoder;var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},OS=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],m=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,m=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=c>>2,w=(c&3)<<4|m>>4;let I=(m&15)<<2|y>>6,V=y&63;p||(V=64,d||(I=64)),s.push(i[T],i[w],i[I],i[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(mv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):OS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||w==null)throw new NS;const I=c<<2|m>>4;if(s.push(I),y!==64){const V=m<<4&240|y>>2;if(s.push(V),w!==64){const B=y<<6&192|w;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MS=function(r){const e=mv(r);return gv.encodeByteArray(e,!0)},lc=function(r){return MS(r).replace(/\./g,"")},xS=function(r){try{return gv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=()=>US().__FIREBASE_DEFAULTS__,PS=()=>{if(typeof process>"u"||typeof jy>"u")return;const r=jy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&xS(r[1]);return e&&JSON.parse(e)},jd=()=>{try{return LS()||PS()||zS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kS=r=>{var e,i;return(i=(e=jd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},BS=r=>{const e=kS(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},pv=()=>{var r;return(r=jd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[lc(JSON.stringify(i)),lc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){var r;const e=(r=jd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QS(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yv(){try{return typeof indexedDB=="object"}catch{return!1}}function _v(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}function KS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="FirebaseError";class qr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=YS,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?$S(c,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new qr(o,m,s)}}function $S(r,e){return r.replace(XS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const XS=/\{\$([^}]+)}/g;function oc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(qy(c)&&qy(d)){if(!oc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function qy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=1e3,WS=2,JS=4*60*60*1e3,tb=.5;function Hy(r,e=ZS,i=WS){const s=e*Math.pow(i,r),o=Math.round(tb*s*(Math.random()-.5)*2);return Math.min(JS,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(r){return r&&r._delegate?r._delegate:r}class Bi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new jS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ib(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nb(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nb(r){return r===Aa?void 0:r}function ib(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new eb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const ab={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},sb=Pt.INFO,lb={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},ob=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=lb[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qd{constructor(e){this.name=e,this._logLevel=sb,this._logHandler=ob,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ab[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const ub=(r,e)=>e.some(i=>r instanceof i);let Fy,Gy;function cb(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hb(){return Gy||(Gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vv=new WeakMap,cd=new WeakMap,Ev=new WeakMap,Zf=new WeakMap,Hd=new WeakMap;function fb(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Dr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&vv.set(i,r)}).catch(()=>{}),Hd.set(e,r),e}function db(r){if(cd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});cd.set(r,e)}let hd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return cd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ev.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Dr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mb(r){hd=r(hd)}function gb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Wf(this),e,...i);return Ev.set(s,e.sort?e.sort():[e]),Dr(s)}:hb().includes(r)?function(...e){return r.apply(Wf(this),e),Dr(vv.get(this))}:function(...e){return Dr(r.apply(Wf(this),e))}}function pb(r){return typeof r=="function"?gb(r):(r instanceof IDBTransaction&&db(r),ub(r,cb())?new Proxy(r,hd):r)}function Dr(r){if(r instanceof IDBRequest)return fb(r);if(Zf.has(r))return Zf.get(r);const e=pb(r);return e!==r&&(Zf.set(r,e),Hd.set(e,r)),e}const Wf=r=>Hd.get(r);function Tv(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),m=Dr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Dr(d.result),p.oldVersion,p.newVersion,Dr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const yb=["get","getKey","getAll","getAllKeys","count"],_b=["put","add","delete","clear"],Jf=new Map;function Qy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=_b.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yb.includes(i)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return Jf.set(e,c),c}mb(r=>({...r,get:(e,i,s)=>Qy(e,i)||r.get(e,i,s),has:(e,i)=>!!Qy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Eb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Eb(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fd="@firebase/app",Ky="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new qd("@firebase/app"),Tb="@firebase/app-compat",Ab="@firebase/analytics-compat",Sb="@firebase/analytics",bb="@firebase/app-check-compat",Rb="@firebase/app-check",wb="@firebase/auth",Cb="@firebase/auth-compat",Db="@firebase/database",Ib="@firebase/data-connect",Vb="@firebase/database-compat",Ob="@firebase/functions",Nb="@firebase/functions-compat",Mb="@firebase/installations",xb="@firebase/installations-compat",Ub="@firebase/messaging",Lb="@firebase/messaging-compat",Pb="@firebase/performance",zb="@firebase/performance-compat",kb="@firebase/remote-config",Bb="@firebase/remote-config-compat",jb="@firebase/storage",qb="@firebase/storage-compat",Hb="@firebase/firestore",Fb="@firebase/vertexai",Gb="@firebase/firestore-compat",Qb="firebase",Kb="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="[DEFAULT]",Yb={[fd]:"fire-core",[Tb]:"fire-core-compat",[Sb]:"fire-analytics",[Ab]:"fire-analytics-compat",[Rb]:"fire-app-check",[bb]:"fire-app-check-compat",[wb]:"fire-auth",[Cb]:"fire-auth-compat",[Db]:"fire-rtdb",[Ib]:"fire-data-connect",[Vb]:"fire-rtdb-compat",[Ob]:"fire-fn",[Nb]:"fire-fn-compat",[Mb]:"fire-iid",[xb]:"fire-iid-compat",[Ub]:"fire-fcm",[Lb]:"fire-fcm-compat",[Pb]:"fire-perf",[zb]:"fire-perf-compat",[kb]:"fire-rc",[Bb]:"fire-rc-compat",[jb]:"fire-gcs",[qb]:"fire-gcs-compat",[Hb]:"fire-fst",[Gb]:"fire-fst-compat",[Fb]:"fire-vertex","fire-js":"fire-js",[Qb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,$b=new Map,md=new Map;function Yy(r,e){try{r.container.addComponent(e)}catch(i){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function xr(r){const e=r.name;if(md.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;md.set(e,r);for(const i of uc.values())Yy(i,r);for(const i of $b.values())Yy(i,r);return!0}function _o(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Xb(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Cc("app","Firebase",Zb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=Kb;function Av(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:dd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ir.create("bad-app-name",{appName:String(o)});if(i||(i=pv()),!i)throw Ir.create("no-options");const c=uc.get(o);if(c){if(oc(i,c.options)&&oc(s,c.config))return c;throw Ir.create("duplicate-app",{appName:o})}const d=new rb(o);for(const p of md.values())d.addComponent(p);const m=new Wb(i,s,d);return uc.set(o,m),m}function Sv(r=dd){const e=uc.get(r);if(!e&&r===dd&&pv())return Av();if(!e)throw Ir.create("no-app",{appName:r});return e}function ai(r,e,i){var s;let o=(s=Yb[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(m.join(" "));return}xr(new Bi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebase-heartbeat-database",eR=1,oo="firebase-heartbeat-store";let td=null;function bv(){return td||(td=Tv(tR,eR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(oo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ir.create("idb-open",{originalErrorMessage:r.message})})),td}async function nR(r){try{const i=(await bv()).transaction(oo),s=await i.objectStore(oo).get(Rv(r));return await i.done,s}catch(e){if(e instanceof qr)ji.warn(e.message);else{const i=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(i.message)}}}async function $y(r,e){try{const s=(await bv()).transaction(oo,"readwrite");await s.objectStore(oo).put(e,Rv(r)),await s.done}catch(i){if(i instanceof qr)ji.warn(i.message);else{const s=Ir.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ji.warn(s.message)}}}function Rv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=1024,rR=30;class aR{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new lR(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Xy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>rR){const d=oR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Xy(),{heartbeatsToSend:s,unsentEntries:o}=sR(this._heartbeatsCache.heartbeats),c=lc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ji.warn(i),""}}}function Xy(){return new Date().toISOString().substring(0,10)}function sR(r,e=iR){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Zy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Zy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class lR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yv()?_v().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nR(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return $y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return $y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Zy(r){return lc(JSON.stringify({version:2,heartbeats:r})).length}function oR(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r){xr(new Bi("platform-logger",e=>new vb(e),"PRIVATE")),xr(new Bi("heartbeat",e=>new aR(e),"PRIVATE")),ai(fd,Ky,r),ai(fd,Ky,"esm2017"),ai("fire-js","")}uR("");var cR="firebase",hR="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(cR,hR,"app");const wv="@firebase/installations",Fd="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=1e4,Dv=`w:${Fd}`,Iv="FIS_v2",fR="https://firebaseinstallations.googleapis.com/v1",dR=60*60*1e3,mR="installations",gR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wa=new Cc(mR,gR,pR);function Vv(r){return r instanceof qr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov({projectId:r}){return`${fR}/projects/${r}/installations`}function Nv(r){return{token:r.token,requestStatus:2,expiresIn:_R(r.expiresIn),creationTime:Date.now()}}async function Mv(r,e){const s=(await e.json()).error;return wa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function xv({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function yR(r,{refreshToken:e}){const i=xv(r);return i.append("Authorization",vR(e)),i}async function Uv(r){const e=await r();return e.status>=500&&e.status<600?r():e}function _R(r){return Number(r.replace("s","000"))}function vR(r){return`${Iv} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=Ov(r),o=xv(r),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:i,authVersion:Iv,appId:r.appId,sdkVersion:Dv},m={method:"POST",headers:o,body:JSON.stringify(d)},p=await Uv(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:Nv(y.authToken)}}else throw await Mv("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=/^[cdef][\w-]{21}$/,gd="";function SR(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=bR(r);return AR.test(i)?i:gd}catch{return gd}}function bR(r){return TR(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;function zv(r,e){const i=Dc(r);kv(i,e),RR(i,e)}function kv(r,e){const i=Pv.get(r);if(i)for(const s of i)s(e)}function RR(r,e){const i=wR();i&&i.postMessage({key:r,fid:e}),CR()}let Sa=null;function wR(){return!Sa&&"BroadcastChannel"in self&&(Sa=new BroadcastChannel("[Firebase] FID Change"),Sa.onmessage=r=>{kv(r.data.key,r.data.fid)}),Sa}function CR(){Pv.size===0&&Sa&&(Sa.close(),Sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="firebase-installations-database",IR=1,Ca="firebase-installations-store";let ed=null;function Gd(){return ed||(ed=Tv(DR,IR,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Ca)}}})),ed}async function cc(r,e){const i=Dc(r),o=(await Gd()).transaction(Ca,"readwrite"),c=o.objectStore(Ca),d=await c.get(i);return await c.put(e,i),await o.done,(!d||d.fid!==e.fid)&&zv(r,e.fid),e}async function Bv(r){const e=Dc(r),s=(await Gd()).transaction(Ca,"readwrite");await s.objectStore(Ca).delete(e),await s.done}async function Ic(r,e){const i=Dc(r),o=(await Gd()).transaction(Ca,"readwrite"),c=o.objectStore(Ca),d=await c.get(i),m=e(d);return m===void 0?await c.delete(i):await c.put(m,i),await o.done,m&&(!d||d.fid!==m.fid)&&zv(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(r){let e;const i=await Ic(r.appConfig,s=>{const o=VR(s),c=OR(r,o);return e=c.registrationPromise,c.installationEntry});return i.fid===gd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function VR(r){const e=r||{fid:SR(),registrationStatus:0};return jv(e)}function OR(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(wa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=NR(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MR(r)}:{installationEntry:e}}async function NR(r,e){try{const i=await ER(r,e);return cc(r.appConfig,i)}catch(i){throw Vv(i)&&i.customData.serverCode===409?await Bv(r.appConfig):await cc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function MR(r){let e=await Wy(r.appConfig);for(;e.registrationStatus===1;)await Lv(100),e=await Wy(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Qd(r);return s||i}return e}function Wy(r){return Ic(r,e=>{if(!e)throw wa.create("installation-not-found");return jv(e)})}function jv(r){return xR(r)?{fid:r.fid,registrationStatus:0}:r}function xR(r){return r.registrationStatus===1&&r.registrationTime+Cv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR({appConfig:r,heartbeatServiceProvider:e},i){const s=LR(r,i),o=yR(r,i),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:Dv,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(d)},p=await Uv(()=>fetch(s,m));if(p.ok){const y=await p.json();return Nv(y)}else throw await Mv("Generate Auth Token",p)}function LR(r,{fid:e}){return`${Ov(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(r,e=!1){let i;const s=await Ic(r.appConfig,c=>{if(!qv(c))throw wa.create("not-registered");const d=c.authToken;if(!e&&kR(d))return c;if(d.requestStatus===1)return i=PR(r,e),c;{if(!navigator.onLine)throw wa.create("app-offline");const m=jR(c);return i=zR(r,m),m}});return i?await i:s.authToken}async function PR(r,e){let i=await Jy(r.appConfig);for(;i.authToken.requestStatus===1;)await Lv(100),i=await Jy(r.appConfig);const s=i.authToken;return s.requestStatus===0?Kd(r,e):s}function Jy(r){return Ic(r,e=>{if(!qv(e))throw wa.create("not-registered");const i=e.authToken;return qR(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function zR(r,e){try{const i=await UR(r,e),s=Object.assign(Object.assign({},e),{authToken:i});return await cc(r.appConfig,s),i}catch(i){if(Vv(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await Bv(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await cc(r.appConfig,s)}throw i}}function qv(r){return r!==void 0&&r.registrationStatus===2}function kR(r){return r.requestStatus===2&&!BR(r)}function BR(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+dR}function jR(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function qR(r){return r.requestStatus===1&&r.requestTime+Cv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(r){const e=r,{installationEntry:i,registrationPromise:s}=await Qd(e);return s?s.catch(console.error):Kd(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(r,e=!1){const i=r;return await GR(i),(await Kd(i,e)).token}async function GR(r){const{registrationPromise:e}=await Qd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(r){if(!r||!r.options)throw nd("App Configuration");if(!r.name)throw nd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw nd(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function nd(r){return wa.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="installations",KR="installations-internal",YR=r=>{const e=r.getProvider("app").getImmediate(),i=QR(e),s=_o(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},$R=r=>{const e=r.getProvider("app").getImmediate(),i=_o(e,Hv).getImmediate();return{getId:()=>HR(i),getToken:o=>FR(i,o)}};function XR(){xr(new Bi(Hv,YR,"PUBLIC")),xr(new Bi(KR,$R,"PRIVATE"))}XR();ai(wv,Fd);ai(wv,Fd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="analytics",ZR="firebase_id",WR="origin",JR=60*1e3,t1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new qd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},dn=new Cc("analytics","Analytics",e1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(r){if(!r.startsWith(Yd)){const e=dn.create("invalid-gtag-resource",{gtagURL:r});return an.warn(e.message),""}return r}function Fv(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function i1(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function r1(r,e){const i=i1("firebase-js-sdk-policy",{createScriptURL:n1}),s=document.createElement("script"),o=`${Yd}?l=${r}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function a1(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function s1(r,e,i,s,o,c){const d=s[o];try{if(d)await e[d];else{const p=(await Fv(i)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){an.error(m)}r("config",o,c)}async function l1(r,e,i,s,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const m=await Fv(i);for(const p of d){const y=m.find(w=>w.measurementId===p),T=y&&e[y.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,o||{})}catch(c){an.error(c)}}function o1(r,e,i,s){async function o(c,...d){try{if(c==="event"){const[m,p]=d;await l1(r,e,i,m,p)}else if(c==="config"){const[m,p]=d;await s1(r,e,i,s,m,p)}else if(c==="consent"){const[m,p]=d;r("consent",m,p)}else if(c==="get"){const[m,p,y]=d;r("get",m,p,y)}else if(c==="set"){const[m]=d;r("set",m)}else r(c,...d)}catch(m){an.error(m)}}return o}function u1(r,e,i,s,o){let c=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=o1(c,r,e,i),{gtagCore:c,wrappedGtag:window[o]}}function c1(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Yd)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=30,f1=1e3;class d1{constructor(e={},i=f1){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Gv=new d1;function m1(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function g1(r){var e;const{appId:i,apiKey:s}=r,o={method:"GET",headers:m1(s)},c=t1.replace("{app-id}",i),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let m="";try{const p=await d.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw dn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:m})}return d.json()}async function p1(r,e=Gv,i){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw dn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw dn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new v1;return setTimeout(async()=>{m.abort()},JR),Qv({appId:s,apiKey:o,measurementId:c},d,m,e)}async function Qv(r,{throttleEndTimeMillis:e,backoffCount:i},s,o=Gv){var c;const{appId:d,measurementId:m}=r;try{await y1(s,e)}catch(p){if(m)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:d,measurementId:m};throw p}try{const p=await g1(r);return o.deleteThrottleMetadata(d),p}catch(p){const y=p;if(!_1(y)){if(o.deleteThrottleMetadata(d),m)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:m};throw p}const T=Number((c=y==null?void 0:y.customData)===null||c===void 0?void 0:c.httpStatus)===503?Hy(i,o.intervalMillis,h1):Hy(i,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+T,backoffCount:i+1};return o.setThrottleMetadata(d,w),an.debug(`Calling attemptFetch again in ${T} millis`),Qv(r,w,s,o)}}function y1(r,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(c),s(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _1(r){if(!(r instanceof qr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class v1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function E1(r,e,i,s,o){if(o&&o.global){r("event",i,s);return}else{const c=await e,d=Object.assign(Object.assign({},s),{send_to:c});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(){if(yv())try{await _v()}catch(r){return an.warn(dn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return an.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function A1(r,e,i,s,o,c,d){var m;const p=p1(r);p.then(V=>{i[V.measurementId]=V.appId,r.options.measurementId&&V.measurementId!==r.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>an.error(V)),e.push(p);const y=T1().then(V=>{if(V)return s.getId()}),[T,w]=await Promise.all([p,y]);c1(c)||r1(c,T.measurementId),o("js",new Date);const I=(m=d==null?void 0:d.config)!==null&&m!==void 0?m:{};return I[WR]="firebase",I.update=!0,w!=null&&(I[ZR]=w),o("config",T.measurementId,I),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.app=e}_delete(){return delete no[this.app.options.appId],Promise.resolve()}}let no={},t_=[];const e_={};let id="dataLayer",b1="gtag",n_,Kv,i_=!1;function R1(){const r=[];if(GS()&&r.push("This is a browser extension environment."),KS()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=dn.create("invalid-analytics-context",{errorInfo:e});an.warn(i.message)}}function w1(r,e,i){R1();const s=r.options.appId;if(!s)throw dn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dn.create("no-api-key");if(no[s]!=null)throw dn.create("already-exists",{id:s});if(!i_){a1(id);const{wrappedGtag:c,gtagCore:d}=u1(no,t_,e_,id,b1);Kv=c,n_=d,i_=!0}return no[s]=A1(r,t_,e_,e,n_,id,i),new S1(r)}function C1(r=Sv()){r=Ra(r);const e=_o(r,hc);return e.isInitialized()?e.getImmediate():D1(r)}function D1(r,e={}){const i=_o(r,hc);if(i.isInitialized()){const o=i.getImmediate();if(oc(e,i.getOptions()))return o;throw dn.create("already-initialized")}return i.initialize({options:e})}function I1(r,e,i,s){r=Ra(r),E1(Kv,no[r.app.options.appId],e,i,s).catch(o=>an.error(o))}const r_="@firebase/analytics",a_="0.10.11";function V1(){xr(new Bi(hc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return w1(s,o,i)},"PUBLIC")),xr(new Bi("analytics-internal",r,"PRIVATE")),ai(r_,a_),ai(r_,a_,"esm2017");function r(e){try{const i=e.getProvider(hc).getImmediate();return{logEvent:(s,o,c)=>I1(i,s,o,c)}}catch(i){throw dn.create("interop-component-reg-failed",{reason:i})}}}V1();var s_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,Yv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function S(){}S.prototype=R.prototype,x.D=R.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(D,M,z){for(var C=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)C[ye-2]=arguments[ye];return R.prototype[M].apply(D,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,S){S||(S=0);var D=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)D[M]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(M=0;16>M;++M)D[M]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=x.g[0],S=x.g[1],M=x.g[2];var z=x.g[3],C=R+(z^S&(M^z))+D[0]+3614090360&4294967295;R=S+(C<<7&4294967295|C>>>25),C=z+(M^R&(S^M))+D[1]+3905402710&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(S^z&(R^S))+D[2]+606105819&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(R^M&(z^R))+D[3]+3250441966&4294967295,S=M+(C<<22&4294967295|C>>>10),C=R+(z^S&(M^z))+D[4]+4118548399&4294967295,R=S+(C<<7&4294967295|C>>>25),C=z+(M^R&(S^M))+D[5]+1200080426&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(S^z&(R^S))+D[6]+2821735955&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(R^M&(z^R))+D[7]+4249261313&4294967295,S=M+(C<<22&4294967295|C>>>10),C=R+(z^S&(M^z))+D[8]+1770035416&4294967295,R=S+(C<<7&4294967295|C>>>25),C=z+(M^R&(S^M))+D[9]+2336552879&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(S^z&(R^S))+D[10]+4294925233&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(R^M&(z^R))+D[11]+2304563134&4294967295,S=M+(C<<22&4294967295|C>>>10),C=R+(z^S&(M^z))+D[12]+1804603682&4294967295,R=S+(C<<7&4294967295|C>>>25),C=z+(M^R&(S^M))+D[13]+4254626195&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(S^z&(R^S))+D[14]+2792965006&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(R^M&(z^R))+D[15]+1236535329&4294967295,S=M+(C<<22&4294967295|C>>>10),C=R+(M^z&(S^M))+D[1]+4129170786&4294967295,R=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(R^S))+D[6]+3225465664&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^S&(z^R))+D[11]+643717713&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^R&(M^z))+D[0]+3921069994&4294967295,S=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(S^M))+D[5]+3593408605&4294967295,R=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(R^S))+D[10]+38016083&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^S&(z^R))+D[15]+3634488961&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^R&(M^z))+D[4]+3889429448&4294967295,S=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(S^M))+D[9]+568446438&4294967295,R=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(R^S))+D[14]+3275163606&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^S&(z^R))+D[3]+4107603335&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^R&(M^z))+D[8]+1163531501&4294967295,S=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(S^M))+D[13]+2850285829&4294967295,R=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(R^S))+D[2]+4243563512&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^S&(z^R))+D[7]+1735328473&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^R&(M^z))+D[12]+2368359562&4294967295,S=M+(C<<20&4294967295|C>>>12),C=R+(S^M^z)+D[5]+4294588738&4294967295,R=S+(C<<4&4294967295|C>>>28),C=z+(R^S^M)+D[8]+2272392833&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^S)+D[11]+1839030562&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^R)+D[14]+4259657740&4294967295,S=M+(C<<23&4294967295|C>>>9),C=R+(S^M^z)+D[1]+2763975236&4294967295,R=S+(C<<4&4294967295|C>>>28),C=z+(R^S^M)+D[4]+1272893353&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^S)+D[7]+4139469664&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^R)+D[10]+3200236656&4294967295,S=M+(C<<23&4294967295|C>>>9),C=R+(S^M^z)+D[13]+681279174&4294967295,R=S+(C<<4&4294967295|C>>>28),C=z+(R^S^M)+D[0]+3936430074&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^S)+D[3]+3572445317&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^R)+D[6]+76029189&4294967295,S=M+(C<<23&4294967295|C>>>9),C=R+(S^M^z)+D[9]+3654602809&4294967295,R=S+(C<<4&4294967295|C>>>28),C=z+(R^S^M)+D[12]+3873151461&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^S)+D[15]+530742520&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^R)+D[2]+3299628645&4294967295,S=M+(C<<23&4294967295|C>>>9),C=R+(M^(S|~z))+D[0]+4096336452&4294967295,R=S+(C<<6&4294967295|C>>>26),C=z+(S^(R|~M))+D[7]+1126891415&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~S))+D[14]+2878612391&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~R))+D[5]+4237533241&4294967295,S=M+(C<<21&4294967295|C>>>11),C=R+(M^(S|~z))+D[12]+1700485571&4294967295,R=S+(C<<6&4294967295|C>>>26),C=z+(S^(R|~M))+D[3]+2399980690&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~S))+D[10]+4293915773&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~R))+D[1]+2240044497&4294967295,S=M+(C<<21&4294967295|C>>>11),C=R+(M^(S|~z))+D[8]+1873313359&4294967295,R=S+(C<<6&4294967295|C>>>26),C=z+(S^(R|~M))+D[15]+4264355552&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~S))+D[6]+2734768916&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~R))+D[13]+1309151649&4294967295,S=M+(C<<21&4294967295|C>>>11),C=R+(M^(S|~z))+D[4]+4149444226&4294967295,R=S+(C<<6&4294967295|C>>>26),C=z+(S^(R|~M))+D[11]+3174756917&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~S))+D[2]+718787259&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~R))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+z&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var S=R-this.blockSize,D=this.B,M=this.h,z=0;z<R;){if(M==0)for(;z<=S;)o(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<R;)if(D[M++]=x.charCodeAt(z++),M==this.blockSize){o(this,D),M=0;break}}else for(;z<R;)if(D[M++]=x[z++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var S=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=S&255,S/=256;for(this.u(x),x=Array(16),R=S=0;4>R;++R)for(var D=0;32>D;D+=8)x[S++]=this.g[R]>>>D&255;return x};function c(x,R){var S=m;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=R(x)}function d(x,R){this.h=R;for(var S=[],D=!0,M=x.length-1;0<=M;M--){var z=x[M]|0;D&&z==R||(S[M]=z,D=!1)}this.g=S}var m={};function p(x){return-128<=x&&128>x?c(x,function(R){return new d([R|0],0>R?-1:0)}):new d([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return q(y(-x));for(var R=[],S=1,D=0;x>=S;D++)R[D]=x/S|0,S*=4294967296;return new d(R,0)}function T(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return q(T(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(R,8)),D=w,M=0;M<x.length;M+=8){var z=Math.min(8,x.length-M),C=parseInt(x.substring(M,M+z),R);8>z?(z=y(Math.pow(R,z)),D=D.j(z).add(y(C))):(D=D.j(S),D=D.add(y(C)))}return D}var w=p(0),I=p(1),V=p(16777216);r=d.prototype,r.m=function(){if($(this))return-q(this).m();for(var x=0,R=1,S=0;S<this.g.length;S++){var D=this.i(S);x+=(0<=D?D:4294967296+D)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(B(this))return"0";if($(this))return"-"+q(this).toString(x);for(var R=y(Math.pow(x,6)),S=this,D="";;){var M=vt(S,R).g;S=X(S,M.j(R));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=M,B(S))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function B(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=X(this,x),$(x)?-1:B(x)?0:1};function q(x){for(var R=x.g.length,S=[],D=0;D<R;D++)S[D]=~x.g[D];return new d(S,~x.h).add(I)}r.abs=function(){return $(this)?q(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],D=0,M=0;M<=R;M++){var z=D+(this.i(M)&65535)+(x.i(M)&65535),C=(z>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);D=C>>>16,z&=65535,C&=65535,S[M]=C<<16|z}return new d(S,S[S.length-1]&-2147483648?-1:0)};function X(x,R){return x.add(q(R))}r.j=function(x){if(B(this)||B(x))return w;if($(this))return $(x)?q(this).j(q(x)):q(q(this).j(x));if($(x))return q(this.j(q(x)));if(0>this.l(V)&&0>x.l(V))return y(this.m()*x.m());for(var R=this.g.length+x.g.length,S=[],D=0;D<2*R;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<x.g.length;M++){var z=this.i(D)>>>16,C=this.i(D)&65535,ye=x.i(M)>>>16,he=x.i(M)&65535;S[2*D+2*M]+=C*he,nt(S,2*D+2*M),S[2*D+2*M+1]+=z*he,nt(S,2*D+2*M+1),S[2*D+2*M+1]+=C*ye,nt(S,2*D+2*M+1),S[2*D+2*M+2]+=z*ye,nt(S,2*D+2*M+2)}for(D=0;D<R;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=R;D<2*R;D++)S[D]=0;return new d(S,0)};function nt(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function et(x,R){this.g=x,this.h=R}function vt(x,R){if(B(R))throw Error("division by zero");if(B(x))return new et(w,w);if($(x))return R=vt(q(x),R),new et(q(R.g),q(R.h));if($(R))return R=vt(x,q(R)),new et(q(R.g),R.h);if(30<x.g.length){if($(x)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var S=I,D=R;0>=D.l(x);)S=ht(S),D=ht(D);var M=wt(S,1),z=wt(D,1);for(D=wt(D,2),S=wt(S,2);!B(D);){var C=z.add(D);0>=C.l(x)&&(M=M.add(S),z=C),D=wt(D,1),S=wt(S,1)}return R=X(x,M.j(R)),new et(M,R)}for(M=w;0<=x.l(R);){for(S=Math.max(1,Math.floor(x.m()/R.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=y(S),C=z.j(R);$(C)||0<C.l(x);)S-=D,z=y(S),C=z.j(R);B(z)&&(z=I),M=M.add(z),x=X(x,C)}return new et(M,x)}r.A=function(x){return vt(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)&x.i(D);return new d(S,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)|x.i(D);return new d(S,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)^x.i(D);return new d(S,this.h^x.h)};function ht(x){for(var R=x.g.length+1,S=[],D=0;D<R;D++)S[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(S,x.h)}function wt(x,R){var S=R>>5;R%=32;for(var D=x.g.length-S,M=[],z=0;z<D;z++)M[z]=0<R?x.i(z+S)>>>R|x.i(z+S+1)<<32-R:x.i(z+S);return new d(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Yv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Vr=d}).apply(typeof s_<"u"?s_:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $v,Jl,Xv,tc,pd,Zv,Wv,Jv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,A=!1,P={next:function(){if(!A&&_<u.length){var H=_++;return{value:g(H,u[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function T(u,g,_){return u.call.apply(u.bind,arguments)}function w(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(g,P)}}return function(){return u.apply(g,arguments)}}function I(u,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,I.apply(null,arguments)}function V(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function B(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,P,H){for(var it=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)it[Mt-2]=arguments[Mt];return g.prototype[P].apply(A,it)}}function $(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function q(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const P=u.length||0,H=A.length||0;u.length=P+H;for(let it=0;it<H;it++)u[P+it]=A[it]}else u.push(A)}}class X{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function nt(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function vt(u){return vt[" "](u),u}vt[" "]=function(){};var ht=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function wt(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function x(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function R(u){const g={};for(const _ in u)g[_]=u[_];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,g){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let H=0;H<S.length;H++)_=S[H],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function M(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function z(u){m.setTimeout(()=>{throw u},0)}function C(){var u=qt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ye{constructor(){this.h=this.g=null}add(g,_){const A=he.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new X(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,dt=!1,qt=new ye,O=()=>{const u=m.Promise.resolve(void 0);yt=()=>{u.then(J)}};var J=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){z(_)}var g=he;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}dt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function Rt(u,g){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ht){t:{try{vt(g.nodeName);var P=!0;break t}catch{}P=!1}P||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}B(Rt,at);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),zt=0;function ie(u,g,_,A,P){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=P,this.key=++zt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,g,_,A,P){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var it=mn(u,g,A,P);return-1<it?(g=u[it],_||(g.fa=!1)):(g=new ie(g,this.src,H,!!A,P),g.fa=_,u.push(g)),g};function hi(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,g,void 0),H;(H=0<=P)&&Array.prototype.splice.call(A,P,1),H&&(Gt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function mn(u,g,_,A){for(var P=0;P<u.length;++P){var H=u[P];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==A)return P}return-1}var Fi="closure_lm_"+(1e6*Math.random()|0),Gi={};function fi(u,g,_,A,P){if(Array.isArray(g)){for(var H=0;H<g.length;H++)fi(u,g[H],_,A,P);return null}return _=So(_),u&&u[fe]?u.K(g,_,y(A)?!!A.capture:!1,P):Hs(u,g,_,!1,A,P)}function Hs(u,g,_,A,P,H){if(!g)throw Error("Invalid event type");var it=y(P)?!!P.capture:!!P,Mt=Fs(u);if(Mt||(u[Fi]=Mt=new Ye(u)),_=Mt.add(g,_,A,it,H),_.proxy)return _;if(A=xa(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)st||(P=it),P===void 0&&(P=!1),u.addEventListener(g.toString(),A,P);else if(u.attachEvent)u.attachEvent(La(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function xa(){function u(_){return g.call(u.src,u.listener,_)}const g=Fc;return u}function Ua(u,g,_,A,P){if(Array.isArray(g))for(var H=0;H<g.length;H++)Ua(u,g[H],_,A,P);else A=y(A)?!!A.capture:!!A,_=So(_),u&&u[fe]?(u=u.i,g=String(g).toString(),g in u.g&&(H=u.g[g],_=mn(H,_,A,P),-1<_&&(Gt(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[g],u.h--)))):u&&(u=Fs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=mn(g,_,A,P)),(_=-1<u?g[u]:null)&&Hr(_))}function Hr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[fe])hi(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(La(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Fs(g))?(hi(_,u),_.h==0&&(_.src=null,g[Fi]=null)):Gt(u)}}}function La(u){return u in Gi?Gi[u]:Gi[u]="on"+u}function Fc(u,g){if(u.da)u=!0;else{g=new Rt(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&Hr(u),u=_.call(A,g)}return u}function Fs(u){return u=u[Fi],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function So(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(g){return u.handleEvent(g)}),u[tn])}function _e(){ct.call(this),this.i=new Ye(this),this.M=this,this.F=null}B(_e,ct),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,g,_,A){Ua(this,u,g,_,A)};function Ce(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new at(g,u);else if(g instanceof at)g.target=g.target||u;else{var P=g;g=new at(A,u),D(g,P)}if(P=!0,_)for(var H=_.length-1;0<=H;H--){var it=g.g=_[H];P=di(it,A,!0,g)&&P}if(it=g.g=u,P=di(it,A,!0,g)&&P,P=di(it,A,!1,g)&&P,_)for(H=0;H<_.length;H++)it=g.g=_[H],P=di(it,A,!1,g)&&P}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)Gt(_[A]);delete u.g[g],u.h--}}this.F=null},_e.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},_e.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function di(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,H=0;H<g.length;++H){var it=g[H];if(it&&!it.da&&it.capture==_){var Mt=it.listener,Ee=it.ha||it.src;it.fa&&hi(u.i,it),P=Mt.call(Ee,A)!==!1&&P}}return P&&!A.defaultPrevented}function bo(u,g,_){if(typeof u=="function")_&&(u=I(u,_));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Gs(u){u.g=bo(()=>{u.g=null,u.i&&(u.i=!1,Gs(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Gc extends ct{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Gs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(u){ct.call(this),this.h=u,this.g={}}B(Fr,ct);var Qi=[];function qe(u){wt(u.g,function(g,_){this.g.hasOwnProperty(_)&&Hr(g)},u),u.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),qe(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qs=m.JSON.stringify,qn=m.JSON.parse,$e=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Ks(){}Ks.prototype.h=null;function Ro(u){return u.h||(u.h=u.i())}function wo(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ki(){at.call(this,"d")}B(Ki,at);function Nn(){at.call(this,"c")}B(Nn,at);var gn={},Yi=null;function Pa(){return Yi=Yi||new _e}gn.La="serverreachability";function Ys(u){at.call(this,gn.La,u)}B(Ys,at);function $i(u){const g=Pa();Ce(g,new Ys(g))}gn.STAT_EVENT="statevent";function za(u,g){at.call(this,gn.STAT_EVENT,u),this.stat=g}B(za,at);function oe(u){const g=Pa();Ce(g,new za(g,u))}gn.Ma="timingevent";function Co(u,g){at.call(this,gn.Ma,u),this.size=g}B(Co,at);function Xi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function Do(u,g,_,A,P,H){u.info(function(){if(u.g)if(H)for(var it="",Mt=H.split("&"),Ee=0;Ee<Mt.length;Ee++){var xt=Mt[Ee].split("=");if(1<xt.length){var Ve=xt[0];xt=xt[1];var Te=Ve.split("_");it=2<=Te.length&&Te[1]=="type"?it+(Ve+"="+xt+"&"):it+(Ve+"=redacted&")}}else it=null;else it=H;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+_+`
`+it})}function Io(u,g,_,A,P,H,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+_+`
`+H+" "+it})}function Wi(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(u,_)+(A?" "+A:"")})}function Fn(u,g){u.info(function(){return"TIMEOUT: "+g})}Zi.prototype.info=function(){};function De(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var H=P[0];if(H!="noop"&&H!="stop"&&H!="close")for(var it=1;it<P.length;it++)P[it]=""}}}}return Qs(_)}catch{return g}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gr;function ka(){}B(ka,Ks),ka.prototype.g=function(){return new XMLHttpRequest},ka.prototype.i=function(){return{}},Gr=new ka;function Gn(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $s}function $s(){this.i=null,this.g="",this.h=!1}var Ji={},Qr={};function Mn(u,g,_){u.L=1,u.v=$r(re(g)),u.m=_,u.P=!0,gi(u,null)}function gi(u,g){u.F=Date.now(),Jt(u),u.A=re(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),_i(_.i,"t",A),u.C=0,_=u.j.J,u.h=new $s,u.g=Ho(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Gc(I(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Qi[0]=P.toString()),P=Qi);for(var H=0;H<P.length;H++){var it=fi(_,P[H],A||g.handleEvent,!1,g.h||g);if(!it)break;g.g[it.key]=it}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),$i(),Do(u.i,u.u,u.A,u.l,u.R,u.m)}Gn.prototype.ca=function(u){u=u.target;const g=this.M;g&&En(u)==3?g.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=En(this.g);var g=this.g.Ba();const Ai=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Uo(this.g)))){this.J||Te!=4||g==7||(g==8||0>=Ai?$i(3):$i(2)),Ba(this);var _=this.g.Z();this.X=_;e:if(tr(this)){var A=Uo(this.g);u="";var P=A.length,H=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),sn(this);var it="";break e}this.h.i=new m.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(H&&g==P-1)});A.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,Io(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Mt)){var xt=Mt;break e}}xt=null}if(_=xt)Wi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,_);else{this.o=!1,this.s=3,oe(12),en(this),sn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<it.length;)if(Ue=er(this,it),Ue==Qr){Te==4&&(this.s=4,oe(14),_=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ji){this.s=4,oe(15),Wi(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else Wi(this.i,this.l,Ue,null),ln(this,Ue);if(tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||it.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)Wi(this.i,this.l,it,"[Invalid Chunked Response]"),en(this),sn(this);else if(0<it.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),na(Ve),Ve.M=!0,oe(11))}}else Wi(this.i,this.l,it,null),ln(this,it);Te==4&&en(this),this.o&&!this.J&&(Te==4?Bo(this.j,this):(this.o=!1,Jt(this)))}else Zc(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),en(this),sn(this)}}}catch{}finally{}};function tr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function er(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Qr:(_=Number(g.substring(_,A)),isNaN(_)?Ji:(A+=1,A+_>g.length?Qr:(g=g.slice(A,A+_),u.C=A+_,g)))}Gn.prototype.cancel=function(){this.J=!0,en(this)};function Jt(u){u.S=Date.now()+u.I,Xs(u,u.I)}function Xs(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Xi(I(u.ba,u),g)}function Ba(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Gn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fn(this.i,this.A),this.L!=2&&($i(),oe(17)),en(this),this.s=2,sn(this)):Xs(this,this.S-u)};function sn(u){u.j.G==0||u.J||Bo(u.j,u)}function en(u){Ba(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,qe(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ln(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||nr(_.h,u))){if(!u.K&&nr(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Xa(_),Ya(_);else break t;ll(_),oe(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=Xi(I(_.Za,_),6e3));if(1>=Vo(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ti(_,11)}else if((u.K||_.g==u)&&Xa(_),!nt(g))for(P=_.Da.g.parse(g),g=0;g<P.length;g++){let xt=P[g];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const Ve=xt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Te=xt[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ai=xt[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(A=1.5*Ai,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Wn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var H=A.h;H.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ir(H,H.h),H.h=null))}if(A.D){const ul=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(A.ya=ul,kt(A.I,A.D,ul))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var it=u;if(A.qa=qo(A,A.J?A.ia:null,A.W),it.K){pn(A.h,it);var Mt=it,Ee=A.L;Ee&&(Mt.I=Ee),Mt.B&&(Ba(Mt),Jt(Mt)),A.g=it}else zo(A);0<_.i.length&&$a(_)}else xt[0]!="stop"&&xt[0]!="close"||Ti(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ti(_,7):al(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}$i(4)}catch{}}var Qc=class{constructor(u,g){this.g=u,this.map=g}};function Zs(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ws(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vo(u){return u.h?1:u.g?u.g.size:0}function nr(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ir(u,g){u.g?u.g.add(g):u.h=g}function pn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Zs.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xe(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return $(u.i)}function Oo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function Kc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function Kr(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Kc(u),A=Oo(u),P=A.length,H=0;H<P;H++)g.call(void 0,A[H],_&&_[H],u)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),P=null;if(0<=A){var H=u[_].substring(0,A);P=u[_].substring(A+1)}else H=u[_];g(H,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function pi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pi){this.h=u.h,rr(this,u.j),this.o=u.o,this.g=u.g,Yr(this,u.s),this.l=u.l;var g=u.i,_=new Qn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),qa(this,_),this.m=u.m}else u&&(g=String(u).match(Js))?(this.h=!1,rr(this,g[1]||"",!0),this.o=ar(g[2]||""),this.g=ar(g[3]||"",!0),Yr(this,g[4]),this.l=ar(g[5]||"",!0),qa(this,g[6]||"",!0),this.m=ar(g[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}pi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(yn(g,tl,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(yn(g,tl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(yn(_,_.charAt(0)=="/"?el:No,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",yn(_,Xc)),u.join("")};function re(u){return new pi(u)}function rr(u,g,_){u.j=_?ar(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Yr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function qa(u,g,_){g instanceof Qn?(u.i=g,nl(u.i,u.h)):(_||(g=yn(g,$c)),u.i=new Qn(g,u.h))}function kt(u,g,_){u.i.set(g,_)}function $r(u){return kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ar(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yn(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Yc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Yc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var tl=/[#\/\?@]/g,No=/[#\?:]/g,el=/[#\?]/g,$c=/[#\?@]/g,Xc=/#/g;function Qn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&ja(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Qn.prototype,r.add=function(u,g){_n(this),this.i=null,u=vi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Ha(u,g){_n(u),g=vi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function yi(u,g){return _n(u),g=vi(u,g),u.g.has(g)}r.forEach=function(u,g){_n(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(g,P,A,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const P=u[A];for(let H=0;H<P.length;H++)_.push(g[A])}return _},r.V=function(u){_n(this);let g=[];if(typeof u=="string")yi(this,u)&&(g=g.concat(this.g.get(vi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},r.set=function(u,g){return _n(this),this.i=null,u=vi(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function _i(u,g,_){Ha(u,g),0<_.length&&(u.i=null,u.g.set(vi(u,g),$(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const H=encodeURIComponent(String(A)),it=this.V(A);for(A=0;A<it.length;A++){var P=H;it[A]!==""&&(P+="="+encodeURIComponent(String(it[A]))),u.push(P)}}return this.i=u.join("&")};function vi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function nl(u,g){g&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(Ha(this,A),_i(this,P,_))},u)),u.j=g}function Mo(u,g){const _=new Zi;if(m.Image){const A=new Image;A.onload=V(vn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=V(vn,_,"TestLoadImage: error",!1,g,A),A.onabort=V(vn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=V(vn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Xr(u,g){const _=new Zi,A=new AbortController,P=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(P),H.ok?vn(_,"TestPingServer: ok",!0,g):vn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),vn(_,"TestPingServer: error",!1,g)})}function vn(u,g,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function Zr(){this.g=new $e}function Kn(u,g,_){const A=_||"";try{Kr(u,function(P,H){let it=P;y(P)&&(it=Qs(P)),g.push(A+H+"="+encodeURIComponent(it))})}catch(P){throw g.push(A+"type="+encodeURIComponent("_badmap")),P}}function sr(u){this.l=u.Ub||null,this.j=u.eb||!1}B(sr,Ks),sr.prototype.g=function(){return new Ei(this.l,this.j)},sr.prototype.i=function(u){return function(){return u}}({});function Ei(u,g){_e.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ei,_e),r=Ei.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,$n(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;il(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function il(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Yn(this):$n(this),this.readyState==3&&il(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function rl(u){let g="";return wt(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ie(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=rl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):kt(u,g,_))}function Ht(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Ht,_e);var Fa=/^https?$/i,Wr=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gr.g(),this.v=this.o?Ro(this.o):Ro(Gr),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){xo(this,H);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())_.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Wr,g,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of _)this.g.setRequestHeader(H,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){xo(this,H)}};function xo(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Ga(u),Xn(u)}function Ga(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},r.bb=function(){Qa(this)};function Qa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)bo(u.Ea,0,u);else if(Ce(u,"readystatechange"),En(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=it===0){var P=String(u.D).match(Js)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),A=!Fa.test(P?P.toLowerCase():"")}_=A}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var H=2<En(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Ga(u)}}finally{Xn(u)}}}}function Xn(u,g){if(u.g){Jr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ce(u,"ready");try{_.onreadystatechange=A}catch{}}}function Jr(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),qn(g)}};function Uo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zc(u){const g={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(nt(u[A]))continue;var _=M(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[P]||[];g[P]=H,H.push(_)}x(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Ka(u){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,u),this.cb=ta("retryDelaySeedMs",1e4,u),this.Wa=ta("forwardChannelMaxRetries",2,u),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Zs(u&&u.concurrentRequestLimit),this.Da=new Zr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ka.prototype,r.la=8,r.G=1,r.connect=function(u,g,_,A){oe(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=qo(this,null,this.W),$a(this)};function al(u){if(Lo(u),u.G==3){var g=u.U++,_=re(u.I);if(kt(_,"SID",u.K),kt(_,"RID",g),kt(_,"TYPE","terminate"),ea(u,_),g=new Gn(u,u.j,g),g.L=2,g.v=$r(re(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Ho(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Jt(g)}jo(u)}function Ya(u){u.g&&(na(u),u.g.cancel(),u.g=null)}function Lo(u){Ya(u),u.u&&(m.clearTimeout(u.u),u.u=null),Xa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function $a(u){if(!Ws(u.h)&&!u.s){u.s=!0;var g=u.Ga;yt||O(),dt||(yt(),dt=!0),qt.add(g,u),u.B=0}}function Wc(u,g){return Vo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Xi(I(u.Ga,u,g),ol(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Gn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=R(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(P.H=H,H=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Po(this,P,g),_=re(this.I),kt(_,"RID",u),kt(_,"CVER",22),this.D&&kt(_,"X-HTTP-Session-Id",this.D),ea(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(rl(H)))+"&"+g:this.m&&Ie(_,this.m,H)),ir(this.h,P),this.Ua&&kt(_,"TYPE","init"),this.P?(kt(_,"$req",g),kt(_,"SID","null"),P.T=!0,Mn(P,_,null)):Mn(P,_,g),this.G=2}}else this.G==3&&(u?sl(this,u):this.i.length==0||Ws(this.h)||sl(this))};function sl(u,g){var _;g?_=g.l:_=u.U++;const A=re(u.I);kt(A,"SID",u.K),kt(A,"RID",_),kt(A,"AID",u.T),ea(u,A),u.m&&u.o&&Ie(A,u.m,u.o),_=new Gn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Po(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ir(u.h,_),Mn(_,A,g)}function ea(u,g){u.H&&wt(u.H,function(_,A){kt(g,A,_)}),u.l&&Kr({},function(_,A){kt(g,A,_)})}function Po(u,g,_){_=Math.min(u.i.length,_);var A=u.l?I(u.l.Na,u.l,u):null;t:{var P=u.i;let H=-1;for(;;){const it=["count="+_];H==-1?0<_?(H=P[0].g,it.push("ofs="+H)):H=0:it.push("ofs="+H);let Mt=!0;for(let Ee=0;Ee<_;Ee++){let xt=P[Ee].g;const Ve=P[Ee].map;if(xt-=H,0>xt)H=Math.max(0,P[Ee].g-100),Mt=!1;else try{Kn(Ve,it,"req"+xt+"_")}catch{A&&A(Ve)}}if(Mt){A=it.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,A}function zo(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;yt||O(),dt||(yt(),dt=!0),qt.add(g,u),u.v=0}}function ll(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Xi(I(u.Fa,u),ol(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,ko(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Xi(I(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Ya(this),ko(this))};function na(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function ko(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=re(u.qa);kt(g,"RID","rpc"),kt(g,"SID",u.K),kt(g,"AID",u.T),kt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&kt(g,"TO",u.ja),kt(g,"TYPE","xmlhttp"),ea(u,g),u.m&&u.o&&Ie(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=$r(re(g)),_.m=null,_.P=!0,gi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Ya(this),ll(this),oe(19))};function Xa(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Bo(u,g){var _=null;if(u.g==g){Xa(u),na(u),u.g=null;var A=2}else if(nr(u.h,g))_=g.D,pn(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var P=u.B;A=Pa(),Ce(A,new Co(A,_)),$a(u)}else zo(u);else if(P=g.s,P==3||P==0&&0<g.X||!(A==1&&Wc(u,g)||A==2&&ll(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),P){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function ol(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Ti(u,g){if(u.j.info("Error code "+g),g==2){var _=I(u.fb,u),A=u.Xa;const P=!A;A=new pi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||rr(A,"https"),$r(A),P?Mo(A.toString(),_):Xr(A.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(g),jo(u),Lo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function jo(u){if(u.G=0,u.ka=[],u.l){const g=Xe(u.h);(g.length!=0||u.i.length!=0)&&(q(u.ka,g),q(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function qo(u,g,_){var A=_ instanceof pi?re(_):new pi(_);if(A.g!="")g&&(A.g=g+"."+A.g),Yr(A,A.s);else{var P=m.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var H=new pi(null);A&&rr(H,A),g&&(H.g=g),P&&Yr(H,P),_&&(H.l=_),A=H}return _=u.D,g=u.ya,_&&g&&kt(A,_,g),kt(A,"VER",u.la),ea(u,A),A}function Ho(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ht(new sr({eb:_})):new Ht(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}r=Fo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Za(){}Za.prototype.g=function(u,g){return new Ze(u,g)};function Ze(u,g){_e.call(this),this.g=new Ka(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!nt(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!nt(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Zn(this)}B(Ze,_e),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){al(this.g)},Ze.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Qs(u),u=_);g.i.push(new Qc(g.Ya++,u)),g.G==3&&$a(g)},Ze.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,Ze.aa.N.call(this)};function Go(u){Ki.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}B(Go,Ki);function Qo(){Nn.call(this),this.status=1}B(Qo,Nn);function Zn(u){this.g=u}B(Zn,Fo),Zn.prototype.ua=function(){Ce(this.g,"a")},Zn.prototype.ta=function(u){Ce(this.g,new Go(u))},Zn.prototype.sa=function(u){Ce(this.g,new Qo)},Zn.prototype.ra=function(){Ce(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,Jv=function(){return new Za},Wv=function(){return Pa()},Zv=gn,pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,tc=ve,mi.COMPLETE="complete",Xv=mi,wo.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Jl=wo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,$v=Ht}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",o_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new qd("@firebase/firestore");function bs(){return Da.logLevel}function lt(r,...e){if(Da.logLevel<=Pt.DEBUG){const i=e.map($d);Da.debug(`Firestore (${ks}): ${r}`,...i)}}function qi(r,...e){if(Da.logLevel<=Pt.ERROR){const i=e.map($d);Da.error(`Firestore (${ks}): ${r}`,...i)}}function Is(r,...e){if(Da.logLevel<=Pt.WARN){const i=e.map($d);Da.warn(`Firestore (${ks}): ${r}`,...i)}}function $d(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r="Unexpected state"){const e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+r;throw qi(e),new Error(e)}function Ft(r,e){r||_t()}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends qr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class N1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class M1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Or,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Or)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new tE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string"),new Qe(e)}}class x1{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class U1{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new x1(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L1{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xb(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0);const s=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new u_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ft(typeof i.token=="string"),this.R=i.token,new u_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=P1(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Nt(r,e){return r<e?-1:r>e?1:0}function Vs(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=-62135596800,h_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*h_);return new Re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<c_)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h_}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-c_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Re(0,0))}static max(){return new Et(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="__name__";class ri{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(),s===void 0?s=e.length-i:s>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ri.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=ri.isNumericId(e),o=ri.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ri.extractNumericId(e).compare(ri.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class Zt extends ri{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new mt(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const z1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ri{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return z1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f_}static keyField(){return new Be([f_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new mt(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new mt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(c(),o++)}if(c(),d)throw new mt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Zt.fromString(e))}static fromName(e){return new gt(Zt.fromString(e).popFirst(5))}static empty(){return new gt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=-1;function k1(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new Ur(o,gt.empty(),e)}function B1(r){return new Ur(r.readTime,r.key,uo)}class Ur{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ur(Et.min(),gt.empty(),uo)}static max(){return new Ur(Et.max(),gt.empty(),uo)}}function j1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==q1)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,s)=>{i(e)})}static reject(e){return new Y((i,s)=>{s(e)})}static waitFor(e){return new Y((i,s)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next(o=>o?Y.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new Y((s,o)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(T=>{d[y]=T,++m,m===c&&s(d)},T=>o(T))}})}static doWhile(e,i){return new Y((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function F1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function js(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Vc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=-1;function Oc(r){return r==null}function fc(r){return r===0&&1/r==-1/0}function G1(r){return typeof r=="number"&&Number.isInteger(r)&&!fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="";function Q1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=d_(e)),e=K1(r.get(i),e);return d_(e)}function K1(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case nE:i+="";break;default:i+=c}}return i}function d_(r){return r+nE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Va(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function iE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=c??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,s,o,c){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(e){return new g_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class g_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new zn([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new rE("Invalid base64 string: "+c):c}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const Y1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(r){if(Ft(!!r),typeof r=="string"){let e=0;const i=Y1.exec(r);if(Ft(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Pr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="server_timestamp",sE="__type__",lE="__previous_value__",oE="__local_write_time__";function Zd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[sE])===null||i===void 0?void 0:i.stringValue)===aE}function Nc(r){const e=r.mapValue.fields[lE];return Zd(e)?Nc(e):e}function co(r){const e=Lr(r.mapValue.fields[oE].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,i,s,o,c,d,m,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const dc="(default)";class ho{constructor(e,i){this.projectId=e,this.database=i||dc}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===dc}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__type__",X1="__max__",Ku={mapValue:{}},cE="__vector__",mc="value";function zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zd(r)?4:W1(r)?9007199254740991:Z1(r)?10:11:_t()}function oi(r,e){if(r===e)return!0;const i=zr(r);if(i!==zr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return co(r).isEqual(co(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Lr(o.timestampValue),m=Lr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Pr(o.bytesValue).isEqual(Pr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ce(o.doubleValue),m=ce(c.doubleValue);return d===m?fc(d)===fc(m):isNaN(d)&&isNaN(m)}return!1}(r,e);case 9:return Vs(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(m_(d)!==m_(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!oi(d[p],m[p])))return!1;return!0}(r,e);default:return _t()}}function fo(r,e){return(r.values||[]).find(i=>oi(i,e))!==void 0}function Os(r,e){if(r===e)return 0;const i=zr(r),s=zr(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return function(c,d){const m=ce(c.integerValue||c.doubleValue),p=ce(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return p_(r.timestampValue,e.timestampValue);case 4:return p_(co(r),co(e));case 5:return Nt(r.stringValue,e.stringValue);case 6:return function(c,d){const m=Pr(c),p=Pr(d);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Nt(m[y],p[y]);if(T!==0)return T}return Nt(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Nt(ce(c.latitude),ce(d.latitude));return m!==0?m:Nt(ce(c.longitude),ce(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return y_(r.arrayValue,e.arrayValue);case 10:return function(c,d){var m,p,y,T;const w=c.fields||{},I=d.fields||{},V=(m=w[mc])===null||m===void 0?void 0:m.arrayValue,B=(p=I[mc])===null||p===void 0?void 0:p.arrayValue,$=Nt(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((T=B==null?void 0:B.values)===null||T===void 0?void 0:T.length)||0);return $!==0?$:y_(V,B)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===Ku.mapValue&&d===Ku.mapValue)return 0;if(c===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const I=Nt(p[w],T[w]);if(I!==0)return I;const V=Os(m[p[w]],y[T[w]]);if(V!==0)return V}return Nt(p.length,T.length)}(r.mapValue,e.mapValue);default:throw _t()}}function p_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Nt(r,e);const i=Lr(r),s=Lr(e),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function y_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Os(i[o],s[o]);if(c)return c}return Nt(i.length,s.length)}function Ns(r){return yd(r)}function yd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Lr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Pr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return gt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=yd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${yd(i.fields[d])}`;return o+"}"}(r.mapValue):_t()}function ec(r){switch(zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nc(r);return e?16+ec(e):16;case 5:return 2*r.stringValue.length;case 6:return Pr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+ec(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Va(s.fields,(c,d)=>{o+=c.length+ec(d)}),o}(r.mapValue);default:throw _t()}}function _d(r){return!!r&&"integerValue"in r}function Wd(r){return!!r&&"arrayValue"in r}function __(r){return!!r&&"nullValue"in r}function v_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nc(r){return!!r&&"mapValue"in r}function Z1(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[uE])===null||i===void 0?void 0:i.stringValue)===cE}function io(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Va(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=io(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=io(r.arrayValue.values[i]);return e}return Object.assign({},r)}function W1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===X1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}d?s[m.lastSegment()]=io(d):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Va(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new On(io(this.value))}}function hE(r){const e=[];return Va(r.fields,(i,s)=>{const o=new Be([i]);if(nc(s)){const c=hE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,c,d,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Ke(e,0,Et.min(),Et.min(),Et.min(),On.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Et.min(),Et.min(),On.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Et.min(),Et.min(),On.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.position=e,this.inclusive=i}}function E_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Os(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function T_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!oi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i="asc"){this.field=e,this.dir=i}}function J1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{}class be extends fE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new ew(e,i,s):i==="array-contains"?new rw(e,s):i==="in"?new aw(e,s):i==="not-in"?new sw(e,s):i==="array-contains-any"?new lw(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new nw(e,s):new iw(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Os(i,this.value)):i!==null&&zr(this.value)===zr(i)&&this.matchesComparison(Os(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends fE{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ui(e,i)}matches(e){return dE(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function dE(r){return r.op==="and"}function mE(r){return tw(r)&&dE(r)}function tw(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function vd(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Ns(r.value);if(mE(r))return r.filters.map(e=>vd(e)).join(",");{const e=r.filters.map(i=>vd(i)).join(",");return`${r.op}(${e})`}}function gE(r,e){return r instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&oi(s.value,o.value)}(r,e):r instanceof ui?function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,m)=>c&&gE(d,o.filters[m]),!0):!1}(r,e):void _t()}function pE(r){return r instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${Ns(i.value)}`}(r):r instanceof ui?function(i){return i.op.toString()+" {"+i.getFilters().map(pE).join(" ,")+"}"}(r):"Filter"}class ew extends be{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class nw extends be{constructor(e,i){super(e,"in",i),this.keys=yE("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class iw extends be{constructor(e,i){super(e,"not-in",i),this.keys=yE("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function yE(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class rw extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wd(i)&&fo(i.arrayValue,this.value)}}class aw extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&fo(this.value.arrayValue,i)}}class sw extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!fo(this.value.arrayValue,i)}}class lw extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>fo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,i=null,s=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function A_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new ow(r,e,i,s,o,c,d)}function Jd(r){const e=At(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>vd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Oc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ns(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ns(s)).join(",")),e.le=i}return e.le}function tm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!J1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!gE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!T_(r.startAt,e.startAt)&&T_(r.endAt,e.endAt)}function Ed(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i=null,s=[],o=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uw(r,e,i,s,o,c,d,m){return new Mc(r,e,i,s,o,c,d,m)}function _E(r){return new Mc(r)}function S_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cw(r){return r.collectionGroup!==null}function ro(r){const e=At(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new pc(c,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new pc(Be.keyField(),s))}return e.he}function si(r){const e=At(r);return e.Pe||(e.Pe=hw(e,ro(r))),e.Pe}function hw(r,e){if(r.limitType==="F")return A_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new pc(o.field,c)});const i=r.endAt?new gc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gc(r.startAt.position,r.startAt.inclusive):null;return A_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Td(r,e,i){return new Mc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function xc(r,e){return tm(si(r),si(e))&&r.limitType===e.limitType}function vE(r){return`${Jd(si(r))}|lt:${r.limitType}`}function Rs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>pE(o)).join(", ")}]`),Oc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ns(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ns(o)).join(",")),`Target(${s})`}(si(r))}; limitType=${r.limitType})`}function Uc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of ro(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,m,p){const y=E_(d,m,p);return d.inclusive?y<=0:y<0}(s.startAt,ro(s),o)||s.endAt&&!function(d,m,p){const y=E_(d,m,p);return d.inclusive?y>=0:y>0}(s.endAt,ro(s),o))}(r,e)}function fw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function EE(r){return(e,i)=>{let s=!1;for(const o of ro(r)){const c=dw(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function dw(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Os(p,y):_t()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new ne(gt.comparator);function Hi(){return mw}const TE=new ne(gt.comparator);function to(...r){let e=TE;for(const i of r)e=e.insert(i.key,i);return e}function AE(r){let e=TE;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ba(){return ao()}function SE(){return ao()}function ao(){return new Oa(r=>r.toString(),(r,e)=>r.isEqual(e))}const gw=new ne(gt.comparator),pw=new we(gt.comparator);function Vt(...r){let e=pw;for(const i of r)e=e.add(i);return e}const yw=new we(Nt);function _w(){return yw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function bE(r){return{integerValue:""+r}}function vw(r,e){return G1(e)?bE(e):em(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function Ew(r,e,i){return r instanceof yc?function(o,c){const d={fields:{[sE]:{stringValue:aE},[oE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zd(c)&&(c=Nc(c)),c&&(d.fields[lE]=c),{mapValue:d}}(i,e):r instanceof mo?wE(r,e):r instanceof go?CE(r,e):function(o,c){const d=RE(o,c),m=b_(d)+b_(o.Ie);return _d(d)&&_d(o.Ie)?bE(m):em(o.serializer,m)}(r,e)}function Tw(r,e,i){return r instanceof mo?wE(r,e):r instanceof go?CE(r,e):i}function RE(r,e){return r instanceof _c?function(s){return _d(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class yc extends Lc{}class mo extends Lc{constructor(e){super(),this.elements=e}}function wE(r,e){const i=DE(e);for(const s of r.elements)i.some(o=>oi(o,s))||i.push(s);return{arrayValue:{values:i}}}class go extends Lc{constructor(e){super(),this.elements=e}}function CE(r,e){let i=DE(e);for(const s of r.elements)i=i.filter(o=>!oi(o,s));return{arrayValue:{values:i}}}class _c extends Lc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function b_(r){return ce(r.integerValue||r.doubleValue)}function DE(r){return Wd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Aw(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof mo&&o instanceof mo||s instanceof go&&o instanceof go?Vs(s.elements,o.elements,oi):s instanceof _c&&o instanceof _c?oi(s.Ie,o.Ie):s instanceof yc&&o instanceof yc}(r.transform,e.transform)}class Sw{constructor(e,i){this.version=e,this.transformResults=i}}class ki{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Pc{}function IE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new OE(r.key,ki.none()):new vo(r.key,r.data,ki.none());{const i=r.data,s=On.empty();let o=new we(Be.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Na(r.key,s,new zn(o.toArray()),ki.none())}}function bw(r,e,i){r instanceof vo?function(o,c,d){const m=o.value.clone(),p=w_(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,i):r instanceof Na?function(o,c,d){if(!ic(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=w_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(VE(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function so(r,e,i,s){return r instanceof vo?function(c,d,m,p){if(!ic(c.precondition,d))return m;const y=c.value.clone(),T=C_(c.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Na?function(c,d,m,p){if(!ic(c.precondition,d))return m;const y=C_(c.fieldTransforms,p,d),T=d.data;return T.setAll(VE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,e,i,s):function(c,d,m){return ic(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,e,i)}function Rw(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=RE(s.transform,o||null);c!=null&&(i===null&&(i=On.empty()),i.set(s.field,c))}return i||null}function R_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vs(s,o,(c,d)=>Aw(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vo extends Pc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Na extends Pc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function VE(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function w_(r,e,i){const s=new Map;Ft(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,m=e.data.field(c.field);s.set(c.field,Tw(d,m,i[o]))}return s}function C_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,Ew(c,d,e))}return s}class OE extends Pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ww extends Pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&bw(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=so(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=so(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=SE();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=i.has(o.key)?null:m;const p=IE(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(i,s)=>R_(i,s))&&Vs(this.baseMutations,e.baseMutations,(i,s)=>R_(i,s))}}class nm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ft(e.mutations.length===s.length);let o=function(){return gw}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new nm(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function Vw(r){switch(r){case W.OK:return _t();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _t()}}function NE(r){if(r===void 0)return qi("GRPC error has no .code"),W.UNKNOWN;switch(r){case pe.OK:return W.OK;case pe.CANCELLED:return W.CANCELLED;case pe.UNKNOWN:return W.UNKNOWN;case pe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pe.INTERNAL:return W.INTERNAL;case pe.UNAVAILABLE:return W.UNAVAILABLE;case pe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pe.NOT_FOUND:return W.NOT_FOUND;case pe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pe.ABORTED:return W.ABORTED;case pe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pe.DATA_LOSS:return W.DATA_LOSS;default:return _t()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Vr([4294967295,4294967295],0);function D_(r){const e=Ow().encode(r),i=new Yv;return i.update(e),new Uint8Array(i.digest())}function I_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Vr([i,s],0),new Vr([o,c],0)]}class im{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new eo(`Invalid padding: ${i}`);if(s<0)throw new eo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new eo(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Vr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Vr.fromNumber(s)));return o.compare(Nw)===1&&(o=new Vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=D_(e),[s,o]=I_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new im(c,o,i);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.Ee===0)return;const i=D_(e),[s,o]=I_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new zc(Et.min(),o,new ne(Nt),Hi(),Vt())}}class Eo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Eo(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class ME{constructor(e,i){this.targetId=e,this.ge=i}}class xE{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class V_{constructor(){this.pe=0,this.ye=O_(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Vt(),i=Vt(),s=Vt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new Eo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=O_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Mw{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Hi(),this.$e=Yu(),this.Ke=Yu(),this.Ue=new ne(Nt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Ed(c))if(s===0){const d=new gt(c.path);this.ze(i,d,Ke.newNoDocument(d,Et.min()))}else Ft(s===1);else{const d=this.et(i);if(d!==s){const m=this.tt(e),p=m?this.nt(m,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,m;try{d=Pr(s).toUint8Array()}catch(p){if(p instanceof rE)return Is("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new im(d,o,c)}catch(p){return Is(p instanceof eo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&Ed(m.target)){const p=new gt(m.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Vt();this.Ke.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new zc(e,i,this.Ue,this.Qe,s);return this.Qe=Hi(),this.$e=Yu(),this.Ke=Yu(),this.Ue=new ne(Nt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new V_,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new we(Nt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Nt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new V_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Yu(){return new ne(gt.comparator)}function O_(){return new ne(gt.comparator)}const xw={asc:"ASCENDING",desc:"DESCENDING"},Uw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lw={and:"AND",or:"OR"};class Pw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ad(r,e){return r.useProto3Json||Oc(e)?e:{value:e}}function vc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zw(r,e){return vc(r,e.toTimestamp())}function li(r){return Ft(!!r),Et.fromTimestamp(function(i){const s=Lr(i);return new Re(s.seconds,s.nanos)}(r))}function rm(r,e){return Sd(r,e).canonicalString()}function Sd(r,e){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function LE(r){const e=Zt.fromString(r);return Ft(jE(e)),e}function bd(r,e){return rm(r.databaseId,e.path)}function rd(r,e){const i=LE(e);if(i.get(1)!==r.databaseId.projectId)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(zE(i))}function PE(r,e){return rm(r.databaseId,e)}function kw(r){const e=LE(r);return e.length===4?Zt.emptyPath():zE(e)}function Rd(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zE(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function N_(r,e,i){return{name:bd(r,e),fields:i.value.mapValue.fields}}function Bw(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string"),je.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array),je.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const T=y.code===void 0?W.UNKNOWN:NE(y.code);return new mt(T,y.message||"")}(d);i=new xE(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=rd(r,s.document.name),c=li(s.document.updateTime),d=s.document.createTime?li(s.document.createTime):Et.min(),m=new On({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,d,m),y=s.targetIds||[],T=s.removedTargetIds||[];i=new rc(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=rd(r,s.document),c=s.readTime?li(s.readTime):Et.min(),d=Ke.newNoDocument(o,c),m=s.removedTargetIds||[];i=new rc([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=rd(r,s.document),c=s.removedTargetIds||[];i=new rc([],c,o,null)}else{if(!("filter"in e))return _t();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new Iw(o,c),m=s.targetId;i=new ME(m,d)}}return i}function jw(r,e){let i;if(e instanceof vo)i={update:N_(r,e.key,e.value)};else if(e instanceof OE)i={delete:bd(r,e.key)};else if(e instanceof Na)i={update:N_(r,e.key,e.data),updateMask:Xw(e.fieldMask)};else{if(!(e instanceof ww))return _t();i={verify:bd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof go)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _c)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw _t()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:zw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t()}(r,e.precondition)),i}function qw(r,e){return r&&r.length>0?(Ft(e!==void 0),r.map(i=>function(o,c){let d=o.updateTime?li(o.updateTime):li(c);return d.isEqual(Et.min())&&(d=li(c)),new Sw(d,o.transformResults||[])}(i,e))):[]}function Hw(r,e){return{documents:[PE(r,e.path)]}}function Fw(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=PE(r,o);const c=function(y){if(y.length!==0)return BE(ui.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(T=>function(I){return{field:ws(I.field),direction:Kw(I.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const m=Ad(r,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function Gw(r){let e=kw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=function(w){const I=kE(w);return I instanceof ui&&mE(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(w){return w.map(I=>function(B){return new pc(Cs(B.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(I))}(i.orderBy));let m=null;i.limit&&(m=function(w){let I;return I=typeof w=="object"?w.value:w,Oc(I)?null:I}(i.limit));let p=null;i.startAt&&(p=function(w){const I=!!w.before,V=w.values||[];return new gc(V,I)}(i.startAt));let y=null;return i.endAt&&(y=function(w){const I=!w.before,V=w.values||[];return new gc(V,I)}(i.endAt)),uw(e,o,d,c,m,"F",p,y)}function Qw(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function kE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Cs(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Cs(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Cs(i.unaryFilter.field);return be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Cs(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(r):r.fieldFilter!==void 0?function(i){return be.create(Cs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ui.create(i.compositeFilter.filters.map(s=>kE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(r):_t()}function Kw(r){return xw[r]}function Yw(r){return Uw[r]}function $w(r){return Lw[r]}function ws(r){return{fieldPath:r.canonicalString()}}function Cs(r){return Be.fromServerFormat(r.fieldPath)}function BE(r){return r instanceof be?function(i){if(i.op==="=="){if(v_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NAN"}};if(__(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(v_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NOT_NAN"}};if(__(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(i.field),op:Yw(i.op),value:i.value}}}(r):r instanceof ui?function(i){const s=i.getFilters().map(o=>BE(o));return s.length===1?s[0]:{compositeFilter:{op:$w(i.op),filters:s}}}(r):_t()}function Xw(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function jE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,i,s,o,c=Et.min(),d=Et.min(),m=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.Tt=e}}function Ww(r){const e=Gw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.Tn=new tC}addToCollectionParentIndex(e,i){return this.Tn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(Ur.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class tC{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Zt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(qE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ms(0)}static Un(){return new Ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="LruGarbageCollector",eC=1048576;function U_([r,e],[i,s]){const o=Nt(r,i);return o===0?Nt(e,s):o}class nC{constructor(e){this.Hn=e,this.buffer=new we(U_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();U_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iC{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){lt(x_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){js(i)?lt(x_,"Ignoring IndexedDB error during garbage collection: ",i):await Bs(i)}await this.er(3e5)})}}class rC{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(Vc.ae);const s=new nC(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(M_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,m,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,i))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),bs()<=Pt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function aC(r,e){return new rC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.changes=new Oa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&so(s.mutation,o,zn.empty(),Re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=ba();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=to();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ba();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{i.set(d,m)})})}computeViews(e,i,s,o){let c=Hi();const d=ao(),m=function(){return ao()}();return i.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Na)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),so(T.mutation,y,T.mutation.getFieldMask(),Re.now())):d.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var w;return m.set(y,new lC(T,(w=d.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,i){const s=ao();let o=new ne((d,m)=>d-m),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||zn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const w=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,w=SE();T.forEach(I=>{if(!c.has(I)){const V=IE(i.get(I),s.get(I));V!==null&&w.set(I,V),c=c.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):Y.resolve(ba());let m=uo,p=c;return d.next(y=>Y.forEach(y,(T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(T)?Y.resolve():this.remoteDocumentCache.getEntry(e,T).next(I=>{p=p.insert(T,I)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Vt())).next(T=>({batchId:m,changes:AE(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=to();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=to();return this.indexManager.getCollectionParents(e,c).next(m=>Y.forEach(m,p=>{const y=function(w,I){return new Mc(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((w,I)=>{d=d.insert(w,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ke.newInvalidDocument(T)))});let m=to();return d.forEach((p,y)=>{const T=c.get(p);T!==void 0&&so(T.mutation,y,zn.empty(),Re.now()),Uc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Y.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:Ww(o.bundledQuery),readTime:li(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.overlays=new ne(gt.comparator),this.Rr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ba();return Y.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),Y.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const o=ba(),c=i.length+1,d=new gt(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ne((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=ba(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=ba(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return Y.resolve(m)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Dw(i,s));let c=this.Rr.get(i);c===void 0&&(c=Vt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.Vr=new we(xe.mr),this.gr=new we(xe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new xe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new gt(new Zt([])),s=new xe(i,e),o=new xe(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new gt(new Zt([])),s=new xe(i,e),o=new xe(i,e+1);let c=Vt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new xe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return gt.comparator(e.key,i.key)||Nt(e.Cr,i.Cr)}static pr(e,i){return Nt(e.Cr,i.Cr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(xe.mr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Cw(c,i,s,o);this.mutationQueue.push(d);for(const m of o)this.Mr=this.Mr.add(new xe(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Xd:this.Fr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const m=this.Or(d.Cr);c.push(m)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Nt);return i.forEach(o=>{const c=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{s=s.add(m.Cr)})}),Y.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new xe(new gt(c),0);let m=new we(Nt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},d),Y.resolve(this.Br(m))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ft(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Y.forEach(i.mutations,o=>{const c=new xe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new xe(i,0),o=this.Mr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.kr=e,this.docs=function(){return new ne(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Hi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Hi();const d=i.path,m=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||j1(B1(T),s)<=0||(o.has(T.key)||Uc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(e,i,s,o){_t()}qr(e,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new mC(this)}getSize(e){return Y.resolve(this.size)}}class mC extends sC{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Y.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.persistence=e,this.Qr=new Oa(i=>Jd(i),tm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Kr=new am,this.targetCount=0,this.Ur=Ms.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),Y.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new Ms(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.zn(i),Y.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Y.waitFor(c).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this.Kr.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),Y.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Vc(0),this.zr=!1,this.zr=!0,this.jr=new hC,this.referenceDelegate=e(this),this.Hr=new gC(this),this.indexManager=new Jw,this.remoteDocumentCache=function(o){return new dC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Zw(i),this.Yr=new uC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new fC(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new pC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return Y.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class pC extends H1{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.ti=new am,this.ni=null}static ri(e){return new sm(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Y.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Y.or([()=>Y.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ec{constructor(e,i){this.persistence=e,this.oi=new Oa(s=>Q1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=aC(this,i)}static ri(e,i){return new Ec(e,i)}Zr(){}Xr(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return Y.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?Y.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(m=>{m||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Y.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}ar(e,i,s){return Y.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new lm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return QS()?8:F1(HS())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new yC;return this._s(e,i,d).next(m=>{if(c.result=m,this.Xi)return this.us(e,i,d,m.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(bs()<=Pt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(bs()<=Pt.DEBUG&&lt("QueryEngine","Query:",Rs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(bs()<=Pt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(i))):Y.resolve())}rs(e,i){if(S_(i))return Y.resolve(null);let s=si(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Td(i,null,"F"),s=si(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Vt(...c);return this.ns.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,m);return this.ls(i,y,d,p.readTime)?this.rs(e,Td(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return S_(i)||o.isEqual(Et.min())?Y.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?Y.resolve(null):(bs()<=Pt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rs(i)),this.hs(e,d,i,k1(o,uo)).next(m=>m))})}cs(e,i){let s=new we(EE(e));return i.forEach((o,c)=>{Uc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return bs()<=Pt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Rs(i)),this.ns.getDocumentsMatchingQuery(e,i,Ur.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="LocalStore",vC=3e8;class EC{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ne(Nt),this.Is=new Oa(c=>Jd(c),tm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function TC(r,e,i,s){return new EC(r,e,i,s)}async function FE(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let p=Vt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:m}))})})}function AC(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const w=y.batch,I=w.keys();let V=Y.resolve();return I.forEach(B=>{V=V.next(()=>T.getEntry(p,B)).next($=>{const q=y.docVersions.get(B);Ft(q!==null),$.version.compareTo(q)<0&&(w.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),T.addEntry($)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function GE(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function SC(r,e){const i=At(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];e.targetChanges.forEach((T,w)=>{const I=o.get(w);if(!I)return;m.push(i.Hr.removeMatchingKeys(c,T.removedDocuments,w).next(()=>i.Hr.addMatchingKeys(c,T.addedDocuments,w)));let V=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,s)),o=o.insert(w,V),function($,q,X){return $.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=vC?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(I,V,T)&&m.push(i.Hr.updateTargetData(c,V))});let p=Hi(),y=Vt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(bC(c,d,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Et.min())){const T=i.Hr.getLastRemoteSnapshotVersion(c).next(w=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(T)}return Y.waitFor(m).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function bC(r,e,i){let s=Vt(),o=Vt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=Hi();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):lt(om,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function RC(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Xd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wC(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,Y.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Cr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function wd(r,e,i){const s=At(r),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!js(d))throw d;lt(om,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function L_(r,e,i){const s=At(r);let o=Et.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const w=At(p),I=w.Is.get(T);return I!==void 0?Y.resolve(w.Ts.get(I)):w.Hr.getTargetData(y,T)}(s,d,si(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?c:Vt())).next(m=>(CC(s,fw(e),m),{documents:m,gs:c})))}function CC(r,e,i){let s=r.Es.get(e)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class P_{constructor(){this.activeTargetIds=_w()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DC{constructor(){this.ho=new P_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new P_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="ConnectivityMonitor";class k_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(z_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){lt(z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function Cd(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="RestConnection",VC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===dc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const d=Cd(),m=this.bo(e,i.toUriEncodedString());lt(ad,`Sending RPC '${e}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,m,p,s).then(y=>(lt(ad,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Is(ad,`RPC '${e}' ${d} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,i,s,o,c,d){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ks}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=VC[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class MC extends OC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Cd();return new Promise((d,m)=>{const p=new $v;p.setWithCredentials(!0),p.listenOnce(Xv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case tc.NO_ERROR:const T=p.getResponseJson();lt(Ge,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case tc.TIMEOUT:lt(Ge,`RPC '${e}' ${c} timed out`),m(new mt(W.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const w=p.getStatus();if(lt(Ge,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const V=I==null?void 0:I.error;if(V&&V.status&&V.message){const B=function(q){const X=q.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(X)>=0?X:W.UNKNOWN}(V.status);m(new mt(B,V.message))}else m(new mt(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new mt(W.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{lt(Ge,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);lt(Ge,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=Cd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Jv(),m=Wv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=c.join("");lt(Ge,`Creating RPC '${e}' stream ${o}: ${T}`,p);const w=d.createWebChannel(T,p);let I=!1,V=!1;const B=new NC({Fo:q=>{V?lt(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(I||(lt(Ge,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),lt(Ge,`RPC '${e}' stream ${o} sending:`,q),w.send(q))},Mo:()=>w.close()}),$=(q,X,nt)=>{q.listen(X,et=>{try{nt(et)}catch(vt){setTimeout(()=>{throw vt},0)}})};return $(w,Jl.EventType.OPEN,()=>{V||(lt(Ge,`RPC '${e}' stream ${o} transport opened.`),B.Qo())}),$(w,Jl.EventType.CLOSE,()=>{V||(V=!0,lt(Ge,`RPC '${e}' stream ${o} transport closed`),B.Ko())}),$(w,Jl.EventType.ERROR,q=>{V||(V=!0,Is(Ge,`RPC '${e}' stream ${o} transport errored:`,q),B.Ko(new mt(W.UNAVAILABLE,"The operation could not be completed")))}),$(w,Jl.EventType.MESSAGE,q=>{var X;if(!V){const nt=q.data[0];Ft(!!nt);const et=nt,vt=(et==null?void 0:et.error)||((X=et[0])===null||X===void 0?void 0:X.error);if(vt){lt(Ge,`RPC '${e}' stream ${o} received error:`,vt);const ht=vt.status;let wt=function(S){const D=pe[S];if(D!==void 0)return NE(D)}(ht),x=vt.message;wt===void 0&&(wt=W.INTERNAL,x="Unknown error status: "+ht+" with message "+vt.message),V=!0,B.Ko(new mt(wt,x)),w.close()}else lt(Ge,`RPC '${e}' stream ${o} received:`,nt),B.Uo(nt)}}),$(m,Zv.STAT_EVENT,q=>{q.stat===pd.PROXY?lt(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===pd.NOPROXY&&lt(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.$o()},0),B}}function sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r){return new Pw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="PersistentStream";class KE{constructor(e,i,s,o,c,d,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new QE(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(qi(i.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new mt(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return lt(B_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(lt(B_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xC extends KE{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=Bw(this.serializer,e),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?li(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Rd(this.serializer),i.addTarget=function(c,d){let m;const p=d.target;if(m=Ed(p)?{documents:Hw(c,p)}:{query:Fw(c,p).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=UE(c,d.resumeToken);const y=Ad(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){m.readTime=vc(c,d.snapshotVersion.toTimestamp());const y=Ad(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=Qw(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Rd(this.serializer),i.removeTarget=e,this.I_(i)}}class UC extends KE{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=qw(e.writeResults,e.commitTime),s=li(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Rd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>jw(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{}class PC extends LC{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,Sd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(W.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(e,Sd(i,s),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(W.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(qi(i),this.N_=!1):lt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class kC{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ma(this)&&(lt(Ia,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await To(y),y.j_.set("Unknown"),y.W_.delete(4),await Bc(y)}(this))})}),this.j_=new zC(s,o)}}async function Bc(r){if(Ma(r))for(const e of r.G_)await e(!0)}async function To(r){for(const e of r.G_)await e(!1)}function YE(r,e){const i=At(r);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),fm(i)?hm(i):qs(i).c_()&&cm(i,e))}function um(r,e){const i=At(r),s=qs(i);i.U_.delete(e),s.c_()&&$E(i,e),i.U_.size===0&&(s.c_()?s.P_():Ma(i)&&i.j_.set("Unknown"))}function cm(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}qs(r).y_(e)}function $E(r,e){r.H_.Ne(e),qs(r).w_(e)}function hm(r){r.H_=new Mw({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),qs(r).start(),r.j_.B_()}function fm(r){return Ma(r)&&!qs(r).u_()&&r.U_.size>0}function Ma(r){return At(r).W_.size===0}function XE(r){r.H_=void 0}async function BC(r){r.j_.set("Online")}async function jC(r){r.U_.forEach((e,i)=>{cm(r,e)})}async function qC(r,e){XE(r),fm(r)?(r.j_.q_(e),hm(r)):r.j_.set("Unknown")}async function HC(r,e,i){if(r.j_.set("Online"),e instanceof xE&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){lt(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Tc(r,s)}else if(e instanceof rc?r.H_.We(e):e instanceof ME?r.H_.Ze(e):r.H_.je(e),!i.isEqual(Et.min()))try{const s=await GE(r.localStore);i.compareTo(s)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.U_.get(y);T&&c.U_.set(y,T.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const T=c.U_.get(p);if(!T)return;c.U_.set(p,T.withResumeToken(je.EMPTY_BYTE_STRING,T.snapshotVersion)),$E(c,p);const w=new Cr(T.target,p,y,T.sequenceNumber);cm(c,w)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){lt(Ia,"Failed to raise snapshot:",s),await Tc(r,s)}}async function Tc(r,e,i){if(!js(e))throw e;r.W_.add(1),await To(r),r.j_.set("Offline"),i||(i=()=>GE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(Ia,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Bc(r)})}function ZE(r,e){return e().catch(i=>Tc(r,i,e))}async function jc(r){const e=At(r),i=kr(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Xd;for(;FC(e);)try{const o=await RC(e.localStore,s);if(o===null){e.K_.length===0&&i.P_();break}s=o.batchId,GC(e,o)}catch(o){await Tc(e,o)}WE(e)&&JE(e)}function FC(r){return Ma(r)&&r.K_.length<10}function GC(r,e){r.K_.push(e);const i=kr(r);i.c_()&&i.S_&&i.b_(e.mutations)}function WE(r){return Ma(r)&&!kr(r).u_()&&r.K_.length>0}function JE(r){kr(r).start()}async function QC(r){kr(r).C_()}async function KC(r){const e=kr(r);for(const i of r.K_)e.b_(i.mutations)}async function YC(r,e,i){const s=r.K_.shift(),o=nm.from(s,e,i);await ZE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await jc(r)}async function $C(r,e){e&&kr(r).S_&&await async function(s,o){if(function(d){return Vw(d)&&d!==W.ABORTED}(o.code)){const c=s.K_.shift();kr(s).h_(),await ZE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await jc(s)}}(r,e),WE(r)&&JE(r)}async function j_(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),lt(Ia,"RemoteStore received new credentials");const s=Ma(i);i.W_.add(3),await To(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Bc(i)}async function XC(r,e){const i=At(r);e?(i.W_.delete(2),await Bc(i)):e||(i.W_.add(2),await To(i),i.j_.set("Unknown"))}function qs(r){return r.J_||(r.J_=function(i,s,o){const c=At(i);return c.M_(),new xC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:BC.bind(null,r),No:jC.bind(null,r),Lo:qC.bind(null,r),p_:HC.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),fm(r)?hm(r):r.j_.set("Unknown")):(await r.J_.stop(),XE(r))})),r.J_}function kr(r){return r.Y_||(r.Y_=function(i,s,o){const c=At(i);return c.M_(),new UC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:QC.bind(null,r),Lo:$C.bind(null,r),D_:KC.bind(null,r),v_:YC.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await jc(r)):(await r.Y_.stop(),r.K_.length>0&&(lt(Ia,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,m=new dm(e,i,d,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(r,e){if(qi("AsyncQueue",`${e}: ${r}`),js(r))return new mt(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(e){return new Ds(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=to(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.Z_=new ne(gt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class xs{constructor(e,i,s,o,c,d,m,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(m=>{d.push({type:0,doc:m})}),new xs(e,i,Ds.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class WC{constructor(){this.queries=H_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=H_(),c.forEach((d,m)=>{for(const p of m.ta)p.onError(s)})})(this,new mt(W.ABORTED,"Firestore shutting down"))}}function H_(){return new Oa(r=>vE(r),xc)}async function JC(r,e){const i=At(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new ZC,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const m=mm(d,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&gm(i)}async function t2(r,e){const i=At(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function e2(r,e){const i=At(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const m of d.ta)m.oa(o)&&(s=!0);d.ea=o}}s&&gm(i)}function n2(r,e,i){const s=At(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function gm(r){r.ia.forEach(e=>{e.next()})}var Dd,F_;(F_=Dd||(Dd={}))._a="default",F_.Cache="cache";class i2{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Dd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.key=e}}class e0{constructor(e){this.key=e}}class r2{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=EE(e),this.wa=new Ds(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new q_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const I=o.get(T),V=Uc(this.query,w)?w:null,B=!!I&&this.mutatedKeys.has(I.key),$=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let q=!1;I&&V?I.data.isEqual(V.data)?B!==$&&(s.track({type:3,doc:V}),q=!0):this.va(I,V)||(s.track({type:2,doc:V}),q=!0,(p&&this.ya(V,p)>0||y&&this.ya(V,y)<0)&&(m=!0)):!I&&V?(s.track({type:0,doc:V}),q=!0):I&&!V&&(s.track({type:1,doc:I}),q=!0,(p||y)&&(m=!0)),q&&(V?(d=d.add(V),c=$?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:m,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,w)=>function(V,B){const $=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return $(V)-$(B)}(T.type,w.type)||this.ya(T.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new xs(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new q_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new e0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new t0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Vt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return xs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pm="SyncEngine";class a2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class s2{constructor(e){this.key=e,this.Ba=!1}}class l2{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Oa(m=>vE(m),xc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(gt.comparator),this.Ka=new Map,this.Ua=new am,this.Wa={},this.Ga=new Map,this.za=Ms.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function o2(r,e,i=!0){const s=l0(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await n0(s,e,i,!0),o}async function u2(r,e){const i=l0(r);await n0(i,e,!0,!1)}async function n0(r,e,i,s){const o=await wC(r.localStore,si(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await c2(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&YE(r.remoteStore,o),m}async function c2(r,e,i,s,o){r.Ha=(w,I,V)=>async function($,q,X,nt){let et=q.view.ba(X);et.ls&&(et=await L_($.localStore,q.query,!1).then(({documents:x})=>q.view.ba(x,et)));const vt=nt&&nt.targetChanges.get(q.targetId),ht=nt&&nt.targetMismatches.get(q.targetId)!=null,wt=q.view.applyChanges(et,$.isPrimaryClient,vt,ht);return Q_($,q.targetId,wt.Ma),wt.snapshot}(r,w,I,V);const c=await L_(r.localStore,e,!0),d=new r2(e,c.gs),m=d.ba(c.documents),p=Eo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(m,r.isPrimaryClient,p);Q_(r,i,y.Ma);const T=new a2(e,i,d);return r.ka.set(e,T),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),y.snapshot}async function h2(r,e,i){const s=At(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!xc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&um(s.remoteStore,o.targetId),Id(s,o.targetId)}).catch(Bs)):(Id(s,o.targetId),await wd(s.localStore,o.targetId,!0))}async function f2(r,e){const i=At(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),um(i.remoteStore,s.targetId))}async function d2(r,e,i){const s=E2(r);try{const o=await function(d,m){const p=At(d),y=Re.now(),T=m.reduce((V,B)=>V.add(B.key),Vt());let w,I;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let B=Hi(),$=Vt();return p.ds.getEntries(V,T).next(q=>{B=q,B.forEach((X,nt)=>{nt.isValidDocument()||($=$.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,B)).next(q=>{w=q;const X=[];for(const nt of m){const et=Rw(nt,w.get(nt.key).overlayedDocument);et!=null&&X.push(new Na(nt.key,et,hE(et.value.mapValue),ki.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,X,m)}).next(q=>{I=q;const X=q.applyToLocalDocumentSet(w,$);return p.documentOverlayCache.saveOverlays(V,q.batchId,X)})}).then(()=>({batchId:I.batchId,changes:AE(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ne(Nt)),y=y.insert(m,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await Ao(s,o.changes),await jc(s.remoteStore)}catch(o){const c=mm(o,"Failed to persist write");i.reject(c)}}async function i0(r,e){const i=At(r);try{const s=await SC(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ka.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Ft(d.Ba):o.removedDocuments.size>0&&(Ft(d.Ba),d.Ba=!1))}),await Ao(i,s,e)}catch(s){await Bs(s)}}function G_(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const m=d.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=At(d);p.onlineState=m;let y=!1;p.queries.forEach((T,w)=>{for(const I of w.ta)I.sa(m)&&(y=!0)}),y&&gm(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function m2(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ka.get(e),c=o&&o.key;if(c){let d=new ne(gt.comparator);d=d.insert(c,Ke.newNoDocument(c,Et.min()));const m=Vt().add(c),p=new zc(Et.min(),new Map,new ne(Nt),d,m);await i0(s,p),s.$a=s.$a.remove(c),s.Ka.delete(e),ym(s)}else await wd(s.localStore,e,!1).then(()=>Id(s,e,i)).catch(Bs)}async function g2(r,e){const i=At(r),s=e.batch.batchId;try{const o=await AC(i.localStore,e);a0(i,s,null),r0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ao(i,o)}catch(o){await Bs(o)}}async function p2(r,e,i){const s=At(r);try{const o=await function(d,m){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(Ft(w!==null),T=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);a0(s,e,i),r0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Ao(s,o)}catch(o){await Bs(o)}}function r0(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function a0(r,e,i){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Id(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||s0(r,s)})}function s0(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(um(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ka.delete(i),ym(r))}function Q_(r,e,i){for(const s of i)s instanceof t0?(r.Ua.addReference(s.key,e),y2(r,s)):s instanceof e0?(lt(pm,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||s0(r,s.key)):_t()}function y2(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(lt(pm,"New document in limbo: "+i),r.Qa.add(s),ym(r))}function ym(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new gt(Zt.fromString(e)),s=r.za.next();r.Ka.set(s,new s2(i)),r.$a=r.$a.insert(i,s),YE(r.remoteStore,new Cr(si(_E(i.path)),s,"TargetPurposeLimboResolution",Vc.ae))}}async function Ao(r,e,i){const s=At(r),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{d.push(s.Ha(p,e,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const w=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=lm.Yi(p.targetId,y);c.push(w)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Y.forEach(y,I=>Y.forEach(I.Hi,V=>T.persistence.referenceDelegate.addReference(w,I.targetId,V)).next(()=>Y.forEach(I.Ji,V=>T.persistence.referenceDelegate.removeReference(w,I.targetId,V)))))}catch(w){if(!js(w))throw w;lt(om,"Failed to update sequence numbers: "+w)}for(const w of y){const I=w.targetId;if(!w.fromCache){const V=T.Ts.get(I),B=V.snapshotVersion,$=V.withLastLimboFreeSnapshotVersion(B);T.Ts=T.Ts.insert(I,$)}}}(s.localStore,c))}async function _2(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){lt(pm,"User change. New user:",e.toKey());const s=await FE(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new mt(W.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ao(i,s.Rs)}}function v2(r,e){const i=At(r),s=i.Ka.get(e);if(s&&s.Ba)return Vt().add(s.key);{let o=Vt();const c=i.qa.get(e);if(!c)return o;for(const d of c){const m=i.ka.get(d);o=o.unionWith(m.view.Sa)}return o}}function l0(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=i0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m2.bind(null,e),e.La.p_=e2.bind(null,e.eventManager),e.La.Ja=n2.bind(null,e.eventManager),e}function E2(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p2.bind(null,e),e}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return TC(this.persistence,new _C,e.initialUser,this.serializer)}Xa(e){return new HE(sm.ri,this.serializer)}Za(e){return new DC}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class T2 extends Ac{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ft(this.persistence.referenceDelegate instanceof Ec);const s=this.persistence.referenceDelegate.garbageCollector;return new iC(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new HE(s=>Ec.ri(s,i),this.serializer)}}class Vd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>G_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_2.bind(null,this.syncEngine),await XC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WC}()}createDatastore(e){const i=kc(e.databaseInfo.databaseId),s=function(c){return new MC(c)}(e.databaseInfo);return function(c,d,m,p){return new PC(c,d,m,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,m){return new kC(s,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,i=>G_(this.syncEngine,i,0),function(){return k_.D()?new k_:new IC}())}createSyncEngine(e,i){return function(o,c,d,m,p,y,T){const w=new l2(o,c,d,m,p,y);return T&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=At(o);lt(Ia,"RemoteStore shutting down."),c.W_.add(5),await To(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Vd.provider={build:()=>new Vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class S2{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=eE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{lt(Br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(Br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=mm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ld(r,e){r.asyncQueue.verifyOperationInProgress(),lt(Br,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await FE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function K_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await b2(r);lt(Br,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>j_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>j_(e.remoteStore,o)),r._onlineComponents=e}async function b2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Br,"Using user provided OfflineComponentProvider");try{await ld(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Is("Error using user provided cache. Falling back to memory cache: "+i),await ld(r,new Ac)}}else lt(Br,"Using default OfflineComponentProvider"),await ld(r,new T2(void 0));return r._offlineComponents}async function o0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Br,"Using user provided OnlineComponentProvider"),await K_(r,r._uninitializedComponentsProvider._online)):(lt(Br,"Using default OnlineComponentProvider"),await K_(r,new Vd))),r._onlineComponents}function R2(r){return o0(r).then(e=>e.syncEngine)}async function w2(r){const e=await o0(r),i=e.eventManager;return i.onListen=o2.bind(null,e.syncEngine),i.onUnlisten=h2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=u2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=f2.bind(null,e.syncEngine),i}function C2(r,e,i={}){const s=new Or;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const T=new A2({next:I=>{T.su(),d.enqueueAndForget(()=>t2(c,w)),I.fromCache&&p.source==="server"?y.reject(new mt(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new i2(m,T,{includeMetadataChanges:!0,Ta:!0});return JC(c,w)}(await w2(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(r,e,i){if(!i)throw new mt(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function D2(r,e,i,s){if(e===!0&&s===!0)throw new mt(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function $_(r){if(!gt.isDocumentKey(r))throw new mt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function X_(r){if(gt.isDocumentKey(r))throw new mt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _m(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t()}function Sc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new mt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_m(r);throw new mt(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="firestore.googleapis.com",Z_=!0;class W_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new mt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h0,this.ssl=Z_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Z_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eC)throw new mt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new mt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new O1;switch(s.type){case"firstParty":return new U1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Y_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),Y_.delete(i),s.terminate())}(this),Promise.resolve()}}function I2(r,e,i,s={}){var o;const c=(r=Sc(r,qc))._getSettings(),d=`${e}:${i}`;if(c.host!==h0&&c.host!==d&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Qe.MOCK_USER;else{m=qS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new mt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(y)}r._authCredentials=new N1(new tE(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Hc(this.firestore,e,this._query)}}class kn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Nr extends Hc{constructor(e,i,s){super(e,i,_E(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new gt(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function f0(r,e,...i){if(r=Ra(r),c0("collection","path",e),r instanceof qc){const s=Zt.fromString(e,...i);return X_(s),new Nr(r,null,s)}{if(!(r instanceof kn||r instanceof Nr))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return X_(s),new Nr(r.firestore,null,s)}}function V2(r,e,...i){if(r=Ra(r),arguments.length===1&&(e=eE.newId()),c0("doc","path",e),r instanceof qc){const s=Zt.fromString(e,...i);return $_(s),new kn(r,null,new gt(s))}{if(!(r instanceof kn||r instanceof Nr))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return $_(s),new kn(r.firestore,r instanceof Nr?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="AsyncQueue";class tv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new QE(this,"async_queue_retry"),this.Su=()=>{const s=sd();s&&lt(J_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=sd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=sd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Or;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!js(e))throw e;lt(J_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=dm.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class vm extends qc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new tv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tv(e),this._firestoreClient=void 0,await e}}}function O2(r,e){const i=typeof r=="object"?r:Sv(),s=typeof r=="string"?r:dc,o=_o(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=BS("firestore");c&&I2(o,...c)}return o}function d0(r){if(r._terminated)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||N2(r),r._firestoreClient}function N2(r){var e,i,s;const o=r._freezeSettings(),c=function(m,p,y,T){return new $1(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,u0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new S2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(je.fromBase64String(e))}catch(i){throw new mt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Us(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new mt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new mt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new mt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=/^__.*__$/;class x2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Na(e,this.data,this.fieldMask,i,this.fieldTransforms):new vo(e,this.data,i,this.fieldTransforms)}}function g0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class Sm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(g0(this.Lu)&&M2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class U2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||kc(e)}ju(e,i,s,o=!1){return new Sm({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L2(r){const e=r._freezeSettings(),i=kc(r._databaseId);return new U2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function P2(r,e,i,s,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,e,i,o);v0("Data must be an object, but it was:",d,s);const m=y0(s,d);let p,y;if(c.merge)p=new zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const I=z2(e,w,i);if(!d.contains(I))throw new mt(W.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);B2(T,I)||T.push(I)}p=new zn(T),y=d.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=d.fieldTransforms;return new x2(new On(m),p,y)}function p0(r,e){if(_0(r=Ra(r)))return v0("Unsupported field value:",e,r),y0(r,e);if(r instanceof m0)return function(s,o){if(!g0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const m of s){let p=p0(m,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=Ra(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Re.fromDate(s);return{timestampValue:vc(o.serializer,c)}}if(s instanceof Re){const c=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vc(o.serializer,c)}}if(s instanceof Tm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Us)return{bytesValue:UE(o.serializer,s._byteString)};if(s instanceof kn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:rm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Am)return function(d,m){return{mapValue:{fields:{[uE]:{stringValue:cE},[mc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return em(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${_m(s)}`)}(r,e)}function y0(r,e){const i={};return iE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(r,(s,o)=>{const c=p0(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function _0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof Tm||r instanceof Us||r instanceof kn||r instanceof m0||r instanceof Am)}function v0(r,e,i){if(!_0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=_m(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function z2(r,e,i){if((e=Ra(e))instanceof Em)return e._internalPath;if(typeof e=="string")return E0(r,e);throw bc("Field path arguments must be of type string or ",r,!1,void 0,i)}const k2=new RegExp("[~\\*/\\[\\]]");function E0(r,e,i){if(e.search(k2)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Em(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function bc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new mt(W.INVALID_ARGUMENT,m+r+p)}function B2(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(A0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class j2 extends T0{data(){return super.data()}}function A0(r,e){return typeof e=="string"?E0(r,e):e instanceof Em?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H2{convertValue(e,i="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Va(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[mc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ce(d.doubleValue));return new Am(c)}convertGeoPoint(e){return new Tm(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Nc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const i=Lr(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Ft(jE(s));const o=new ho(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||qi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class G2 extends T0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(A0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ac extends G2{data(e={}){return super.data(e)}}class Q2{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Xu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new ac(this._firestore,this._userDataWriter,s.key,s,new Xu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new ac(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new ac(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:K2(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function K2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class Y2 extends H2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,i)}}function $2(r){r=Sc(r,Hc);const e=Sc(r.firestore,vm),i=d0(e),s=new Y2(e);return q2(r._query),C2(i,r._query).then(o=>new Q2(e,s,r,o))}function X2(r,e){const i=Sc(r.firestore,vm),s=V2(r),o=F2(r.converter,e);return Z2(i,[P2(L2(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ki.exists(!1))]).then(()=>s)}function Z2(r,e){return function(s,o){const c=new Or;return s.asyncQueue.enqueueAndForget(async()=>d2(await R2(s),o,c)),c.promise}(d0(r),e)}(function(e,i=!0){(function(o){ks=o})(Jb),xr(new Bi("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new vm(new M1(s.getProvider("auth-internal")),new L1(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(y.options.projectId,T)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),ai(l_,o_,e),ai(l_,o_,"esm2017")})();const W2={apiKey:"AIzaSyCEtQejYSNaw3uKBBmPrkEPiWglxkpjqp4",authDomain:"formulariorole.firebaseapp.com",projectId:"formulariorole",storageBucket:"formulariorole.firebasestorage.app",messagingSenderId:"748259831700",appId:"1:748259831700:web:9e28b9fc2ce3d8c22c2981",measurementId:"G-RRRFG0JVM5"},S0=Av(W2);C1(S0);const b0=O2(S0);function J2(){const[r,e]=Q.useState(""),[i,s]=Q.useState(""),[o,c]=Q.useState(""),[d,m]=Q.useState(""),[p,y]=Q.useState(""),[T,w]=Q.useState(""),I=async V=>{V.preventDefault();try{await X2(f0(b0,"clientes"),{nome:r,email:i,telefone:o,cidade:d,cpf:p,senha:T}),e(""),s(""),c(""),m(""),y(""),w(""),alert("Cliente cadastrado com sucesso!")}catch(B){console.error("Erro ao cadastrar cliente: ",B),alert("Erro ao cadastrar cliente. Tente novamente.")}};return tt.jsxs("form",{onSubmit:I,children:[tt.jsx("label",{htmlFor:"nome",children:"Nome:"}),tt.jsx("input",{type:"text",id:"nome",value:r,onChange:V=>e(V.target.value),required:!0}),tt.jsx("label",{htmlFor:"email",children:"Email:"}),tt.jsx("input",{type:"email",id:"email",value:i,onChange:V=>s(V.target.value),required:!0}),tt.jsx("label",{htmlFor:"telefone",children:"Telefone:"}),tt.jsx("input",{type:"tel",id:"telefone",value:o,onChange:V=>c(V.target.value),required:!0}),"cidade, cpf, senha",tt.jsx("label",{htmlFor:"cpf",children:"CPF:"}),tt.jsx("input",{type:"text",id:"cpf",value:p,onChange:V=>y(V.target.value),required:!0}),tt.jsx("label",{htmlFor:"cidade",children:"Cidade:"}),tt.jsx("input",{type:"text",id:"cidade",value:d,onChange:V=>m(V.target.value),required:!0}),tt.jsx("label",{htmlFor:"senha",children:"Senha:"}),tt.jsx("input",{type:"password",id:"senha",value:T,onChange:V=>w(V.target.value),required:!0}),tt.jsx("button",{type:"submit",children:"Cadastrar"})]})}const tD=()=>tt.jsxs("div",{children:[tt.jsx("h1",{children:"Cadastro"}),tt.jsx(J2,{})]}),eD=({product:r})=>{const{nome:e,ingredientes:i,valor:s,imagem:o}=r,c=()=>{alert("Produto comprado")};return tt.jsxs("div",{className:"product-card",children:[tt.jsx("div",{className:"product-image",children:tt.jsx("img",{src:o,alt:e})}),tt.jsxs("div",{className:"product-details",children:[tt.jsx("h2",{className:"product-title",children:e}),tt.jsx("p",{className:"product-ingredients",children:i}),tt.jsxs("div",{className:"product-footer",children:[tt.jsxs("span",{className:"product-price",children:["R$ ",s.toFixed(2)]}),tt.jsx("button",{className:"buy-button",onClick:c,children:"Comprar"})]})]})]})},nD=()=>{const[r,e]=Q.useState([]);return Q.useEffect(()=>{(async()=>{const s=f0(b0,"products"),c=(await $2(s)).docs.map(d=>d.data());e(c)})()},[]),tt.jsx("div",{className:"product-list",children:r.map((i,s)=>tt.jsx(eD,{product:i},s))})},iD=()=>tt.jsxs("div",{className:"cardapio",children:[tt.jsx("h1",{children:"Cardápio"}),tt.jsx(nD,{})]}),rD=()=>tt.jsxs("div",{children:[tt.jsx("h1",{children:"Aqui estarão os seus produtos"}),tt.jsx("p",{children:"Tela de exibição de produtos em desenvolvimento..."})]}),aD=()=>tt.jsxs("div",{children:[tt.jsx("h1",{children:"Lista de Compras"}),tt.jsx(rD,{})]}),sD=()=>tt.jsxs("div",{children:[tt.jsx("h1",{children:"Aqui você insere valores"}),tt.jsx("p",{children:"Componente de controle financeiro, inserção e retirada de valores na plattaforma"})]}),lD=()=>tt.jsxs("div",{children:[tt.jsx("h1",{children:"Carteira Virtual"}),tt.jsx(sD,{})]}),oD=()=>{const[r,e]=Q.useState(""),[i,s]=Q.useState(""),o=Ud(),c=d=>{d.preventDefault(),r==="usuario"&&i==="senha"?o("/cadastro"):alert("Usuário ou senha incorretos.")};return tt.jsxs("form",{onSubmit:c,children:[tt.jsx("label",{htmlFor:"username",children:"Usuário:"}),tt.jsx("input",{type:"text",id:"username",value:r,onChange:d=>e(d.target.value),required:!0}),tt.jsx("label",{htmlFor:"password",children:"Senha:"}),tt.jsx("input",{type:"password",id:"password",value:i,onChange:d=>s(d.target.value),required:!0}),tt.jsx("button",{type:"submit",children:"Entrar"}),tt.jsxs("p",{children:["Ainda não tem cadastro? ",tt.jsx("a",{href:"/cadastro",children:"Cadastre-se"})]})]})},uD=()=>tt.jsxs("div",{children:[tt.jsx("h1",{children:"Página Principal"}),tt.jsx(oD,{})]}),Zu=({to:r,children:e})=>tt.jsx(Bd,{to:r,children:tt.jsx("button",{children:e})}),Wl=()=>tt.jsxs("nav",{children:[tt.jsx(Zu,{to:"/home",children:"Home"}),tt.jsx(Zu,{to:"/cardapio",children:"Cardápio"}),tt.jsx(Zu,{to:"/pix",children:"PIX"}),tt.jsx(Zu,{to:"/comanda",children:"Comanda"})]}),cD=()=>tt.jsxs(ZA,{children:[tt.jsx(Ta,{path:"/",element:tt.jsx($A,{to:"/home"})}),tt.jsx(Ta,{path:"/home",element:tt.jsxs(tt.Fragment,{children:[tt.jsx(Wl,{}),tt.jsx(uD,{})]})})," ",tt.jsx(Ta,{path:"/cadastro",element:tt.jsxs(tt.Fragment,{children:[tt.jsx(Wl,{}),tt.jsx(tD,{})]})})," ",tt.jsx(Ta,{path:"/cardapio",element:tt.jsxs(tt.Fragment,{children:[tt.jsx(Wl,{}),tt.jsx(iD,{})]})})," ",tt.jsx(Ta,{path:"/comanda",element:tt.jsxs(tt.Fragment,{children:[tt.jsx(Wl,{}),tt.jsx(aD,{})]})})," ",tt.jsx(Ta,{path:"/pix",element:tt.jsxs(tt.Fragment,{children:[tt.jsx(Wl,{}),tt.jsx(lD,{})]})})," "]});sA.createRoot(document.getElementById("root")).render(tt.jsx(JT.StrictMode,{children:tt.jsx(TS,{children:tt.jsx(cD,{})})}));
